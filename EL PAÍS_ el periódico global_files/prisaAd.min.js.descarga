"undefined"==typeof mm_publi_compilation&&(mm_publi_compilation="20-07-2021 13:02:57",function(e){null==e.emic&&(e.emic={}),null==e.emic.publicidad&&(e.emic.publicidad={}),null==e.emic.publicidad.events&&(e.emic.publicidad.events={}),null==e.emic.publicidad.controllers&&(e.emic.publicidad.controllers={}),e.emic.publicidad.debug=!1,-1!=e.location.href.indexOf("debug")&&(e.emic.publicidad.debug=!0)}(window),function(e){function t(e){psd.framework.Event.call(this,e),this.data={}}t.prototype=new psd.framework.Event,t.MANAGER_READY="managerReady",t.MANAGER_INIT_ERROR="managerInitError",t.PUBLI_STARTED="publiStarted",t.PUBLI_PAUSED="publiPaused",t.PUBLI_RESUMED="publiResumed",t.PUBLI_ENDED="publiEnded",t.PUBLI_SKIPPED="publiSkipped",t.ALL_PUBLI_ENDED="allPubliEnded",t.PUBLI_LOADED="publiLoaded",t.PUBLI_ERROR="publiErrors",t.PUBLI_MODEL_COMPLETE="publiModelComplete",t.PUBLI_MODEL_ERROR="publiModelError",t.CONTENT_PAUSE_REQUESTED="contentPauseRequested",t.CONTENT_RESUME_REQUESTED="contentResumeRequested",t.CONTROLLER_LOADED="controllerLoaded",this.data={},e.PubliEvent=t}(emic.publicidad.events),function(e){function s(e){var l=this;this.manager=null,this.doTAP=!1,psd.framework.EventDispatcher.call(this),this.className="emic.publicidad.PubliModel",s.POSICION_PREROLL_HTML5="prerollHtml5",s.POSICION_PREROLL_FLASH="prerollFlash",s.POSICION_POSTROLL_HTML5="postrollHtml5",s.POSICION_POSTROLL_FLASH="postrollFlash",s.TAG_POSITION_PREROLL="pre",s.TAG_POSITION_POSTROLL="post",s.IMA3FLASHCONTROLLER="IMA3FlashController",s.IMA3HTML5CONTROLLER="IMA3HTML5Controller",CODE_NUM_PARSER_OK=0,CODE_NUM_PARSER_ERROR=1;var c,t,u,i=e;this.init=function(){var e=new psd.framework.parser.JSONParser;(t=new psd.framework.Mediator).corsIE(!0),t.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,n,this),t.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,a,this),t.mediate(i,e,psd.framework.Mediator.RESPONSE_JSON)};var n=function(e){e.result.parserResult.code==CODE_NUM_PARSER_OK?(u=e.result.parserResult.result,"undefined"!=typeof mm_force_tap&&(this.doTAP=!0,this.manager.forced=!0),void 0!==u.isTAP&&null!=u.isTAP&&""!=u.isTAP&&(this.manager.doTAP=!0,u.isTAP.force&&(this.doTAP=!0,this.manager.forced=!0)),this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE))):e.result.parserResult.code==CODE_NUM_PARSER_ERROR&&this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR))},a=function(e){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR))};this.generateUrlTAP=function(e,t,i){if(l.manager.refer="tap",i.mediaData.isLive||"audio/mp3"!=i.mediaData.mimetype)return"";psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::XXX generamos la url de TAP"),this.manager._VAST=void 0,this.manager.loadedTAP=!1;var n=null;if(i.mediaData&&void 0!==i.mediaData.station_id&&i.mediaData.station_id&&(n=i.mediaData.station_id),psdgetgetpsd("demotap")&&(n=167083),n){var a=u.isTAP.url+"?type="+e+"&fmt=vast&banners=none&stid="+n+"&version=1.6.1";"undefined"!=typeof mm_lsid&&(a+="&lsid="+mm_lsid);var s="";if("undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.consent&&(s=PBS.slm.cf.consent),a+="&gdpr=1&gdpr_consent="+s,"undefined"!=typeof mm_tap_banners&&(a=a.replace("banners=none",mm_tap_banners)),"undefined"!=typeof mm_ttag_val&&(a+="&ttag="+mm_ttag_val),psdgetgetpsd("mm_AdServerTap")&&(window.mm_AdServerTap=psdgetgetpsd("mm_AdServerTap")),"undefined"!=typeof mm_AdServerTap)switch(mm_AdServerTap){case"google":return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=";case"tap1":return"https://od-spy.live.streamtheworld.com/ondemand/ars?stid=31613&type=preroll&scenario=vast-multiple-media";case"tap2":return"https://od-spy.live.streamtheworld.com/ondemand/ars?stid=31613&type=preroll&scenario=vast-wrapper";case"tap3":return"https://od-spy.live.streamtheworld.com/ondemand/ars?stid=31613&type=preroll&scenario=vast-no-ad"}return a}return""},this.getUrlByPos=function(e,t,i){var n;c=e;var a=i,s="";if(l.doTAP&&void 0!==u.isTAP&&null!=u.isTAP&&""!=u.isTAP&&l.manager.forced)return this.manager.forced=!1,this.manager.cercenar=!0,this.generateUrlTAP(e,t,i);if(u.adUnitCustom,a.mediaData,""!=a.mediaData.un_creacion){var d=[a.mediaData.un_creacion,a.mediaData.portal_creacion,a.mediaData.seccion_creacion],o=function(e){var t=e.join("_");if(0==e.length)return"";var i=0,n="";for(var a in u.adUnitCustom)-1<a.indexOf(t)&&(i++,n=a);return 1==i?u.adUnitCustom[n]:(e.pop(),o(e))};s=o(d)}if(void 0!==u.position[e]){try{_request=u.position[e].request,_returnUrl=u.request[_request].src+"?";var r={};for(j in u.request[_request].vars)r[j]=u.request[_request].vars[j];for(n in r)if(""!=s&&"iu"==n&&(r[n]=s),(r[n]+"").match(/\$VARS/)){for(j in _fields=(r[n]+"").match(/\[[.]*[^\[]*\]/g),_fields)_field=_fields[j].replace("[","").replace("]",""),r[n]=r[n].replace("$VARS["+_field+"]",t[_field]);"?"!=_returnUrl.slice(-1)&&(_returnUrl+="&"),_returnUrl+=n+"="+encodeURIComponent(r[n])}else(r[n]+"").match(/\$RANDOM/)?("?"!=_returnUrl.slice(-1)&&(_returnUrl+="&"),_returnUrl+=n+"="+(1e10*(Math.random()+1)%1e10|0)):("?"!=_returnUrl.slice(-1)&&(_returnUrl+="&"),_returnUrl+=n+"="+encodeURIComponent(r[n]))}catch(e){return}return _returnUrl}},this.getControllerByPos=function(e){if(void 0!==u.position[e])try{_request=u.position[e].request,_responseController=u.request[_request].responseController,_responseController}catch(e){return}return _responseController},this.getCarcasaByPos=function(e){if(void 0!==u.position[e]&&void 0!==u.position[e].carcasa)return u.carcasa[u.position[e].carcasa]},this.getCurrentPosition=function(){return c}}s.prototype=new psd.framework.EventDispatcher,s.loadDomDependence=function(e,t,i,n){var a,s,d;a=document.getElementsByTagName("head")[0],(s=document.createElement("script")).type="text/javascript",d=function(){t.apply(n)},defCompleteError=function(){i.apply(n)},0<=navigator.appName.indexOf("Microsoft")?s.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(d(),s.onreadystatechange=null)}:(s.onload=d,s.onerror=defCompleteError),s.src=e,a.appendChild(s)},e.PubliModel=s}(emic.publicidad),function(e){function t(){t.CONTROLLER_IMA3_FLASH="ima3_flash",t.CONTROLLER_IMA3_HTML5="ima3_html5",t.CONTROLLER_IMA3="ima3",psd.framework.EventDispatcher.call(this),this.className="emic.publicidad.PubliManager";var u,a,s,d,n,o,p,m,r,l,e,E,v,b,c,h,f,P,_,g=this,T={},y=-1;APIFRAMEWORK_VPAID="VPAID",this.doTAP=!1,this.forced=!1,this.loadedTAP=!1,this.primera=!0,this.premute=!1,this.start=function(e,t,i,n){f="basePubli_"+i,h="publi_"+i,d=t,s=document.getElementById(e),c=document.createElement("div"),s.appendChild(c),c.setAttribute("id",f),c.setAttribute("class","commonmm_baseExpand"),a=document.createElement("div"),c.appendChild(a),a.setAttribute("id",h),a.setAttribute("class","commonmm_sonExpand_forceson"),l=n,r=i||99999999999*Math.random(),o=new emic.publicidad.controllers.PubliControllerFactory,(u=new emic.publicidad.PubliModel(d.urlConfPubli)).manager=this,u.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE,A,this),u.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR,A,this),u.init()},this.remainingTime=function(){return e={},p&&(e=p.remainingTime()),m&&(e=m.remainingTime()),e},this.resume=function(){p&&p.resume(),m&&m.resume()},this.pause=function(){p&&p.pause(),m&&m.pause()},this.setVolume=function(e){p&&p.setVolume(e),m&&m.setVolume(e)},this.kill=function(){p&&p.kill(),m&&m.kill()},this.closeAd=function(){p?p.closeAd():m&&m.closeAd()};var A=function(e){switch(e.type){case emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE:this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.MANAGER_READY));break;case emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR:this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.MANAGER_INIT_ERROR))}};this.updateContentPublisher=function(e,t){void 0!==p&&p.updateContentPublisher(e,t),void 0!==m&&m.updateContentPublisher(e,t)},this.preloadController=function(e){m||((m=o.getController(e)).premute=g.premute,m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_LOADED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_STARTED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_PAUSED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_RESUMED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ENDED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ERROR,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED,R,this),m.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,O,this),m.handled=!0),(m=o.getController(e)).premute=g.premute,m.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,O,this),d.objContentPublisher&&(m.objContentPublisher=d.objContentPublisher),m.init(h,d.width,d.height,r,l)},this.publiRandomTime=function(e){var t=e,i=Math.floor(Math.random()*t.length+1);return P=t[i-1]},this.paintCaratulaSkipPubli=function(e){return null==window.timeSkipPubli||""==window.timeSkipPubli||e.mediaData.duration/1e3<window.timeSkipPubli},this.notificaPubliOn=function(i,n,a){if(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::111 notificapublion"),T={position:i,vars:n,data:_=a},this.forced||this.cercenar)psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::222 forced -> TAP"),this.cercenar=!1,this.notificaPubliOn2(i,n,a),"function"!=typeof callbackToPlayer&&(window.callbackToPlayer=function(e,t){"string"==typeof e?(y=e.indexOf("hb_bidder=appnexus"),"undefined"!=typeof psdPlayerForAmazon&&psdPlayerForAmazon[t].callNotificaPubli("",e)):(y=e.keys.indexOf("hb_bidder=appnexus"),"undefined"!=typeof psdPlayerForAmazon&&psdPlayerForAmazon[d].callNotificaPubli("",e))});else if(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::333 no forced -> PBS"),this.refer="dfp","undefined"!=typeof PBS&&void 0!==PBS.axm&&void 0!==PBS.axm.d&&"function"==typeof PBS.axm.d.prebidVideoRequest){var s=this,d="psd_"+Math.floor(1e6*Math.random(10));void 0===window.psdPlayerForAmazon&&(window.psdPlayerForAmazon=[]),window.psdPlayerForAmazon[d]={callNotificaPubli:function(e,t){"string"==typeof t?(n.pTags+="&"+t,s.notificaPubliOn2(i,n,a)):n.paramPubli=t}},"function"!=typeof callbackToPlayer?window.callbackToPlayer=function(e,t){"string"==typeof e?(y=e.indexOf("hb_bidder=appnexus"),psdPlayerForAmazon[t].callNotificaPubli("",e)):(y=e.keys.indexOf("hb_bidder=appnexus"),psdPlayerForAmazon[d].callNotificaPubli("",e))}:void 0===window.psdCallbackToPlayer&&(window.psdCallbackToPlayer=callbackToPlayer,window.callbackToPlayer=function(e,t){"string"==typeof e?(y=e.indexOf("hb_bidder=appnexus"),"undefined"==typeof mm_noamazon&&"string"==typeof d&&0==d.search("psd_")?psdPlayerForAmazon[t].callNotificaPubli("",e):window.psdCallbackToPlayer(e,t)):(y=e.keys.indexOf("hb_bidder=appnexus"),"undefined"==typeof mm_noamazon&&"string"==typeof d&&0==d.search("psd_")?psdPlayerForAmazon[d].callNotificaPubli("",e):window.psdCallbackToPlayer(e,t))}),PBS.axm.d.prebidVideoRequest(d)}else this.notificaPubliOn2(i,n,a)},this.loadVAST=function(e){var t=new psd.framework.Parser,i=new psd.framework.Mediator;i.corsIE(!0),i.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,function(e){try{g._VAST=e.result.parserResult.result,g.loadedTAP=!0,psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::444 cargamos el VAST de tap y llamamos a notificapublion"),g.notificaPubliOn(T.position,T.vars,T.data)}catch(e){console.log(e)}},this),i.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,function(){g.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR))},this),i.mediate(e,t,psd.framework.Mediator.RESPONSE_XML)},this.notificaPubliOn2=function(e,t,i){return psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::555 notificapublion2"),""==(n=u.getUrlByPos(e,t,i))?(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log("::: errorrrrrrrrrrr de primeras"),void this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR))):g.doTAP&&!g.loadedTAP&&(g.forced||g.cercenar)?(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::ZZZ hay tap, no está cargado y está forzado"),void g.loadVAST(n)):(n=L(n),psdgetgetpsd("demotap2")&&n.indexOf("live.streamtheworld.com")<0&&(n=""),void 0!==window.mm_AdServer&&""!=window.mm_AdServer&&(n=mm_AdServer),void(m||void 0===n||""==n?m&&void 0!==n&&""!=n?m.loadPubli(n,this.refer):this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR)):((p=o.getController(u.getControllerByPos(e))).manager=this,g._VAST&&(p._VAST=g._VAST),p.premute=g.premute,p.handled||(p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_LOADED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_STARTED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_PAUSED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_RESUMED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ENDED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ERROR,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED,R,this),p.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,O,this),p.handled=!0),psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log("::: PUBLI CONTROLLER INITTTTT"),p.init(h,d.width,d.height,r,l))))};var L=function(e){if(void 0!==e)return-1!=e.indexOf("http")&&(e="//"+e.split("//")[1]),e},O=function(e){m?(m.removeEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,O,this),this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED))):p&&p.loadPubli(n,this.refer)},R=function(e){var t=!0;switch(e.type){case emic.publicidad.events.PubliEvent.PUBLI_ERROR:if(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::666 publierror"),void 0===g.refer&&(g.refer="dfp"),g.doTAP&&"dfp"==g.refer&&(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::777 hay tap, no está forzado y es la primera vez"),g.primera=!1,g.forced=!0,u.doTAP=!0,this.notificaPubliOn(T.position,T.vars,T.data),t=!1),void 0!==this._VAST&&"function"==typeof this._VAST.getElementsByClassName){var i=this._VAST.getElementsByTagName("Error");if(0<i.length){var n=i[0].innerHTML.replace("<![CDATA[","").replace("]]>","").trim();if(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::::::::::::::::::::::::Encontrado error dentro del VAST",n),n){var a=new psd.framework.Parser,s=new psd.framework.Mediator;s.corsIE(!0),s.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,function(e){try{psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log("::: Enviado error correctamente")}catch(e){console.log(e)}},this),s.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,function(){psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log("::: Error enviado error")},this),s.mediate(n,a,psd.framework.Mediator.RESPONSE_XML)}}}break;case emic.publicidad.events.PubliEvent.PUBLI_STARTED:if("undefined"!=typeof PBS&&void 0!==PBS.fn&&"function"==typeof PBS.fn.requestVideo){if(PBS.fn.requestVideo(T.data.genericData.id_player,T.data.mediaData.duration/1e3),0==e.data.skippable&&-1==e.data.name.indexOf("no_skip")&&void 0!==T.vars.paramPubli&&T.vars.paramPubli.skip&&"audio"!=e.data.contentType){var d=(c=String(e.data.name.match(/(custom_skip+\[)(.+)(\])/g))).indexOf("["),o=c.indexOf("]");if(-1!=d&&-1!=o){var r=c.substr(d+1,o-1-d);l=JSON.parse("["+r+"]")}var l=T.vars.paramPubli.duracion_skip;0==l&&(_.adData.adRandomTime="tskv_%position%_sin_skip"),v=u.getCarcasaByPos(u.getCurrentPosition())}}else if((e.data.apiFramework==APIFRAMEWORK_VPAID||0==e.data.skippable&&-1==e.data.name.indexOf("no_skip"))&&-1==y&&this.paintCaratulaSkipPubli(T.data)&&"audio"!=e.data.contentType)if(-1!=e.data.name.indexOf("custom_skip")){var c;l=[8,20,0],d=(c=String(e.data.name.match(/(custom_skip+\[)(.+)(\])/g))).indexOf("["),o=c.indexOf("]"),-1!=d&&-1!=o&&(r=c.substr(d+1,o-1-d),l=JSON.parse("["+r+"]")),0==this.publiRandomTime(l)?_.adData.adRandomTime="tskv_%position%_sin_skip":v=u.getCarcasaByPos(u.getCurrentPosition())}else v=u.getCarcasaByPos(u.getCurrentPosition());void 0!==v&&(void 0!==T.vars.paramPubli?void 0!==T.vars.paramPubli.duracion_skip&&(0==T.vars.paramPubli.duracion_skip?(v.segundosSalto=T.vars.paramPubli.duracion_skip,_.adData.adRandomTime="tskv_%position%_sin_skip"):(v.segundosSalto=T.vars.paramPubli.duracion_skip,_.adData.adRandomTime="tskv_%position%_"+T.vars.paramPubli.duracion_skip+"s")):void 0!==P&&(0==P?(v.segundosSalto=P,_.adData.adRandomTime="tskv_%position%_sin_skip"):(v.segundosSalto=P,_.adData.adRandomTime="tskv_%position%_"+P+"s")),void 0===E?((E=new emic.publicidad.Carcasa(v,f)).addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,R,this),E.init()):(E.setSecondsSkip(v.segundosSalto),E.setCarcasaVisible()),updateSkipPubli=function(){void 0!==p&&E.setProgress(Math.round(p.remainingTime().currentTime)-1,Math.round(p.remainingTime().totalTime)),void 0!==m&&E.setProgress(Math.round(m.remainingTime().currentTime)-1,Math.round(m.remainingTime().totalTime))},b=setInterval(updateSkipPubli,1e3));break;case emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED:case emic.publicidad.events.PubliEvent.PUBLI_ENDED:b&&clearInterval(b),void 0!==E&&E.reset_skip();break;case emic.publicidad.events.PubliEvent.PUBLI_SKIPPED:b&&clearInterval(b),p?(e.data.name=p.getDataEvent().name,e.data.internalData=p.getDataEvent().internalData,e.data.contentType=p.getDataEvent().contentType,p.isSkipped(!0),this.dispatchEvent(e),p.stopAd()):m&&(e.data.name=m.getDataEvent().name,e.data.internalData=m.getDataEvent().internalData,e.data.contentType=m.getDataEvent().contentType,m.isSkipped(!0),this.dispatchEvent(e),m.stopAd())}e.type!=emic.publicidad.events.PubliEvent.PUBLI_SKIPPED&&t&&this.dispatchEvent(e)};this.notificaPubliOff=function(e,t){},this.getCurrentPosition=function(){return u.getCurrentPosition()}}t.prototype=new psd.framework.EventDispatcher,e.PubliManager=t}(emic.publicidad),function(e){function t(e,t){var n,a,s,d,o,r,l,c,u,p,m,E=!1,v=t,b=null,h=null,f=null,P={color:"white",top:"0px",left:"0px",fontFamily:"Arial",fontWeight:"bold",textAlign:"center",width:"100%",display:"none",background:"#333"},_={color:"white",bottom:"5%",right:"0",cursor:"pointer",fontFamily:"Arial",fontSize:"12px",background:"rgba(0,0,0,0.8)",padding:"10px 10px 10px 10px"},g={color:"white",bottom:"5%",right:"0",cursor:"pointer",fontFamily:"Arial",fontSize:"18px",background:"rgba(0,0,0,0.8)",padding:"10px 50px 10px 50px",border:"1px solid rgba(255,255,255,0.9)"};function T(){h.style.display="block",b.style.display="none",b.style.visibility="hidden",E=!0}psd.framework.EventDispatcher.call(this),this.init=function(){for(i in n=null!=e.skippable&&e.skippable,"undefined"!=typeof mm_skippable&&(n=!1),a=null!=e.titulo?e.titulo:"PUBLICIDAD",s=null!=e.message?e.message:"%s segundos para que comience el video",d=null!=e.message_skippable?e.message_skippable:"%s segundos para saltar la publicidad",o=null!=e.message_skip?e.message_skip:"Saltar anuncio",r=null!=e.segundosSalto?e.segundosSalto:7,null!=e.css&&(l=e.css.title,c=e.css.counter,u=e.css.skip,p=e.css.container),m=document.getElementById(v),p)m.style[i]=p[i];(b=document.createElement("div")).className=b.className+" mm_counter",b.style.position="absolute",L(b,c,_),b.style.visibility="hidden",(h=document.createElement("div")).className=h.className+" mm_message_skip",h.innerHTML=o,h.style.display="none",h.style.position="absolute",h.style.pointerEvents="auto",L(h,u,g),h.onclick=A,(f=document.createElement("div")).className=f.className+" mm_title_string",f.innerHTML=a,f.style.position="absolute",L(f,l,P),m.appendChild(b),m.appendChild(h),m.appendChild(f)};var y,A=(y=this,function(){y.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED)),y.reset_skip.apply(),b.style.visibility="hidden"}),L=function(e,t,i){var n;for(n in i)e.style[n]=i[n];if(null!=t)for(n in t)e.style[n]=t[n]};this.reset_skip=function(){h.style.display="none",b.innerHTML="",b.style.display="block",E=!1,m.style.visibility="hidden",b.style.visibility="hidden"},this.setCarcasaVisible=function(){m.style.visibility=""};var O=0,R=!1;this.setProgress=function(e,t){(isNaN(e)||isNaN(t)||t<1)&&(e=++O,t=r,R=!0),n?r<=e&&!E?T():(1<r-e&&(b.style.visibility="visible"),b.innerHTML=d.replace("%s",r-e)):t<e&&!E?(E=!0,R&&T()):E||(b.innerHTML=s.replace("%s",t-e))},this.setSecondsSkip=function(e){r=e}}t.prototype=new psd.framework.EventDispatcher,e.Carcasa=t}(emic.publicidad),function(e){function t(){psd.framework.EventDispatcher.call(this),this.className="emic.publicidad.controllers.BasePubliController",this.isReady=!1,this.handled=!1,this.objContentPublisher={},this.objContentPublisher.currentTime,this.notifyPubliLoaded=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_LOADED))},this.notifyPubliStarted=function(e,t,i,n,a){var s=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_STARTED);s.data.name=e,s.data.internalData=t,s.data.contentType=i,s.data.skippable=n,s.data.apiFramework=a,this.dispatchEvent(s)},this.notifyPubliPaused=function(e,t,i){var n=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_PAUSED);n.data.name=e,n.data.internalData=t,n.data.contentType=i,this.dispatchEvent(n)},this.notifyPubliResumed=function(e,t,i){var n=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_RESUMED);n.data.name=e,n.data.internalData=t,n.data.contentType=i,this.dispatchEvent(n)},this.notifyPubliEnded=function(e,t,i){var n=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ENDED);n.data.name=e,n.data.internalData=t,n.data.contentType=i,this.dispatchEvent(n)},this.notifySkippedPubli=function(e,t,i){var n=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED);n.data.name=e,n.data.internalData=t,n.data.contentType=i,this.dispatchEvent(n)},this.notifyAllPubliEnded=function(e){var t=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED);t.data.contentType=e,this.dispatchEvent(t)},this.notifyPubliError=function(e,t,i,n){var a=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR);a.data.code=t,a.data.msg=e,a.data.internalData=i,a.data.vastErrorCode=n,this.dispatchEvent(a)},this.notifyContentPauseRequested=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED))},this.notifyContentResumeRequested=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED))},this.notifyControllerLoaded=function(e){this.isReady=!0,this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED))},this.init=function(e,t,i,n){},this.kill=function(){},this.remainingTime=function(){},this.pause=function(){},this.resume=function(){},this.closeAd=function(){},this.setVolume=function(e){},this.loadPubli=function(e){},this.requestAds=function(){},this.getDataEvent=function(){},this.updateContentPublisher=function(e,t){this.objContentPublisher[e]=t},this.stopAd=function(){}}t.prototype=new psd.framework.EventDispatcher,e.BasePubliController=t}(emic.publicidad.controllers),function(e){function t(){var s=null,d=this;emic.publicidad.controllers.BasePubliController.call(this),this.className="emic.publicidad.controllers.Ima3Controller",this.objContentPublisher={},this.objContentPublisher.currentTime=void 0;function o(e){this.dispatchEvent(e)}this.init=function(e,t,i,n,a){s||function(){var e=new emic.publicidad.controllers.PubliControllerFactory;/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=e.getController(emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5),void 0!==d.manager._VAST&&(s._VAST=d.manager._VAST),this.premute&&(s.premute=!0),s.handled||(s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_STARTED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_PAUSED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_RESUMED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ENDED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_LOADED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ERROR,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED,o,this),s.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,o,this),s.handled=!0)}.apply(this),s.init(e,t,i,n,a)},this.kill=function(){s&&s.kill()},this.remainingTime=function(){if(s)return s.remainingTime()},this.loadPubli=function(e,t){s&&("tap"==t?(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::;;; soy TAP"),s._VAST=this.manager._VAST,s.manager=this.manager):(psdgetgetpsd("mm_debug_s")&&-1<psdgetgetpsd("mm_debug_s").indexOf(":::")&&console.log(":::;;; soy DFP"),s._VAST=void 0),s.loadPubli(e))},this.requestAds=function(){s&&s.requestAds()},this.pause=function(){s&&s.pause()},this.resume=function(){s&&s.resume()},this.setVolume=function(e){s&&s.setVolume(e)},this.closeAd=function(){s&&s.closeAd()},this.getDataEvent=function(){if(s)return s.getDataEvent()},this.isSkipped=function(e){s&&s.isSkipped(e)},this.stopAd=function(){s&&s.stopAd()}}t.prototype=new emic.publicidad.controllers.BasePubliController,e.Ima3Controller=t}(emic.publicidad.controllers),function(e){function t(){var i,a,t,d,e,n,o,s,r;this.className="emic.publicidad.controllers.Ima3Html5Controller",emic.publicidad.controllers.BasePubliController.call(this);var l,c=640,u=400,p=640,m=150,E=!1,v=!1,b=!1,h={},f=!1,P=!1;_APIFRAMEWORK_VPAID="VPAID",_AUDIO_MIMETYPE="audio/mp4",_AUDIO_MIMETYPE_MPEG="audio/mpeg",_AUDIO_MIMETYPE_OGG="audio/ogg",_CONTENTTYPE_AUDIO="audio",_CONTENTTYPE_VIDEO="video";var _=emic.miatajo=this;this.init=function(e,t,i,n,a){var s;if(0==E?(E=1,(o=document.getElementById(e)).style.visibility="hidden",o.clientWidth,o.clientHeight,emic.publicidad.PubliModel.loadDomDependence("//s0.2mdn.net/instream/html5/ima3.js",g,T,this)):2==E&&this.notifyControllerLoaded(),(s=/OS ((\d+?){1,2})/.exec(getDevice().agent))&&1<s.length&&10<=s[1]){var d=document.getElementById("MediaModule_"+n).getElementsByTagName("video");d.length&&(P=!0,this.elemVideoAdsIOS10=d[0],this.elemVideoAdsIOS10.style.visibility="visible",this.elemVideoAdsIOS10.setAttribute("playsinline",""))}},this.kill=function(){0!=E&&(t?t.destroy():b=!0)},this.remainingTime=function(){return e=Number(d-i.getRemainingTime()),(n={}).currentTime=e,n.totalTime=d,n},this.getDataEvent=function(){return h},this.loadPubli=function(e){2==E?(s=e,P&&this.elemVideoAdsIOS10.load(),t.initialize(),A.apply(this)):v=!0},this.pause=function(){void 0!==i&&i.pause()},this.resume=function(){void 0!==i&&i.resume()},this.closeAd=function(){void 0!==i&&i.stop(),void 0!==t&&(t.destroy(),y.apply(this))},this.setVolume=function(e){void 0!==i&&i.setVolume(e)};var g=function(){void 0!==window.LANG&&google.ima.settings.setLocale("pt-br"==window.LANG?"pt":window.LANG),b?(b=!1,E=0):(y.apply(this),E=2,this.notifyControllerLoaded(),v&&(v=!1,A.apply(this)))},T=function(){this.notifyPubliError("error al cargar las dependencias","a404",null,"a404")};function y(){t=P?new google.ima.AdDisplayContainer(o,this.elemVideoAdsIOS10):new google.ima.AdDisplayContainer(o),(a=new google.ima.AdsLoader(t)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,D,!1),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,C,!1)}function A(){var e=new google.ima.AdsRequest;if(void 0===_._VAST)e.adTagUrl=s;else{var t=null,i=null;if("undefined"==typeof mm_all_ads&&void 0!==(t=_._VAST.getElementsByTagName("Creatives")[0])&&void 0!==(i=t.getElementsByTagName("Creative")))for(var n=1;n<i.length;n++)t.removeChild(i[n]);"function"==typeof XMLSerializer?e.adsResponse=(new XMLSerializer).serializeToString(_._VAST):e.adTagUrl=s}e.adType="video",e.linearAdSlotWidth=c,e.linearAdSlotHeight=u,e.nonLinearAdSlotWidth=p,e.nonLinearAdSlotHeight=m,a.getSettings().setNumRedirects(5),P&&a.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),e.vastLoadTimeout=5e3;try{a.requestAds(e)}catch(e){this.notifyPubliError("error en ima3 requestAds","a404",null,"a404")}}var L,O,R,D=(L=this,function(e){(function(e){var t=new google.ima.AdsRenderingSettings;P&&(t.restoreCustomPlaybackStateOnAdBreakComplete=!0),t.loadVideoTimeout=5e3,i=e.getAdsManager(this.objContentPublisher,t),_.premute&&i.setVolume(0),i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,C),i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,k),i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,U),i.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,S),i.addEventListener(google.ima.AdEvent.Type.LOADED,S),i.addEventListener(google.ima.AdEvent.Type.STARTED,S),i.addEventListener(google.ima.AdEvent.Type.PAUSED,S),i.addEventListener(google.ima.AdEvent.Type.RESUMED,S),i.addEventListener(google.ima.AdEvent.Type.COMPLETE,S),i.addEventListener(google.ima.AdEvent.Type.SKIPPED,S),i.addEventListener(google.ima.AdEvent.Type.AD_METADATA,S),i.addEventListener(google.ima.AdEvent.Type.IMPRESSION,S);try{i.init("100%","100%",google.ima.ViewMode.NORMAL),i.start()}catch(e){}}).apply(L,[e])}),S=(O=this,function(e){(function(e){var t=e.getAd();switch(e.type){case google.ima.AdEvent.Type.AD_METADATA:break;case google.ima.AdEvent.Type.LOADED:this.notifyPubliLoaded(),t.isLinear(),l=setTimeout(function(){I.apply(_,[{getError:function(){return{getMessage:function(){return"Autoplay AD error"},getErrorCode:function(){return"a404"},adErrorEvent:function(){return null},getVastErrorCode:function(){return"a404"}}}}]),clearTimeout(l)},1e4);break;case google.ima.AdEvent.Type.STARTED:_.started=!0,clearTimeout(l),d=t.getDuration(),r=t.getContentType()!=_AUDIO_MIMETYPE&&t.getContentType()!=_AUDIO_MIMETYPE_MPEG&&t.getContentType()!=_AUDIO_MIMETYPE_OGG?(N(),_CONTENTTYPE_VIDEO):(B(),_CONTENTTYPE_AUDIO),h.name=t.getTitle(),h.internalData=t,h.contentType=r;try{if("undefined"!=typeof mm_companion_ad_300_250){var i=new google.ima.CompanionAdSelectionSettings;i.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,i.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,i.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;var n=t.getCompanionAds(300,250,i);if(0<n.length){var a=n[0].getContent(),s=document.getElementById(mm_companion_ad_300_250);s&&(s.innerHTML=a)}}}catch(e){console.log("criteria error:",e)}this.notifyPubliStarted(t.getTitle(),t,r,t.isSkippable());break;case google.ima.AdEvent.Type.PAUSED:this.notifyPubliPaused(t.getTitle(),t,r);break;case google.ima.AdEvent.Type.RESUMED:this.notifyPubliResumed(t.getTitle(),t,r);break;case google.ima.AdEvent.Type.COMPLETE:_.started=!1,f||this.notifyPubliEnded(t.getTitle(),t,r);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:_.started=!1,clearTimeout(l),P&&(this.elemVideoAdsIOS10.removeAttribute("src"),this.elemVideoAdsIOS10.load()),this.notifyAllPubliEnded(r);break;case google.ima.AdEvent.Type.SKIPPED:_.started=!1,this.notifySkippedPubli(t.getTitle(),t,r)}}).apply(O,[e])}),C=(R=this,function(e){I.apply(R,[e])});function I(e){var t=e.getError();_.started||this.notifyPubliError(t.getMessage(),t.getErrorCode(),e,t.getVastErrorCode())}var w,M,k=(w=this,function(){(function(){P||a.contentComplete(),this.notifyContentPauseRequested()}).apply(w)}),U=(M=this,function(){(function(){P||a.contentComplete(),this.notifyContentResumeRequested()}).apply(M)}),N=function(){o.style.visibility=""},B=function(){o.style.visibility="hidden"};this.isSkipped=function(e){f=e},this.stopAd=function(){void 0!==i&&i.stop()}}t.prototype=new emic.publicidad.controllers.BasePubliController,e.Ima3Html5Controller=t}(emic.publicidad.controllers),function(e){function t(){var d,o,r,l,e;this.className="emic.publicidad.controllers.Ima3FlashController",emic.publicidad.controllers.BasePubliController.call(this);var s=!1,c={};CONTENTTYPE_AUDIO="audio",CONTENTTYPE_VIDEO="video",this.init=function(e,t,i,n,a){d=n,u.apply(this),l=a,r=document.getElementById(e),p.apply(this)},this.kill=function(){if(r)for(;r.firstChild;)r.removeChild(r.firstChild)},this.remainingTime=function(){return(e={}).currentTime=t.apply(this).getTime().currentTime,e.totalTime=t.apply(this).getTime().totalTime,e},this.getDataEvent=function(){return c},this.loadPubli=function(e){this._url=e,this.requestAds()},this.resume=function(){try{t.apply(this).resume()}catch(e){}},this.pause=function(){try{t.apply(this).pause()}catch(e){}},this.setVolume=function(e){try{t.apply(this).setVolume(e)}catch(e){}},this.requestAds=function(){u.apply(this);try{t.apply(this).requestAdsJS(this._url)}catch(e){}};var u=function(){emic["ima3flash_"+d]=this},t=function(){return document.getElementById("IMA3FlashController_"+d)},p=function(){if(!this.isReady||psd.framework.ua.msie){for(;r.firstChild;)r.removeChild(r.firstChild);(o=document.createElement("div")).id="IMA3FlashController_"+d,r.appendChild(o);var e={id:d},t={id:o.id},i="/psdmedia/resources/swf/psd/IMA3FlashController.swf",n="/player/bin/swf/expressInstall.swf",a=l?l+i:i,s=l?l+n:n;swfobject.embedSWF(a,o.id,"100%","100%","10.0.0",s,e,{menu:"false",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:"#000000",wmode:"opaque",scale:"noscale",salign:"TL"},t,function(e){(o=document.getElementById("IMA3FlashController_"+d)).style.width="1px",o.style.height="1px"})}else this.notifyControllerLoaded()};this.adManagerHandlerSWF=function(e,t,i,n,a){switch(e){case"started":i==CONTENTTYPE_VIDEO?(o.style.visibility="",o.style.width="100%",o.style.height="100%"):o.style.visibility="hidden",c.name=t,c.internalData={},c.contentType=i,this.notifyPubliStarted(t,{},i,n,a);break;case"paused":this.notifyPubliPaused(t,{},i);break;case"resumed":this.notifyPubliResumed(t,{},i);break;case"skipped":this.notifySkippedPubli(t,{},i);break;case"completed":s||this.notifyPubliEnded(t,{},i);break;case"allAdsCompleted":this.notifyAllPubliEnded(i);break;case"contentPauseRequested":this.notifyContentPauseRequested();break;case"contentResumeRequested":this.notifyContentResumeRequested()}},this.setAdSkippableStateSWF=function(e){},this.adManagerHandlerErrorSWF=function(e,t,i,n,a){o.style.visibility="",this.notifyPubliError(i,n,e,a)},this.adsLoaderErrorHandlerSWF=function(e,t,i,n,a){o.style.visibility="",this.notifyPubliError(i,n,e,a)},this.onAdProgressSWF=function(e){},this.receivedFromJavaScript=function(){},this.readySWF=function(){this.notifyControllerLoaded()},this.closeAd=function(){try{t.apply(this).closeAdJS()}catch(e){}},this.stopAd=function(){try{t.apply(this).closeAdJS()}catch(e){}},this.isSkipped=function(e){s=e}}t.prototype=new emic.publicidad.controllers.BasePubliController,e.Ima3FlashController=t}(emic.publicidad.controllers),function(e){function t(){psd.framework.EventDispatcher.call(this),this.className="emic.publicidad.controllers.PubliControllerFactory",emic.publicidad.controllers.factory=this;var i={};this.getController=function(e){var t;if(i[e])t=i[e];else{switch(e){case emic.publicidad.PubliManager.CONTROLLER_IMA3_FLASH:t=new emic.publicidad.controllers.Ima3FlashController;break;case emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5:t=new emic.publicidad.controllers.Ima3Html5Controller;break;case emic.publicidad.PubliManager.CONTROLLER_IMA3:t=new emic.publicidad.controllers.Ima3Controller;break;default:t=new emic.publicidad.controllers.Ima3Controller}i[e]=t}return t}}t.prototype=new psd.framework.EventDispatcher,e.PubliControllerFactory=t}(emic.publicidad.controllers));