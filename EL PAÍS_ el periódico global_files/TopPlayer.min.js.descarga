"undefined"==typeof mm_top_compilation&&(mm_top_compilation="27-02-2022 20:28:34",function(e){null==e.emic&&(e.emic={}),null==e.emic.top&&(e.emic.top={}),null==e.emic.top.media&&(e.emic.top.media={}),null==e.emic.top.event&&(e.emic.top.event={}),null==e.emic.top.ui&&(e.emic.top.ui={}),null==e.emic.top.social&&(e.emic.top.social={}),null==e.emic.top.ui.skins&&(e.emic.top.ui.skins={}),null==e.emic.top.ui.skins.fenix&&(e.emic.top.ui.skins.fenix={})}(window),function(e){function t(e){this.data={},this.id=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_INIT_COMPLETE="onInitComplete",t.ON_RESET_COMPLETE="onResetComplete",t.ON_PRELOAD_CONTROLLER_COMPLETE="onPreloadControllerComplete",t.ON_READY="onReady",t.ON_MEDIA_END="onMediaEnd",t.ON_MEDIA_BEGIN="onMediaBegin",t.ON_CUE="onCue",t.ON_METADATA="onMetadata",t.ON_ERROR="onError",t.ON_STATUS_CHANGE="onStatusChange",t.ON_VOLUME_CHANGE="onVolumeChange",t.ON_PROGRESS="onProgress",t.ON_SEEK_START="onSeekStart",t.ON_SEEK_COMPLETE="onSeekComplete",t.ON_BUFFER_EMPTY="onBufferEmpty",t.ON_BUFFER_FULL="onBufferFull",t.ON_SWITCH_REQUEST="onSwitchRequest",t.ON_SWITCH_COMPLETE="onSwitchComplete",t.ON_IS_LIVE_STREAM="onIsLiveStream",t.ON_RENDITIONS="onRenditions",t.ON_TAG="onTag",t.ON_AUTOPLAY_ERROR="onAutoPlayError",t.ON_LOADING_START="onLoadingStart",e.MediaEvent=t}(emic.top.event),function(e){function t(e){this.data={},psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_INIT_COMPLETE="onInitComplete",t.ON_ORDER_BEGIN="onOrderBegin",t.ON_ORDER_PLAY="onOrderPlay",t.ON_ORDER_PAUSE="onOrderPause",t.ON_ORDER_PLAYPAUSE="onOrderPlayPause",t.ON_ORDER_STOP="onOrderStop",t.ON_ORDER_VOLUME_CHANGE="onOrderVolumeChange",t.ON_ORDER_MUTE="onOrderMute",t.ON_ORDER_FULLSCREEN="onOrderFullScreen",t.ON_ORDER_SEEK_BY_PROP="onOrderSeekByProp",t.ON_ORDER_SEEK_LIVE="onOrderSeekLive",t.ON_ORDER_SEEK_BY_SECS="onOrderSeekBySecs",t.ON_ORDER_NEXT="onOrderNext",t.ON_ORDER_PREV="onOrderPrev",t.ON_ORDER_SWITCH_UP="onOrderSwitchUp",t.ON_ORDER_SWITCH_DOWN="onOrderSwitchDown",t.ON_ORDER_SWITCH_DIRECT="onOrderSwitchDirect",t.ON_ORDER_SHARE_FACEBOOK="onOrderShareFacebook",t.ON_ORDER_SHARE_TWITTER="onOrderShareTwitter",t.ON_ORDER_SHARE_GOOGLEPLUS="onOrderShareGoogleplus",t.ON_ORDER_SHARE_WHATSAPP="onOrderShareGoogleplus",t.ON_ORDER_SHARE_SUBSCRIBE="onOrderShareSubscribe",t.ON_ORDER_SHARE_EXTERNAL="onOrderShareExternal",t.ON_ORDER_EMBED_EXTERNAL="onOrderEmbedExternal",t.ON_ORDER_EXTERNAL="onOrderExternal",t.ON_ORDER_RESET="onOrderReset",t.ON_ORDER_CHANGE_LIVE="onOrderChangeLive",t.ON_ORDER_BUTTON="onOrderButton",t.ON_ORDER_RRSS="onOrderRRSS",t.ON_ORDER_INICIOCOMPARTIR="onOrderInicioCompartir",t.ON_SKIN_READY="onSkinReady",t.ON_PREVIEW_READY="onPreviewReady",t.ON_ORDER_SKIP_AD="onOrderSkipAd",e.UIEvent=t}(emic.top.event),function(e){function t(e){this.data={},this.contentType="",this.id=null,this.idMedia=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_AD_INSTREAM_START="onAdInStreamStart",t.ON_AD_INSTREAM_END="onAdInStreamEnd",t.ON_AD_VIDEO_START="onAdVideoStart",t.ON_AD_VIDEO_PAUSE="onAdVideoPause",t.ON_AD_VIDEO_RESUME="onAdVideoResume",t.ON_AD_PROGRESS="onAdVideoProgress",t.ON_AD_VOLUME_CHANGE="onAdVolumeChange",t.ON_AD_VIDEO_END="onAdVideoEnd",t.ON_AD_VIDEO_SKIP="onAdVideoSkip",t.ON_AD_POSITION_END="onAdPositionEnd",t.ON_NO_AD="onNoAd",t.ON_AD_ERROR="onAdError",t.ON_READY="onReady",t.ON_INIT_ERROR="onInitError",t.ON_LOADING_AD_START="onLoadingAdStart",e.AdEvent=t}(emic.top.event),function(e){function t(e){this.data={},this.id=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_READY="onReady",t.ON_POSITION_CHANGE="onPositionChange",t.ON_LOADING="onLoading",e.TopEvent=t}(emic.top.event),emic.top.media.MediaControllerFactory=function(e){var a=[],n=e;this.destroyController=function(e){emic.top.debug("[MediaControllerFactory.js][destroyController]>> ",e),a[e]&&(a[e].kill(),a[e]=void 0)},this.saveController=function(e){emic.top.debug("[MediaControllerFactory.js][saveController]>> ",e),a[e]&&a[e].reset()},this.getController=function(e,t){var i;if(emic.top.debug("[MediaControllerFactory.js][getController]>> ",e),a[e])emic.top.debug("[MediaControllerFactory.js][getController]>> Ya existía"),i=a[e];else{switch(e){case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS:case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD:i=new emic.top.media.FlashController(e);break;case emic.top.MediaModule.CONTROLLER_TYPE_TRITON:i=new emic.top.media.TritonController(t);break;case emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE:i=new emic.top.media.HTML5Controller(e,t);break;case emic.top.MediaModule.CONTROLLER_TYPE_YT:i=new emic.top.media.YTController(t),n.mediaData.youtube_details.playlist&&0==n.mediaData.isPlaylist&&(i.list=n.mediaData.youtube_details.playlist);break;case emic.top.MediaModule.CONTROLLER_TYPE_DM:i=new emic.top.media.DMController;break;case emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS:i=new emic.top.media.HLSController(e,t);break;case emic.top.MediaModule.CONTROLLER_TYPE_HLS:i=new emic.top.media.FlashController(e,t)}i&&(emic.top.debug("[MediaControllerFactory.js][getController]>> Se crea nuevo"),function(e){var t;emic.top.debug("[MediaControllerFactory.js][_createControllerLayer]>> ",e),n.internalData.controllerContainers[e]||(n.internalData.controllerContainers[e]="Controller_"+e+"_"+n.genericData.id),(t=document.getElementById(n.internalData.controllerContainers[e]))||((t=document.createElement("div")).id=n.internalData.controllerContainers[e],t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",document.getElementById(n.mediaData.container).appendChild(t))}.apply(this,[e]),a[e]=i)}return emic.top.debug("[MediaControllerFactory.js][getController]>> Instancia: ",i),i}},function(e){function t(){psd.framework.EventDispatcher.call(this);var t=!(this.isBufferEmpty=!1);this.setAutoSwitch=function(e){t=e,this.onAutoSwitchChange()};var e=!(this.getAutoSwitch=function(){return t});this.isReady=function(){return e},this.isBeginAllowed=function(e){var t=!0;return e.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW&&0==e.uiData.overrideNativeControls&&0==e.uiData.showPreview&&(t=!1,e.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)),t},this.notifyReady=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY))},this.notifyMediaBegin=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_BEGIN))},this.notifyMediaEnd=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_END))},this.notifyCue=function(e){var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_CUE);t.data=e,this.dispatchEvent(t)},this.notifyMetadata=function(e){var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_METADATA);t.data=e,this.dispatchEvent(t)},this.notifyError=function(e,t){var i=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_ERROR);i.idCode=e,null!=t&&(i.data=t),this.dispatchEvent(i)},this.notifyStatusChange=function(e){void 0===this.laststatus&&(this.laststatus=""),emic.top.debug("[UIModule.js][onStatusChange]>> ",e),this.laststatus!=e&&(this.laststatus=e,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_STATUS_CHANGE),ev.data={},ev.data.status=e,this.dispatchEvent(ev))},this.notifyVolumeChange=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE),ev.data=e,this.dispatchEvent(ev)},this.notifyProgress=function(e,t,i,a,n){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PROGRESS),ev.data={},ev.data.currentTime=e,ev.data.totalTime=t,ev.data.bytesLoaded=i,ev.data.bytesTotal=a,this.dispatchEvent(ev),this.isBufferEmpty&&void 0===n&&this.notifyBufferFull()},this.notifySeekStart=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_START),ev.data={},ev.data.offset=e,this.dispatchEvent(ev)},this.notifySeekComplete=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_COMPLETE),ev.data={},ev.data.currentTime=e,this.dispatchEvent(ev)},this.notifyBufferEmpty=function(){this.isBufferEmpty=!0,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_EMPTY),this.dispatchEvent(ev)},this.notifyLoadingStart=function(){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_LOADING_START),this.dispatchEvent(ev)},this.notifyBufferFull=function(){this.isBufferEmpty&&(this.isBufferEmpty=!1,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_FULL),this.dispatchEvent(ev))},this.notifySwitchRequest=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_REQUEST),ev.data={},ev.data.index=e,this.dispatchEvent(ev)},this.notifySwitchComplete=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE),ev.data={},ev.data.index=e,this.dispatchEvent(ev)},this.notifyIsLiveStream=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM),ev.data=e,this.dispatchEvent(ev)},this.notifyRenditions=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RENDITIONS),ev.data=e,this.dispatchEvent(ev)},this.notifyID3TagPubli=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_TAG),ev.data=e,this.dispatchEvent(ev)},this.init=function(){},this.preload=function(){},this.reload=function(){},this.reset=function(){},this.kill=function(){},this.cancelInit=function(){},this.play=function(){},this.pause=function(){},this.playpause=function(){},this.resume=function(){},this.stop=function(){},this.switchUp=function(){},this.switchDown=function(){},this.switchDirect=function(e){},this.seek=function(e){},this.seekLive=function(){},this.setVolume=function(e){},this.onAutoSwitchChange=function(){}}t.prototype=new psd.framework.EventDispatcher,e.MediaControllerBase=t}(emic.top.media),function(e){function t(e){emic.top.media.MediaControllerBase.call(this);var t,u,m,p={},_=e,E="/psdmedia/resources/swf/psd/FlashController.swf",v="/psdmedia/resources/swf/ext/expressInstall.swf";this.init=function(e){emic.top.debug("[FlashController.js][init]>> ",e),p=e,emic.top["FlashInstance_"+p.genericData.id]=this,i.apply(this)},this.reset=function(){emic.top.debug("[FlashController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[FlashController.js][reload]>> ");var e={};e.isLive=p.mediaData.isLive,e.url=encodeURIComponent(p.mediaData.url),e.id=p.mediaData.id,e.idPlayer=p.genericData.id,e.controller=_,e.mimetype=p.mediaData.mimetype,e.autoplay=!0,e.clipBegin=p.mediaData.clipBegin,e.clipEnd=p.mediaData.clipEnd,e.absolute=p.mediaData.absolute,emic.top.debug("[FlashController.js][reload]>> Se le pasa obj a flash:",e),-1!=p.mediaData.mimetype.indexOf("audio")?(t.style.width="1px",t.style.height="1px"):t.style.visibility="";try{t.loadJS(e)}catch(e){}},this.kill=function(){emic.top.debug("[FlashController.js][kill]>> "),swfobject.removeSWF(m)},this.play=function(){emic.top.debug("[FlashController.js][play]>> ");try{t.playJS()}catch(e){}},this.pause=function(){emic.top.debug("[FlashController.js][pause]>> ");try{t.pauseJS()}catch(e){}},this.playpause=function(){emic.top.debug("[FlashController.js][playpause]>> ");try{t.playpauseJS()}catch(e){}},this.resume=function(){emic.top.debug("[FlashController.js][resume]>> ");try{t.playpauseJS()}catch(e){}},this.stop=function(){emic.top.debug("[FlashController.js][stop]>> ");try{t.stopJS()}catch(e){}},this.switchUp=function(){emic.top.debug("[FlashController.js][switchUp]>> ");try{t.switchUpJS()}catch(e){}},this.switchDown=function(){emic.top.debug("[FlashController.js][switchDown]>> ");try{t.switchDownJS()}catch(e){}},this.switchDirect=function(e){emic.top.debug("[FlashController.js][switchDirect]>> ");try{t.switchDirectJS(e,!1)}catch(e){}},this.seek=function(e){emic.top.debug("[FlashController.js][seek]>> ",e);try{t.seekJS(e)}catch(e){}},this.setVolume=function(e){emic.top.debug("[FlashController.js][setVolume]>> ",e);try{t.setVolumeJS(e)}catch(e){}},this.onAutoSwitchChange=function(e){t.autoSwitchJS(e)};var i=function(){var e,t,i,a,n;if(emic.top.debug("[FlashController.js][_createFlashObj]>> "),u=document.getElementById(p.internalData.controllerContainers[_])){for(;u.firstChild;)u.removeChild(u.firstChild);t=document.createElement("div"),m="flashContainer_"+p.genericData.id,t.id=m,u.appendChild(t),i=a=-1!=p.mediaData.mimetype.indexOf("audio")?"1px":"100%";var o={isLive:p.mediaData.isLive,url:encodeURIComponent(p.mediaData.url),id:p.mediaData.id,idPlayer:p.genericData.id,controller:_,mimetype:p.mediaData.mimetype,autoplay:p.mediaData.autoplay,clipBegin:p.mediaData.clipBegin,clipEnd:p.mediaData.clipEnd,absolute:p.mediaData.absolute},d={menu:"false",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:p.uiData.bgColor,wmode:p.mediaData.wmode},s={id:m};for(e in p.mediaData.controllerData)d["cdn_"+e]=p.mediaData.controllerData[e];var r=(n=this,function(){h.apply(n)}),l=p.genericData.urlBase?p.genericData.urlBase+E:E,c=p.genericData.urlBase?p.genericData.urlBase+v:v;emic.top.debug("[FlashController.js][_createFlashObj]>> Se crea flash con los siguientes datos:",{urlFlashController:l,container:t.id,ancho:i,alto:a,flashvars:o,params:d,attributes:s}),swfobject.embedSWF(l,t.id,i,a,"10.0.0",c,o,d,s,r)}},h=function(e){emic.top.debug("[FlashController.js][_onReady]>> "),t=document.getElementById(m),-1!=p.mediaData.mimetype.indexOf("audio")?(t.style.width="0px",t.style.height="0px"):t.style.visibility=""};this.notifyMediaBeginSWF=function(e){emic.top.debug("[FlashController.js][notifyMediaBeginSWF]>> "),void 0!==e[0]&&""!=e&&this.notifyRenditions(function(e){var t,i,a,n="",o="",d=[],s=-1,r=[{calidad:"144p",bitrate:5e4},{calidad:"240p",bitrate:3e5},{calidad:"360p",bitrate:4e5},{calidad:"480p",bitrate:5e5},{calidad:"720p",bitrate:15e5},{calidad:"1080p",bitrate:3e6},{calidad:"2160p",bitrate:45e5}],l=[{calidad:"240p",size:320},{calidad:"360p",size:640},{calidad:"480p",size:720},{calidad:"720p",size:1280},{calidad:"1080p",size:1920},{calidad:"2160p",size:3840}];for(t in e){if(0==(a=e[t]).width)for(i in r)a.bitrate>=r[i].bitrate&&s++;else for(i in l)a.width>=l[i].size&&s++;a.audio||(0==a.width?(d[t]={bitrate:a.bitrate,label:r[s].calidad==n?r[s].calidad+"+":r[s].calidad},n=r[s].calidad):(d[t]={bitrate:a.bitrate,label:l[s].calidad==o?l[s].calidad+"+":l[s].calidad},o=l[s].calidad)),s=-1}return(1<d.length?[{bitrate:0,label:"Auto"}].concat(d):[{bitrate:0,label:"vacio"}]).reverse()}(e)),this.notifyMediaBegin()},this.notifyMediaEndSWF=function(){emic.top.debug("[FlashController.js][notifyMediaEndSWF]>> "),this.notifyMediaEnd()},this.notifyBufferEmptySWF=function(){emic.top.debug("[FlashController.js][notifyBufferEmptySWF]>> "),this.notifyBufferEmpty()},this.notifyBufferFullSWF=function(){emic.top.debug("[FlashController.js][notifyBufferFullSWF]>> "),this.notifyBufferFull()},this.notifySeekStartSWF=function(e){emic.top.debug("[FlashController.js][notifySeekStartSWF]>> ",e),this.notifySeekStart(e)},this.notifySeekCompleteSWF=function(e){emic.top.debug("[FlashController.js][notifySeekCompleteSWF]>> ",e),this.notifySeekComplete(e)},this.notifySwitchRequestSWF=function(e){emic.top.debug("[FlashController.js][notifySwitchRequestSWF]>> ",e),this.notifySwitchRequest(e)},this.notifySwitchCompleteSWF=function(e){emic.top.debug("[FlashController.js][notifySwitchCompleteSWF]>> ",e),this.notifySwitchComplete(e)},this.notifyReadySWF=function(){emic.top.debug("[FlashController.js][notifyReadySWF]>>"),this.notifyReady()},this.notifyMetadataSWF=function(e){emic.top.debug("[FlashController.js][notifyMetadataSWF]>> ",e),this.notifyMetadata(e)},this.notifyErrorSWF=function(e){emic.top.debug("[FlashController.js][notifyErrorSWF]>> ",e),this.notifyError(e)},this.notifyVolumeChangeSWF=function(e){emic.top.debug("[FlashController.js][notifyVolumeChangeSWF]>> ",e),this.notifyVolumeChange(e)},this.notifyStatusChangeSWF=function(e){emic.top.debug("[FlashController.js][notifyStatusChangeSWF]>> ",e);var t=-1;switch(e){case 0:t=emic.top.MediaModule.STATUS_INITIALIZING;break;case 2:t=emic.top.MediaModule.STATUS_PLAY;break;case 3:t=emic.top.MediaModule.STATUS_PAUSE}this.isReady()&&-1!=t&&this.notifyStatusChange(t)},this.notifyProgressSWF=function(e,t,i,a){this.notifyProgress(e,t,i,a)},this.notifyIsLiveStreamSWF=function(e){emic.top.debug("[FlashController.js][notifyIsLiveStreamSWF]>> ",e),this.notifyIsLiveStream(e)}}t.prototype=new emic.top.media.MediaControllerBase,e.FlashController=t}(emic.top.media),function(F){function Y(e){emic.top.media.MediaControllerBase.call(this);var s,n=this,o=e;function t(){return s}function d(){return y}n.topplayer=e,n.syncto=null,n.adduration=0;var r,l,c,u,m,i,a,p,_,E,v,h,D,f,O,g,y=!1,T=0,R=5e3,S=!1,I=(i=this,function(e){var t=e.data.code;switch(emic.top.debug("[TritonController.js][_onStatus]>> ",e.data.code),e.data.code){case"LIVE_CONNECTING":"undefined"!=typeof MM&&clearTimeout(MM.player.to_triton),i.notifyLoadingStart();break;case"LIVE_BUFFERING":i.notifyBufferEmpty();break;case"LIVE_STOP":t=emic.top.MediaModule.STATUS_STOP;break;case"LIVE_PAUSE":t=emic.top.MediaModule.STATUS_PAUSE;break;case"LIVE_PLAYING":s.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA?this.pause():(t=emic.top.MediaModule.STATUS_PLAY,S||(i.notifyBufferFull(),i.notifyMediaBegin(),S=!0));break;case"LIVE_FAILED":i.notifyError(emic.top.MediaModule.ERROR_LIVE_FAILED,e.data);break;case"STREAM_GEO_BLOCKED":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO PERO NO SE HACE NADA");break;case"STREAM_GEO_BLOCKED_ALTERNATE":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO PERO HAY ALTERNATIVO");break;case"STREAM_GEO_BLOCKED_NO_ALTERNATE":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO"),i.notifyError(emic.top.MediaModule.ERROR_STREAM_GEO_BLOCKED,e.data);break;case"STATION_NOT_FOUND":i.notifyError(emic.top.MediaModule.ERROR_STATION_NOT_FOUND,e.data)}(s.internalData.position==emic.top.TopPlayer.POSITION_MEDIA||s.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL&&"pause"==t)&&i.notifyStatusChange(t)}),M=(a=this,function(){emic.top.debug("[TritonController.js][_onReady]>> "),y||(l.addEventListener("stream-status",I),l.addEventListener("ad-break-cue-point",U),l.addEventListener("ad-break-synced-element",w),l.addEventListener("video-mid-roll-playback-start",k),l.addEventListener("video-mid-roll-playback-complete",B),l.addEventListener("track-cue-point",C),l.addEventListener("timeout-alert",A),l.addEventListener("timeout-reach",P),l.addEventListener("stream-error",b),l.addEventListener("configuration-error",L),a.notifyReady())}),N=(p=this,function(){emic.top.debug("[TritonController.js][_onModuleError]>> "),p.notifyError(Y.ERROR_ID_MODULES)}),A=(_=this,function(e){emic.top.debug("[TritonController.js][_onTimeoutAlert]>> ",e.data),_.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),P=(E=this,function(e){emic.top.debug("[TritonController.js][_onTimeoutReach]>> ",e.data),E.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),b=(v=this,function(e){emic.top.debug("[TritonController.js][_onStreamError]>> ",e.data),v.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),L=(h=this,function(e){emic.top.debug("[TritonController.js][_onConfiguracionError]>> ",e.data),h.notifyError(emic.top.MediaModule.ERROR_CONFIGURATION_ERROR,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),C=(D=this,function(e){emic.top.debug("[TritonController.js][_onTrackCuePoint]>> ",e.data),D.notifyCue(e.data)}),w=(f=t,function(e){var t,i,a;"undefined"!=typeof mm_debug&&console.log("???SYNCADSTART"),emic.top.debug("[TritonController.js][_onAdSyncStart]>> ",e),n.notificarSyncAdEnd=function(){emic.top.debug("[TritonController.js][_onAdSyncStart]>> End timeout banner"),"undefined"!=typeof mm_debug&&console.log("FIN TIMEOUT BANNER"),f().internalData.adModule&&((a={}).provider=emic.top.AdModule.PROVIDER_TRITON,a.internalData=e,a.name=i,a.adType=emic.top.AdModule.ADTYPE_INSTREAM,f().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,a,e.data.id))};try{t=e.data.data.url,i=t.match(/\&cid=([^\&]*)&/)[1]}catch(e){i="Unable to retrieve ID"}f().internalData.adModule&&((a={}).provider=emic.top.AdModule.PROVIDER_TRITON,a.internalData=e,a.name=i,a.adType=emic.top.AdModule.ADTYPE_INSTREAM,a.DURATION=T,f().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,a,e.data.id))}),U=function(e){"undefined"!=typeof mm_debug&&console.log("???ONADBREAK",e.data.adBreakData.duration),emic.top.debug("[TritonController.js][_onAdBreak]>> ",e);try{T=e.data.adBreakData.duration,clearTimeout(n.syncto),n.syncto=setTimeout(function(){"undefined"!=typeof mm_debug&&console.log("???? pues tterminamos el timeouttttt"),"function"==typeof n.notificarSyncAdEnd&&n.notificarSyncAdEnd()},T)}catch(e){}},k=(O=t,function(e){if(emic.top.debug("[TritonController.js][_onVideoMidStart]>> ",e),O().internalData.adModule){var t={};t.internalData=e,t.provider=emic.top.AdModule.PROVIDER_TRITON,t.adType=emic.top.AdModule.ADTYPE_VIDEO,O().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_START,t)}}),B=(g=t,function(e){if(emic.top.debug("[TritonController.js][_onVideoMidComplete]>> ",e),g().internalData.adModule){var t={};t.internalData=e,t.provider=emic.top.AdModule.PROVIDER_TRITON,t.adType=emic.top.AdModule.ADTYPE_VIDEO,g().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_END,t)}});this.loadTritonAPI=function(){emic.top.debug("[TritonController.js][loadTritonAPI]>> Iniciando peticion de librerías a Triton");var e=document.createElement("script");e.setAttribute("type","text/javascript"),"2.4"==s.mediaData.controllerData.version?(e.setAttribute("data-dojo-config","async: 1, tlmSiblingOfDojo: 0, deps:['tdapi/run']"),e.setAttribute("src","//eu-playerservices.streamtheworld.com/tdplayerapi/2.4/dojo/dojo.js")):(e.setAttribute("src","//sdk.listenlive.co/web/v/2.9.19-183/td-sdk.min.js"),e.setAttribute("src","//sdk.listenlive.co/web/v/2.9.19-183/td-sdk.min.js"),e.setAttribute("src","//sdk.listenlive.co/web/2.9/td-sdk.min.js"),psdgetgetpsd("t_old")&&(mm_ttold=!0),"undefined"!=typeof mm_ttold&&e.setAttribute("src","//player-top.prisasd.com/psdmedia/resources/js/ext/triton/td-sdk.min.js"),psdgetgetpsd("tt")&&e.setAttribute("src","https://sdk.listenlive.co/web/v/2.9.52-392/td-sdk.min.js"),e.setAttribute("id","triton-sdk")),e.onload=function(){V.apply(n)},document.getElementsByTagName("head")[0].appendChild(e),F.tritonScriptCreated=!0},this.cancelInit=function(){emic.top.debug("[TritonController.js][cancelInit]>> "),y=!0,c&&clearInterval(c),u&&clearInterval(u),m&&clearInterval(m)},this.preload=function(){emic.top.debug("[TritonController.js][preload]>> "),this.play(),this.pause()},this.init=function(e){if(emic.top.debug("[TritonController.js][init]>> ",e),y=!1,(s=e).mediaData.controllerData.debugInStream){var t=(d=this,function(){(function(){emic.top.debug("[TritonController.js][_forzarCampana]>> ");var e={},t=s;document.body.style.fontSize="24px",document.getElementById(s.mediaData.controllerData.container_banner_bigbox).style.backgroundColor="#00ff00",document.getElementById(s.mediaData.controllerData.container_banner_bigbox).style.width="300px",document.getElementById(s.mediaData.controllerData.container_banner_bigbox).style.height="250px",document.getElementById(s.mediaData.controllerData.container_banner_bigbox).style.display="none",document.getElementById(s.mediaData.controllerData.container_banner_leaderboard).style.backgroundColor="#ffff00",document.getElementById(s.mediaData.controllerData.container_banner_leaderboard).style.width="728px",document.getElementById(s.mediaData.controllerData.container_banner_leaderboard).style.height="90px",document.getElementById(s.mediaData.controllerData.container_banner_leaderboard).style.display="none";var i=[s.mediaData.controllerData.container_banner_bigbox,s.mediaData.controllerData.container_banner_leaderboard][Math.floor(1.99999*Math.random())];s.internalData.adModule&&((e={internalData:{},provider:"TestProvider"}).internalData.id=i,e.name=i,e.adType=emic.top.AdModule.ADTYPE_INSTREAM,s.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,e,i)),setTimeout(function(){t.internalData.adModule&&((e={internalData:{},provider:"TestProvider"}).internalData.id=i,e.name=i,e.adType=emic.top.AdModule.ADTYPE_INSTREAM,t.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,e,i))},1e4)}).apply(d)}),i=(o=this,function(){k.apply(o)}),a=(n=this,function(){B.apply(n)});c=setInterval(t,14e3,this),u=setInterval(i,23e3),setTimeout(function(){m=setInterval(a,23e3)},7e3)}var n,o,d;F.directInstance=this,F.tritonScriptCreated?H.apply(this):this.loadTritonAPI(this)},this.onTritonLoaded=function(){emic.top.debug("[TritonController.js][onTritonLoaded]>> Librerías de Triton cargadas"),H.apply(this)};var H=function(){if(emic.top.debug("[TritonController.js][_init]>> "),!y){var e=(t=this,i=s,a=d,function(){t.isReady()||a()||(emic.top.debug("[TritonController.js][connectDef]>> Retrying Triton modules loading, next call in:",R/1e3,"segs"),t.init(i))});setTimeout(e,R),R<5e3&&(R+=3e3),V.apply(this)}var t,i,a},V=function(){var e,t,i;if(emic.top.debug("[TritonController.js][_connect]>> "),r=document.getElementById(s.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON])){s.mediaData.controllerData.compatibleContainer&&("none"==r.style.display&&(r.style.display,r.style.height),0!=(t=r.style.width).indexOf("px")&&"0px"!=t&&""!=t||(t=r.style.width="1px"),0!=(t=r.style.height).indexOf("px")&&"0px"!=t&&""!=t||(t=r.style.height="1px")),e=[],s.mediaData.controllerData.container_banner_bigbox&&e.push({id:s.mediaData.controllerData.container_banner_bigbox,width:300,height:250}),s.mediaData.controllerData.container_banner_leaderboard&&e.push({id:s.mediaData.controllerData.container_banner_leaderboard,width:300,height:250}),s.mediaData.controllerData.version,i={};var a={coreModules:[{id:"MediaPlayer",playerId:s.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON],isDebug:!1,plugins:[{id:"vastAd"}],defaultTrackingParameters:i,sbm:{active:!0,aSyncCuePointFallback:!1},techPriority:["Html5","Flash"],forceHls:"undefined"!=typeof mm_triton_hls,geoTargeting:{desktop:{isActive:!1},iOS:{isActive:!1},android:{isActive:!1}}},{id:"SyncBanners",keepElementsVisible:!1,elements:e}],playerReady:M,configurationError:function(){emic.top.debug("[TritonController.js] Error de configuracion TAP")},moduleError:N,adBlockerDetected:function(){emic.top.debug("[TritonController.js] AdBlock detectado")}};void 0!==window.tdplayer&&window.tdplayer.destroy(),l=new TDSdk(a),window.tdplayer=l,this.notifyStatusChange(emic.top.MediaModule.STATUS_INITIALIZING)}else this.notifyError(emic.top.MediaModule.ERROR_NO_CONTAINER)};this.play=function(){emic.top.debug("[TritonController.js][play]>> "),s.mediaData.id&&l&&j.apply(this)};var j=function(){if("positionMedia"==n.topplayer.getCurrentPosition()&&(emic.top.debug("[TritonController.js][_play]>> ",s.mediaData.id),l.initMediaElement(),l.play)){if("2.4"==s.mediaData.controllerData.version)l.play({mount:s.mediaData.id,connectionType:"normalConnection"});else{var e=2e3;s.mediaData.csegid&&(e=s.mediaData.csegid);var t={csegid:e},i="";if("undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.consent&&(i=PBS.slm.cf.consent,t.gdpr=1,t.gdpr_consent=i),void 0!==window.cmpConsentString&&(t.gdpr=window.mm_didomi_cs_t,t.gdpr_consent=window.cmpConsentString),s.mediaData.dist&&(t.dist=s.mediaData.dist),"undefined"!=typeof mm_ttag&&1==mm_ttag&&"undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg){var a=PBS.slm.cf.key.ksg;t.ttag="kgx:"+a.join(",kgx:")}"undefined"!=typeof psdgetgetpsd&&psdgetgetpsd("mm_ttag")&&(t.ttag=psdgetgetpsd("mm_ttag")),void 0!==window.mm_ttag_val&&(t.ttag=window.mm_ttag_val),void 0!==window.mm_ttag_val_tna&&void 0!==o&&o&&o.publi_showed&&(t.ttag=window.mm_ttag_val_tna),"undefined"!=typeof mm_lsid&&(t.lsid=mm_lsid),"undefined"!=typeof psdgetgetpsd&&psdgetgetpsd("mm_mount")?l.play({mount:s.mediaData.id,trackingParameters:t}):l.play({station:s.mediaData.id,trackingParameters:t})}this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}};this.pause=function(){emic.top.debug("[TritonController.js][pause]>> "),l.pause&&l.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE),this.stop()},this.resume=function(){emic.top.debug("[TritonController.js][resume]>> "),l.resume&&l.resume()},this.stop=function(){emic.top.debug("[TritonController.js][stop]>> "),void 0!==l&&l.stop&&l.stop(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP)},this.setVolume=function(e){emic.top.debug("[TritonController.js][setVolume]>> ",e),this.isReady()&&(l.setVolume(e),this.notifyVolumeChange(e))},this.mute=function(e){emic.top.debug("[TritonController.js][mute]>> ",e),l&&(e?l.mute():l.unMute())},this.reset=function(){emic.top.debug("[TritonController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[TritonController.js][reload]>> "),this.stop(),l.play({mount:s.mediaData.id,connectionType:"normalConnection"}),getDevice().mobile&&j(),this.notifyReady()},this.kill=function(){if(emic.top.debug("[TritonController.js][kill]>> "),this.stop(),r)for(;r.firstChild;)r.removeChild(r.firstChild);c&&clearInterval(c),u&&clearInterval(u),m&&clearInterval(m),l=void 0}}window.tdPlayerApiReady=function(){F.directInstance.onTritonLoaded()},Y.prototype=new emic.top.media.MediaControllerBase,Y.tritonLoaded=!1,Y.ERROR_ID_MODULES=1,F.TritonController=Y}(emic.top.media),function(e){function t(e,t){function d(e){var t,i;if(emic.top.debug("[HTML5Controller.js][_getURL]>> ",e),t=null!=r.authParamsHTML5?(-1==e.indexOf("?")?"?":"&")+r.authParamsHTML5:"",i=e+t,"undefined"!=typeof mm_token){var a=new URL(i);i=a.origin+"/"+mm_token+a.pathname}return i}emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HTML5Controller";var s,n=this,r={},o=!1,l=!1,c=!1,u=t,m=!0,p=!1,_=!1;this.preload=function(){emic.top.debug("[HTML5Controller.js][preload]>> "),s.load()};var E=function(){var e,t;if(void 0!==r.mediaData.urlHTML5&&0<r.mediaData.urlHTML5.length)t=r.mediaData.urlHTML5;else{if(void 0===r.mediaData.url)return!1;t=r.mediaData.url,r.mediaData.urlHTML5=[r.mediaData.url]}var i="";if("undefined"!=typeof mm_gdpr&&mm_gdpr&&"undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.consent&&(i="?gdpr=1&gdpr_consent="+PBS.slm.cf.consent),void 0!==window.cmpConsentString&&(i="?gdpr="+window.mm_didomi_cs_t+"&gdpr_consent="+window.cmpConsentString),"[object Array]"===Object.prototype.toString.apply(t))for(e in t){if(srcNode=document.createElement("source"),"undefined"!=typeof mm_no_start&&1==mm_no_start&&getDevice().mobile&&1==r.mediaData.isDVR){var a=psdgetgetpsd("start",t[e]),n=psdgetgetpsd("end",t[e]);a&&null==n&&(t[e]=t[e].replace("?start="+a,""))}var o=i;0<d(t[e]).indexOf("?")&&(o=i.replace("?","&")),srcNode.setAttribute("src",d(t[e])+o),s.appendChild(srcNode)}else o=i,0<d(t).indexOf("?")&&(o=i.replace("?","&")),s.setAttribute("src",d(t)+o);emic.top.debug("[HTML5Controller.js][_setUrl]>> ",s.src+i)},v=function(e,t){s&&(s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent&&s.attachEvent(e,t))};this.init=function(e){emic.top.debug("[HTML5Controller.js][init]>> "),r=e,function(){emic.top.debug("[HTML5Controller.js][_init]>> "),function(){var e,t,i=document.getElementById(r.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE]);if(-1!=r.mediaData.mimetype.indexOf("audio")&&(s=document.createElement("audio"),"undefined"!=typeof mm_crossorigin&&1==mm_crossorigin&&(s.crossOrigin="anonymous"),s.preload="none",u&&(u.mediaTag=s),s.addEventListener("loadeddata",function(){if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.AUDIOREADY){function e(){getDevice().mobile?(p&&DTM.trackEvent(DTM.events.AUDIOREADY,{player:s}),p=!0):DTM.trackEvent(DTM.events.AUDIOREADY,{player:s})}s.idMedia=r.mediaData.idTOP,r.mediaData.reload||(r.mediaData.isPlaylist?r.mediaData.primerVideoPlayList&&e():e())}})),-1!=r.mediaData.mimetype.indexOf("video")&&(s=document.createElement("video"),u&&(u.mediaTag=s),s.addEventListener("loadeddata",function(){if(getDevice().mobile)u.videoready=!0;else if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY){function e(){getDevice().mobile?(p&&DTM.trackEvent(DTM.events.VIDEOREADY,{player:s}),p=!0):DTM.trackEvent(DTM.events.VIDEOREADY,{player:s})}s.idMedia=r.mediaData.idTOP,r.mediaData.reload||(r.mediaData.isPlaylist?r.mediaData.primerVideoPlayList&&e():e())}})),r.mediaData.premuted&&!getDevice().mobile&&(s.muted=!0),void 0!==s&&null!=s){e=r.uiData.bgColor,s.setAttribute("id","HTML5Controller_"+r.genericData.id),s.setAttribute("title",r.mediaData.title),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("style","background:"+e),s.requestFullScreen=s.requestFullScreen||s.mozRequestFullScreen||s.webkitRequestFullScreen||i.webkitRequestFullScreen;var a=(t=this,function(e){(function(e){switch("timeupdate"!=e.type&&emic.top.debug("[HTML5Controller.js][_onMediaEvent]>> ",e.type),e.type){case"playing":c||(this.isBeginAllowed(r)?(c=!match_UA("iphone")||r.internalData.position!=emic.top.TopPlayer.POSITION_AD_PREROLL,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):this.stop()),o||(o=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),_=!0,this.notifyBufferFull();break;case"pause":o&&(o=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":c&&(c=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":null!=s&&(this.notifyProgress(s.currentTime,s.duration),l&&(this.notifySeekComplete(),l=!1),_||(_=!0,this.notifyBufferFull()),s.duration==1/0||0==s.duration?(!0===r.mediaData.isDVR?this.notifyProgress(s.currentTime,s.duration):this.notifyProgress(s.currentTime,s.currentTime),this.notifyIsLiveStream(!0)):this.notifyIsLiveStream(!1));break;case"waiting":_=!1,this.notifyBufferEmpty();break;case"volumechange":void 0!==s&&this.notifyVolumeChange(s.volume);break;case"loadstart":this.notifyLoadingStart();break;case"error":this.notifyError()}}).apply(t,[e])});v("playing",a),v("pause",a),v("ended",a),v("timeupdate",a),v("waiting",a),v("volumechange",a),v("error",a),v("loadstart",a),s&&r.adData.dai&&m&&(m=!1,s.textTracks.addEventListener("addtrack",function(e){emic.top.debug("[HTML5Controller.js]>>Event: addtrack",e),"metadata"===e.track.kind&&(e.track.mode="hidden",e.track.addEventListener("cuechange",function(e){setTimeout(function(){n.notifyMetadata(data)},1e4),n.notifyID3TagPubli("publicidad"),emic.top.debug("[HTML5Controller.js]>>Event: cuechange",e)}))})),s.getAttribute("autoplay")&&s.removeAttribute("autoplay"),0!=r.uiData.overrideNativeControls&&"false"!=r.uiData.overrideNativeControls||s.setAttribute("controls","controls"),void 0!==r.uiData.poster&&s.setAttribute("poster",r.uiData.poster),E.apply(this),s.volume=r.mediaData.startVolume,i.appendChild(s),r.internalData.mediaElement=s,emic.top.debug("[HTML5Controller.js][_createElement]>> Creado:",s)}else i.innerHTML='<a href="'+d(void 0)+'"></a>'}.apply(this),this.notifyReady()}.apply(this)},this.kill=function(){emic.top.debug("[HTML5Controller.js][kill]>> "),s.pause(),s.parentNode.removeChild(s),s=void 0,r.internalData.mediaElement=void 0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)},this.reload=function(){emic.top.debug("[HTML5Controller.js][reload]>> "),c=!1,s.innerHTML="",E.apply(this),s.load(),s.play(),r.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){if(emic.top.debug("[HTML5Controller.js][play]>> "),void 0!==s&&void 0!==s.play){var e=s.play();if(void 0!==e){var t=this;e.then(function(){}).catch(function(e){emic.top.debug("Error autoplay",e),"object"==typeof e&&"NotAllowedError"==e.name&&t.dispatchEvent(new psd.media.MediaEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR))})}this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}},this.pause=function(){emic.top.debug("[HTML5Controller.js][pause]>> "),void 0!==s&&void 0!==s.pause&&(s.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE))},this.playpause=function(){emic.top.debug("[HTML5Controller.js][playpause]>> "),c?o?(s.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)):(s.play(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):s.play()},this.resume=function(){emic.top.debug("[HTML5Controller.js][resume]>> "),void 0!==s&&void 0!==s.play&&s.play()},this.stop=function(){emic.top.debug("[HTML5Controller.js][stop]>> "),void 0!==s&&void 0!==s.pause&&(s.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP))},this.switchUp=function(){emic.top.debug("[HTML5Controller.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HTML5Controller.js][switchDown]>> ")},this.switchDirect=function(e){emic.top.debug("[HTML5Controller.js][switchDirect]>> ",e)},this.seek=function(e){this.notifySeekStart(),l=!0,emic.top.debug("[HTML5Controller.js][seek]>> ",e),void 0!==s&&void 0!==s.currentTime&&(s.currentTime=e)},this.seekLive=function(e){emic.top.debug("[HTML5Controller.js][seekLive]>> "),void 0!==s&&(this.notifySeekStart(),s.pause(),s.src=s.currentSrc,s.play())},this.setVolume=function(e){emic.top.debug("[HTML5Controller.js][setVolume]>> ",e),void 0!==s&&void 0!==s.volume&&(0<e&&(s.muted=!1),s.volume=e)},this.onAutoSwitchChange=function(){emic.top.debug("[HTML5Controller.js][onAutoSwitchChange]>> ")}}t.prototype=new emic.top.media.MediaControllerBase,e.HTML5Controller=t}(emic.top.media),function(e){function t(e){emic.top.media.MediaControllerBase.call(this);var s=this;this.classname="emic.top.media.YTController",this._player="",this.list="",this.href=window.location.href;var r,l=this;l.current_status=0;var c,d,i,u,m,p,a=l.ad_complete=!1,_=!1,E=e,n=!0,o=!1,v=!1,h=!1,D=!1,f=!1;this.cancelInit=function(){emic.top.debug("[YTController.js][cancelInit]>> ")},this.preload=function(){emic.top.debug("[YTController.js][preload]>> "),this.play()},this.init=function(d){emic.top.debug("[YTController.js][init]>> ",d),this.notifyReady();var e=document.createElement("script");function t(t){var i;function a(e){try{"undefined"!=typeof mm_debug&&console.log("%c IMAYT: makeAdsRequest","color:#333;background:aquamarine;");var t="https://pubads.g.doubleclick.net/gampad/ads?iu=/7811748/"+O()+"_"+i+"/player_youtube&sz=480x360|640x480|480x361&cust_params="+encodeURIComponent(g())+"&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[REFERRER_URL]&correlator="+(1e3*Math.random()|0);psdgetgetpsd("ima")&&(mm_imaybtest=psdgetgetpsd("ima")),"undefined"!=typeof mm_imaybtest&&(t=1==mm_imaybtest?"https://securepubads.g.doubleclick.net/gampad/ads?iu=/7811748/elpais_web/player_youtube&sz=480x360|640x480|480x361&cust_params=pruebas%3Dprueba_vpaid&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[REFERRER_URL]&correlator="+(1e3*Math.random()|0):mm_imaybtest),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: /7811748/"+O()+"_"+i+"/player_youtube","color:gold;font-weight:bold;"),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: "+g(),"color:gold;font-weight:bold"),e.adTagUrl=t,"undefined"!=typeof mm_debug&&console.log("%c IMAYT: URL -> "+t,"color:#333;background:aquamarine;")}catch(e){console.log("error",e)}}if(t&&"undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargado ima3.js","color:#333;background:aquamarine;"),m=(r=d).internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_YT],c=r.mediaData.id,_mediaTypeDM=-1!=r.mediaData.mimetype.indexOf("video")?"vod":"aod",document.getElementById(r.uiData.container).style.visibility="hidden",document.getElementById(r.adData.container).style.visibility="hidden",(p={height:"100%",width:"100%"}).videoId=c,p.playerVars={},r.mediaData.autoplay&&(getDevice().mobile||(p.playerVars.autoplay=1)),p.playerVars.rel=r.mediaData.relateds,r.mediaData.isPlaylist||(p.embedConfig={autonavRelatedVideos:!0},r.mediaData.preorganic="secuencial"),void 0===p.embedConfig&&(p.embedConfig={}),p.embedConfig.adsConfig={},p.embedConfig.adsConfig.adTagParameters={},i="web",getDevice().mobile&&(i="mob"),p.embedConfig.adsConfig.adTagParameters.iu="/7811748/"+O()+"_"+i+"/player_youtube",cust_params=g(),cust_params=encodeURIComponent(cust_params),p.embedConfig.adsConfig.adTagParameters.cust_params=cust_params,p.embedConfig.adsConfig.adTagParameters.ppid=null,p.embedConfig.adsConfig.adTagParameters.pp=null,p.embedConfig.enableIma=t,r.adData.enabledYouTube||(void 0===p.embedConfig&&(p.embedConfig={}),p.embedConfig.adsConfig={},p.embedConfig.adsConfig.disableAds=!0),p.embedConfig.adsConfig.disableAds=!0,p.playerVars.modestbranding=1,p.playerVars.color="white",p.playerVars.frameborder=0,(match_UA("ipad")||match_UA("iphone"))&&(p.playerVars.playsinline=1),""!=this.list&&(p.playerVars.list=this.list,p.playerVars.listType="playlist",p.playerVars.loop=1,r.youtube_playList=this.list),p.events={},p.events.onReady=function(e){s.onPlayerReady(e),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: Player Ready","color:#333;background:aquamarine;"),r.adData.enabledYouTube?void 0!==YT.ImaManager&&t?("undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos ImaManager","color:#333;background:aquamarine;"),l.ad_container=document.getElementById(r.adData.container),l.ad_container.style.position="absolute",l.imaManager=new YT.ImaManager(l._player,m,r.adData.container,a),l.adsLoader=l.imaManager.getAdsLoader(),l.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(){if(l.ad_container.style.position="absolute",l.ad_container.style.top=0,l.ad_container.style.left=0,"undefined"!=typeof mm_debug&&console.log("%c IMAYT: AdsManager loaded -> escucharemos los eventos","color:#333;background:aquamarine;"),l.adsManager=l.imaManager.getAdsManager(),void 0!==l.adsManager&&l.adsManager)for(var e in l.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(){l.ad_container.style.position="absolute",l.ad_container.style.visibility="",l.ad_container.style.top=0,l.ad_container.style.left=0,"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI STARTED","color:#333;background:aquamarine;")}),l.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,function(){document.getElementById(r.adData.container).style.visibility="","undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI PAUSED","color:#333;background:aquamarine;"),l._player.pauseVideo()}),l.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(){document.getElementById(r.adData.container).style.visibility="","undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI COMPLETE","color:#333;background:aquamarine;"),l.ad_complete=!0}),l.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(){document.getElementById(r.adData.container).style.visibility="","undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI SKIPPED","color:#333;background:aquamarine;"),l.ad_complete=!0}),l.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){document.getElementById(r.adData.container).style.visibility="","undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI COMPLETE","color:#333;background:aquamarine;"),l.ad_complete||("undefined"!=typeof mm_debug&&console.log("IMAYT no se ha completado el anuncio -> debe ser un RESET"),l._player.pauseVideo())}),l.adsManager.addEventListener("adError",function(){alert("error")}),google.ima.AdEvent.Type)l.adsManager.addEventListener(google.ima.AdEvent.Type[e],function(e){return function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT event -> "+e,"background:pink")}}(e))},!1)):"undefined"!=typeof mm_debug&&console.log("%c IMAYT: No se puede cargar ImaManager","color:#333;background:aquamarine;"):"undefined"!=typeof mm_debug&&console.log("%c IMAYT: No hay publicidad","color:#333;background:aquamarine;")},p.events.onStateChange=function(e){s.onPlayerStateChange(e)},p.events.onPlaybackQualityChange=function(e){s.onPlayerPlaybackQualityChange(e)},p.events.onError=function(e){s.onPlayerError(e)},p.events.onAdStart=function(e){s.notifyStatusChange("onAdStart")},p.events.onAdEnd=function(e){s.notifyStatusChange("onAdEnd")},"undefined"==typeof mm_ytLoadApi){window.mm_ytLoadApi=!1;var e=document.createElement("script"),n=document.createTextNode("function onYouTubePlayerAPIReady(){mm_ytLoadApi = true;}");e.appendChild(n),document.body.appendChild(e),(e=document.createElement("script")).type="text/javascript",e.src="https://www.youtube.com/iframe_api?ima=1","undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos iframe_api?ima=1","color:#333;background:aquamarine;");var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}l.readyYoutube()}e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js","undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos ima3.js","color:#333;background:aquamarine;"),e.onload=function(){t(!0)},e.onerror=function(){t(!1)},document.head.appendChild(e)};var O=function(){if(""!=r.adData.adunit)return r.adData.adunit;switch(r.genericData.id_cuenta){case"elpais":return"elpais";case"elpaisbrasil":return"elpais_brasil";case"verne":return"elpais_verne";case"elcomidista":return"elpais_comidista";case"cincodias":return"elpais_finanzas_cincodias";case"retina":return"elpais_finanzas_retina";case"diarioas":return"as";case"asmeristation":return"meristation";case"librotea":return"elpais_librotea ";case"motor":return"motor";case"smoda":return"smoda";case"playser":return"cadenaser"}},g=function(){var e,t,i;return(pTags="")!=r.adData.pTags?pTags=r.adData.pTags:pTags=r.mediaData.tags.allTags,pTags=[pTags,r.mediaData.tags.iptc,r.mediaData.tags.iab,r.mediaData.tags.externals.replace(/;/g,","),r.mediaData.tags.tagsNoticiasId].filter(Boolean).join(","),e=""!=r.adData.tags_noticia?","+r.adData.tags_noticia:r.adData.tags_noticia,pTags+=""!=pTags?e:r.adData.tags_noticia,t=y(),i="undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg?"&ksg="+PBS.slm.cf.key.ksg.join(","):"","pbskey="+pTags+i+"&videoTime="+t},y=function(){switch(duration=r.mediaData.duration/1e3,!0){case 0==duration:return"0";case 0<duration&&duration<6:return"5";case 5<duration&&duration<11:return"10";case 10<duration&&duration<16:return"15";case 15<duration&&duration<21:return"20";case 20<duration&&duration<26:return"25";case 25<duration&&duration<31:return"30";case 30<duration&&duration<36:return"35";case 35<duration&&duration<41:return"40";case 40<duration&&duration<46:return"45";case 45<duration:return"mas45"}};l.readyYoutube=function(){var e;"boolean"==typeof mm_ytLoadApi&&1==mm_ytLoadApi?(clearTimeout(e),this._player=new YT.Player(m,p),window.ppp=this._player):e=setTimeout(function(){s.readyYoutube()},100)},this.onPlayerReady=function(t){if(_=!0,E.videoready=!0,E.videoreadyEvents=t.target,"undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY){function e(e){getDevice().mobile?(f&&DTM.trackEvent(DTM.events.VIDEOREADY,e),f=!0):DTM.trackEvent(DTM.events.VIDEOREADY,e)}r.mediaData.reload||(r.mediaData.isPlaylist?r.mediaData.primerVideoPlayList&&e({player:this._player}):e({player:this._player}))}d=t.target.getDuration(),u=0==parseInt(t.target.getCurrentTime())?"0":parseInt(t.target.getCurrentTime());var i,a,n=-1,o=function(){if(-1!=n){if(s._player.getPlayerState()==YT.PlayerState.PLAYING&&s.href==window.location.href){var e=s._player.getCurrentTime();.5<Math.abs(e-n-1)&&(u=parseInt(t.target.getCurrentTime()),s.notifySeekStart(),s.notifySeekComplete(u))}s.href!=window.location.href&&(s.href="")}n=s._player.getCurrentTime(),setTimeout(o,1e3)};setTimeout(o,1e3),void 0!==window.mm_functionsYT&&(""!=window.mm_functionsYT?Object.getOwnPropertyNames(t.target).forEach(function(e){e==mm_functionsYT&&t.target[mm_functionsYT]()}):mm_functionsYT=t.target),_dataYT="function"==typeof t.target.getVideoData?t.target.getVideoData():t.target.l.videoData,t.target.getVolume().toPrecision(3),t.target.getCurrentTime(),r.mediaData.title=(i=_dataYT.title,a=r.mediaData.title,void 0!==i&&""!=i?i:a),r.mediaData.duration=1e3*d,r.mediaData.progressTime=u,r.mediaData.premuted?this._player.isMuted()||this._player.mute():this._player.isMuted()&&this._player.unMute()},this.play=function(){_&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.resume=function(){_&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.pause=function(){_&&(void 0!==l.adsManager&&void 0!==l.adsManager.stop&&l.adsManager.stop(),this._player.pauseVideo())},this.stop=function(){n=!1,_&&(this._player.stopVideo(),clearInterval(i),o=!(a=!1)),D=h=v=!1},this.reset=function(){},this.inProgress=function(){if(s.href!=window.location.href&&s.stop(),this._player.isMuted()?r.mediaData.premuted||(r.mediaData.premuted=!0):r.mediaData.premuted&&(r.mediaData.premuted=!1),1==this._player.getPlayerState()){u=parseInt(this._player.getCurrentTime());var e=Math.round(100*u/d);!v&&25<=e&&e<=49&&(v=!0),!h&&50<=e&&e<=74&&(h=!0),!D&&75<=e&&(D=!0),this.notifyProgress(u,d)}},this.onPlayerStateChange=function(e){var t;"undefined"!=typeof mm_debug&&console.log("%c eventtttt","background:tomato",e),e.data,YT.PlayerState.BUFFERING,e.data==YT.PlayerState.UNSTARTED&&(a=!1,r.mediaData.isPlaylist||(r.mediaData.reload=!1),r.mediaData.id=e.target.getVideoData().video_id,t=this,n?(t.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),D=h=v=n=!1):n=!0),e.data==YT.PlayerState.ENDED&&(n=!0),e.data!=YT.PlayerState.PLAYING||a||(a=!0,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),r.mediaData.id=e.target.getVideoData().video_id,i=setInterval(function(){s.inProgress()},1e3)),e.data==YT.PlayerState.PAUSED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE),o?o=a=!1:a=!0),e.data==YT.PlayerState.PLAYING&&(e.target.getCurrentTime().toPrecision(4),e.target.getVolume().toPrecision(3),a=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),e.data==YT.PlayerState.BEGIN&&emic.top.event.MediaEvent.ON_MEDIA_BEGIN,e.data==YT.PlayerState.ENDED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP),u=parseInt(e.target.getCurrentTime()),r.mediaData.progressTime=u,this.notifyProgress(u,d),emic.top.event.MediaEvent.ON_MEDIA_END,this.notifyMediaEnd(),clearInterval(i),D=h=v=a=!1),l.current_status=e.data},this.onPlayerPlaybackQualityChange=function(e){s.notifySwitchComplete(e)},this.onPlayerError=function(e){switch(e.data){case 2:emic.top.debug("[YTController.js][onPlayerError]>> Iniciando peticion de librerías a Youtube");break;case 5:emic.top.debug("[YTController.js][onPlayerError]>> Error reproducción video con HTML5");break;case 100:emic.top.debug("[YTController.js][onPlayerError]>> Video privado o no encontrado");break;case 101:emic.top.debug("[YTController.js][onPlayerError]>> El propietario no permite reproducción")}}}t.prototype=new emic.top.media.MediaControllerBase,e.YTController=t}(emic.top.media),function(e){function t(){emic.top.media.MediaControllerBase.call(this);var u=this,m=!(this.classname="emic.top.media.DMController");this.init=function(e){emic.top.debug("[DMController.js][init]>> ",e),this.notifyReady();var a,n,o,d=e,s=d.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_DM],r=d.mediaData.id,l=d.mediaData.autoplay,c=d.mediaData.startVolume;document.getElementById(d.uiData.container).style.visibility="hidden",document.getElementById(d.adData.container).style.visibility="hidden",function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=document.location.protocol+"//api.dmcdn.net/all.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.dmAsyncInit=function(){DM.init(),DM.api("/videos",{fields:"screenname"},function(e){var t={};t.video=r,t.width="100%",t.height="100%",t.params={},t.params.api="postMessage",t.params.autoplay=l,t.params.logo=!1,t.params.related=!1,t.params.info=!0,t.params.volume=c;var i=DM.player(s,t);i.addEventListener("apiready",function(e){}),i.addEventListener("play",function(e){}),i.addEventListener("pause",function(e){u.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)}),i.addEventListener("ended",function(e){_progressTime=parseInt(e.target.currentTime),u.notifyProgress(_progressTime,a),emic.top.event.MediaEvent.ON_MEDIA_END,u.notifyMediaEnd(),clearInterval(o)}),i.addEventListener("timeupdate",function(e){m||(e.target.setVolume(c),a=parseInt(e.target.duration),n=e.target.title,d.mediaData.title=n,d.mediaData.duration=a,_mediaTypeDM=-1!=d.mediaData.mimetype.indexOf("video")?"vod":"aod",0!=a&&(o=setInterval(function(){_progressTime=parseInt(e.target.currentTime),u.notifyProgress(_progressTime,a)},1e3),m=!0,u.notifyMediaBegin(),u.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)))})})}}}t.prototype=new emic.top.media.MediaControllerBase,e.DMController=t}(emic.top.media),function(h){function e(e,t){function s(e){if(r&&r.levels.length-1>=e){var t=r.levels[e];return t.name?t.name:t.height?t.height+"p":t.bitrate?t.bitrate<64001?"144p":t.bitrate<373001?"180p":t.bitrate<683001?"270p":t.bitrate<890001?"360p":t.bitrate<1096001?"360p+":t.bitrate<2636001?"576p":t.bitrate<4173001?"720p":"1080p":null}}function a(){emic.top.debug("[HLSController.js][_init]>> "),r&&(r.destroy(),r=null),r=new Hls({debug:!1}),i.apply(this),this.notifyReady()}emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HLSController";var n,r,o,d=this,l={},c=!1,u=!1,m=t,p=new Array,_=!1,E=!1,i=function(){var e,t,i=document.getElementById(l.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS]);if(-1!=l.mediaData.mimetype.indexOf("audio")&&(n=document.createElement("audio"),"undefined"!=typeof mm_crossorigin&&1==mm_crossorigin&&(n.crossOrigin="anonymous"),m&&(m.mediaTag=n),n.addEventListener("loadeddata",function(){if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.AUDIOREADY){function e(){getDevice().mobile?(E&&DTM.trackEvent(DTM.events.AUDIOREADY,{player:n}),E=!0):DTM.trackEvent(DTM.events.AUDIOREADY,{player:n})}n.idMedia=l.mediaData.idTOP,l.mediaData.reload||(l.mediaData.isPlaylist?l.mediaData.primerVideoPlayList&&e():e())}})),-1!=l.mediaData.mimetype.indexOf("video")&&(n=document.createElement("video"),m&&(m.mediaTag=n),n.addEventListener("loadeddata",function(){if(getDevice().mobile)m.videoready=!0;else if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY){function e(){getDevice().mobile?(E&&DTM.trackEvent(DTM.events.VIDEOREADY,{player:n}),E=!0):DTM.trackEvent(DTM.events.VIDEOREADY,{player:n})}n.idMedia=l.mediaData.idTOP,l.mediaData.reload||(l.mediaData.isPlaylist?l.mediaData.primerVideoPlayList&&e():e())}})),void 0!==n&&null!=n){e=l.uiData.bgColor,n.setAttribute("id","HLSController_"+l.genericData.id),n.setAttribute("title",l.mediaData.title),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("style","background:"+e),n.requestFullScreen=n.requestFullScreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||i.webkitRequestFullScreen;var a=(t=this,function(e){(function(e){switch("timeupdate"!=e.type&&emic.top.debug("[HLSController.js][_onMediaEvent]>> ",e.type),e.type){case"playing":u||(this.isBeginAllowed(l)?(u=!0,this.notifyMediaBegin(),2<p.length&&this.notifyRenditions(p),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),void 0!==n&&this.notifyVolumeChange(n.volume)):this.stop()),c||(c=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),this.notifyBufferFull();break;case"pause":c&&(c=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":u&&(u=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":null!=n&&(_&&(this.notifySeekComplete(n.currentTime),_=!1),o?!0===l.mediaData.isDVR?this.notifyProgress(n.currentTime,n.duration,null,null,l.mediaData.isDVR):this.notifyProgress(n.currentTime,n.currentTime,null,null,l.mediaData.isDVR):this.notifyProgress(n.currentTime,n.duration,null,null,l.mediaData.isDVR),this.notifyIsLiveStream(o));break;case"waiting":this.notifyBufferEmpty();break;case"loadstart":this.notifyLoadingStart();break;case"volumechange":void 0!==n&&this.notifyVolumeChange(n.volume);break;case"error":this.notifyError()}}).apply(t,[e])});v("playing",a),v("pause",a),v("ended",a),v("timeupdate",a),v("waiting",a),v("volumechange",a),v("error",a),n.getAttribute("autoplay")&&n.removeAttribute("autoplay"),0!=l.uiData.overrideNativeControls&&"false"!=l.uiData.overrideNativeControls||n.setAttribute("controls","controls"),void 0!==l.uiData.poster&&n.setAttribute("poster",l.uiData.poster),l.mediaData.premuted&&!getDevice().mobile&&(n.muted=!0),r.on(Hls.Events.FRAG_PARSING_METADATA,function(e,t){if(l.adData.dai){for(var i in t.samples){var a=String.fromCharCode.apply(null,t.samples[i].data);if(-1!=a.indexOf("publicidad"))var n=1}n&&(setTimeout(function(){d.notifyMetadata(t)},1e4),d.notifyID3TagPubli(a))}}),r.on(Hls.Events.MEDIA_ATTACHED,function(){var e=l.mediaData.url;if("undefined"!=typeof mm_token){var t=new URL(e);e=t.origin+"/"+mm_token+t.pathname}r.loadSource(e)}),r.on(Hls.Events.MANIFEST_PARSED,function(e,t){p.push({label:"Auto",bitrate:"-1"});for(var i=0;i<r.levels.length;i++){var a=i,n=s(i);if(n){var o=0;"number"==typeof r.levels[i].bitrate&&(o=r.levels[i].bitrate),p.push({label:n,bitrate:a,bitrateNum:o})}}for(i=0;i<p.length;i++)for(var d=0;d<p.length;d++)i!=d&&p[i].label==p[d].label&&(p[i].bitrateNum>p[d].bitrateNum&&(p[i].label+="+"),p[i].bitrateNum<p[d].bitrateNum&&(p[d].label+="+"));MM.player.renditions=p}),r.on(Hls.Events.LEVEL_LOADED,function(e,t){o=t.details.live}),r.on(Hls.Events.ERROR,function(e,t){emic.top.debug("[HLSController.js][_ERROR]>> :",t)}),n.volume=l.mediaData.startVolume,i.appendChild(n),l.internalData.mediaElement=n,emic.top.debug("[HLSController.js][_createElement]>> Creado:",n)}r.attachMedia(n)};this.preload=function(){emic.top.debug("[HLSController.js][preload]>> ")};var v=function(e,t){n&&(n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent&&n.attachEvent(e,t))};this.init=function(e){if(emic.top.debug("[HLSController.js][init]>> "),l=e,h.directInstanceHLS=this,"function"==typeof Hls)a.apply(this);else{var t=document.createElement("script");t.setAttribute("type","text/javascript");var i=l.genericData.urlBase;void 0===i&&(i=""),i+="/psdmedia/resources/js/ext/hls/",t.setAttribute("src",i+"hls.min.js"),t.onload=function(){a.apply(d)},document.getElementsByTagName("head")[0].appendChild(t)}},this.kill=function(){emic.top.debug("[HLSController.js][kill]>> "),n.pause(),n.parentNode.removeChild(n),n=void 0,l.internalData.mediaElement=void 0},this.reload=function(){emic.top.debug("[HLSController.js][reload]>> "),n.innerHTML="",n.load(),n.play(),l.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){if(emic.top.debug("[HLSController.js][play]>> "),r&&void 0!==n&&void 0!==n.play){var e=n.play();if(void 0!==e){var t=this;e.then(function(){}).catch(function(e){emic.top.debug("Error autoplay",e),"object"==typeof e&&"NotAllowedError"==e.name&&t.dispatchEvent(new psd.media.MediaEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR))})}}},this.pause=function(){emic.top.debug("[HLSController.js][pause]>> "),void 0!==n&&void 0!==n.pause&&n.pause()},this.playpause=function(){emic.top.debug("[HLSController.js][playpause]>> "),u&&c?n.pause():n.play()},this.resume=function(){emic.top.debug("[HLSController.js][resume]>> "),void 0!==n&&void 0!==n.play&&n.play()},this.stop=function(){emic.top.debug("[HLSController.js][stop]>> "),void 0!==n&&void 0!==n.pause&&(n.pause(),r&&(r.destroy(),r=null))},this.switchUp=function(){emic.top.debug("[HLSController.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HLSController.js][switchDown]>> ")},this.switchDirect=function(e){var t;emic.top.debug("[HLSController.js][switchDirect]>> ",e);var i=p.length-1-e;t=p[i].bitrate,r.currentLevel!=t&&(r.currentLevel=-1==t?r.autoLevelCapping=-1:t)},this.seek=function(e){this.notifySeekStart(),_=!0,emic.top.debug("[HLSController.js][seek]>> ",e),void 0!==n&&void 0!==n.currentTime&&(n.currentTime=e)},this.seekLive=function(e){emic.top.debug("[HLSController.js][seekLive]>> "),void 0!==n&&(this.notifySeekStart(),_=!0,n.currentTime=n.duration)},this.setVolume=function(e){emic.top.debug("[HLSController.js][setVolume]>> ",e),void 0!==n&&void 0!==n.volume&&(0<e&&(n.muted=!1),n.volume=e)},this.onAutoSwitchChange=function(){emic.top.debug("[HLSController.js][onAutoSwitchChange]>> ")}}e.prototype=new emic.top.media.MediaControllerBase,h.HLSController=e}(emic.top.media),function(e){function y(e,t){psd.framework.EventDispatcher.call(this);var i,a,n,o=t,d=e,s="",r=new emic.top.media.MediaControllerFactory(d),l=0,c=!1,u=this,m=!0;this.getController=function(){return a},this.flag_autoplay=!1,this.getPlayer=function(){return o},this.init=function(){emic.top.debug("[MediaModule.js][init]>> "),d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),d.internalData.currentVolume=d.mediaData.startVolume,emic.top.debug("[MediaModule.js][init]>> Controlador asignado: ",d.internalData.controllerName);var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);"undefined"!=typeof mm_safari&&(e=!0),getDevice().mobile||e&&"undefined"!=typeof mm_presafari?(l=1,f.apply(this,[d.internalData.controllerName,p])):(d.internalData.controllerName==y.CONTROLLER_TYPE_YT?f.apply(this,[d.internalData.controllerName,p]):_.apply(this),d.internalData.controllerName==y.CONTROLLER_TYPE_DM&&f.apply(this,[d.internalData.controllerName,p]))};var p=function(e){emic.top.debug("[MediaModule.js][_onInit]>> "),l=2,e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,p,this),_.apply(this)},_=function(){emic.top.debug("[MediaModule.js][_initComplete]>> ");var e=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_INIT_COMPLETE);e.id=d.mediaData.idTOP,this.dispatchEvent(e)};this.reset=function(){if(emic.top.debug("[MediaModule.js][reset]>> "),s="",this.flag_autoplay)return a.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_CUE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,O,this),d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),f.apply(this,[d.internalData.controllerName,E]),void(i=0);var e;0==l?(d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),getDevice().mobile?(l=1,f.apply(this,[d.internalData.controllerName,E])):(v.apply(this),d.internalData.controllerName==y.CONTROLLER_TYPE_YT&&(l=1,f.apply(this,[d.internalData.controllerName,E])),d.internalData.controllerName==y.CONTROLLER_TYPE_DM&&(l=1,f.apply(this,[d.internalData.controllerName,E])))):(1==l&&a.cancelInit(),e=d.internalData.controllerName,d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),a.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_CUE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_LOADING_START,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,O,this),a.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,O,this),a=void(l=0),r.destroyController(e),getDevice().mobile?(l=1,f.apply(this,[d.internalData.controllerName,E])):(v.apply(this),d.internalData.controllerName==y.CONTROLLER_TYPE_YT&&(l=1),d.internalData.controllerName==y.CONTROLLER_TYPE_DM&&(l=1,f.apply(this,[d.internalData.controllerName,E])))),s="",i=0},this.setPlayer=function(e){n=e};var E=function(e){emic.top.debug("[MediaModule.js][_onReset]>> "),l=2,e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,E,this),v.apply(this)},v=function(){emic.top.debug("[MediaModule.js][_resetComplete]>> ");var e=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RESET_COMPLETE);e.id=d.mediaData.idTOP,this.dispatchEvent(e)};this.preLoadContent=function(){emic.top.debug("[MediaModule.js][preLoadContent]>> "),a&&a.preload()},this.start=function(){emic.top.debug("[MediaModule.js][start]>> "),0==l?(l=1,f.apply(this,[d.internalData.controllerName,h])):2==l&&h.apply(this)};var h=function(e){emic.top.debug("[MediaModule.js][_onStarted]>> "),l=2,e&&e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,h,this),this.play(),d.mediaData.premuted?getDevice().mobile||a.setVolume(0):a.setVolume(d.internalData.currentVolume),a&&d.mediaData.isLive&&a.onAutoSwitchChange(!0)};this.preloadController=function(e){if(emic.top.debug("[MediaModule.js][preloadController]>> ",e),e!=d.internalData.controllerName&&e!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE){var t=r.getController(e,this.getPlayer());t&&(t.addEventListener(emic.top.event.MediaEvent.ON_READY,D,this),emic.top.debug("[MediaModule.js][preloadController]>> Se recupera controlador del Factory"),t.isReady()?(emic.top.debug("[MediaModule.js][preloadController]>> El controlador estaba listo, se recarga"),t.reload()):(emic.top.debug("[MediaModule.js][preloadController]>> El controlador no está listo, se inicializa"),t.init(d)))}};var D=function(e){emic.top.debug("[MediaModule.js][_onPreloadControllerComplete]>> "),e&&e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,D,this);var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PRELOAD_CONTROLLER_COMPLETE);t.id=d.mediaData.idTOP,this.dispatchEvent(t)};this.play=function(){emic.top.debug("[MediaModule.js][play]>> "),this.playDAI(),d.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?(void 0!==window["triton_"+d.genericData.id]&&"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&void 0!==a&&"object"==typeof a&&void 0!==a.className&&"emic.top.media.HTML5Controller"!=a.className&&a.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,O,this),response=!1,d.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)):2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(s==y.STATUS_PAUSE&&a.resume(),s!=y.STATUS_INITIALIZING&&""!=s&&s!=y.STATUS_STOP||a.play())},this.setStatus=function(e){s=e},this.playpause=function(){emic.top.debug("[MediaModule.js][playpause]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.playpause()},this.getStatus=function(){return emic.top.debug("[MediaModule.js][getStatus]>> "),s},this.pause=function(){emic.top.debug("[MediaModule.js][pause]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.pause()},this.stop=function(){emic.top.debug("[MediaModule.js][stop]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.stop()},this.switchUp=function(){emic.top.debug("[MediaModule.js][switchUp]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.switchUp()},this.switchDown=function(){emic.top.debug("[MediaModule.js][switchDown]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.switchDown()},this.switchDirect=function(e){emic.top.debug("[MediaModule.js][switchDirect]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.switchDirect(e)},this.seekByProp=function(e){emic.top.debug("[MediaModule.js][seekByProp]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i&&a.seek(e*i)},this.seekLive=function(e){emic.top.debug("[MediaModule.js][seekLive]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.seekLive()},this.seek=function(e){emic.top.debug("[MediaModule.js][seek]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a.seek(e)},this.seekSeconds=function(e){emic.top.debug("[MediaModule.js][seekSeconds]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&n&&void 0!==n.time&&a.seek(n.time.currentTime+e)},this.setVolume=function(e){var t;emic.top.debug("[MediaModule.js][setVolume]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA?(d.mediaData.premuted=0==e,a.setVolume(e)):d.mediaData.startVolume=e,d.internalData.currentVolume=e,(t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE)).data=e,t.id=d.mediaData.idTOP,this.dispatchEvent(t)},this.addVolume=function(e){d.internalData.currentVolume+e<0?this.setVolume(0):1<d.internalData.currentVolume+e?this.setVolume(1):this.setVolume(d.internalData.currentVolume+e)},this.mute=function(){emic.top.debug("[MediaModule.js][mute]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(0==d.internalData.currentVolume?(a.setVolume(d.internalData.lastVolume),d.internalData.currentVolume=d.internalData.lastVolume,d.mediaData.premuted=!1):(d.internalData.lastVolume=d.internalData.currentVolume,a.setVolume(0),d.internalData.currentVolume=0,d.mediaData.premuted=!0))},this.isPlaying=function(){return emic.top.debug("[MediaModule.js][isPlaying]>> "),s==y.STATUS_PLAY},this.isBuffering=function(){return emic.top.debug("[MediaModule.js][isBuffering]>> "),c},this.getDVRStatus=function(){if(emic.top.debug("[MediaModule.js][getDVRStatus]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)return a.getDVRStatus()};var f=function(e,t){emic.top.debug("[MediaModule.js][_loadController]>> ",{type:e,callback:t}),a=r.getController(e,this.getPlayer()),e==emic.top.MediaModule.CONTROLLER_TYPE_TRITON&&(window["triton_"+d.genericData.id]=!0),a?(a.addEventListener(emic.top.event.MediaEvent.ON_READY,t,this),a.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_CUE,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_METADATA,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_ERROR,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_LOADING_START,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_TAG,O,this),a.addEventListener(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR,O,this),a.isReady()?a.reload():a.init(d)):emic.top.debug("[MediaModule.js][_loadController]>> ERROR, no existen controladores con ese identificador")};this.playDAI=function(){d.adData.dai&&m&&getDevice().mobile&&!checkNativeHLS(d.adData.dai)&&(a.play(),a.pause(),m=!1)},this.selectController=function(e,t){var i,a;if(emic.top.debug("[MediaModule.js][selectController]>> ",{controllerPriority:e,tecPriorityPC:t}),checkNativeHLS(d.adData.dai))for(a=0;a<e.length&&(i=e[a],!g.apply(this,[i]));a++)i=!1;else i=e[0];return i||(i=y.CONTROLLER_TYPE_HTML5NATIVE,match_UA("android")&&(i=y.CONTROLLER_TYPE_REAL_HLS),"undefined"!=typeof mm_force_hls&&1==mm_force_hls&&getDevice().mobile&&(i=y.CONTROLLER_TYPE_REAL_HLS)),emic.top.debug("[MediaModule.js][selectController]>> resultado: ",i),emic.top.debug("%c"+i,"color:#087491;font-size:30px;","1"),i};var O=function(e){if(emic.top.debug("...............................",d.mediaData.duration),d.internalData.position==emic.top.TopPlayer.POSITION_AD_POSTROLL||d.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL)return!1;switch(e.type!=emic.top.event.MediaEvent.ON_PROGRESS&&emic.top.debug("[MediaModule.js][_onControllerEvent]>> ",e.type),e.type){case emic.top.event.MediaEvent.ON_STATUS_CHANGE:s=e.data.status;break;case emic.top.event.MediaEvent.ON_VOLUME_CHANGE:d.internalData.currentVolume=e.data;break;case emic.top.event.MediaEvent.ON_PROGRESS:i=e.data.totalTime;break;case emic.top.event.MediaEvent.ON_BUFFER_EMPTY:c=!0;break;case emic.top.event.MediaEvent.ON_MEDIA_BEGIN:u.started=!0;break;case emic.top.event.MediaEvent.ON_LOADING_START:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&setTimeout(function(){void 0===u.started||u.started||(MM.player.API.pause(),MM.player.API.play(),u.started=!0)},2e3);break;case emic.top.event.MediaEvent.ON_BUFFER_FULL:c=!1;break;case emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR:this.dispatchEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR)}e.id=d.mediaData.idTOP,this.dispatchEvent(e)},g=function(e){var t;switch(e){case y.CONTROLLER_TYPE_TRITON:t=!0;break;case y.CONTROLLER_TYPE_AKAMAIHDS:case y.CONTROLLER_TYPE_AKAMAIHD:t=!1;break;case y.CONTROLLER_TYPE_HTML5NATIVE:case y.CONTROLLER_TYPE_YT:case y.CONTROLLER_TYPE_DM:t=!0;break;case y.CONTROLLER_TYPE_REAL_HLS:case y.CONTROLLER_TYPE_HLS:t=!1}return t}}y.prototype=new psd.framework.EventDispatcher,y.TECHNOLOGY_FLASH="flash",y.TECHNOLOGY_HTML5="html5",y.CONTROLLER_TYPE_AKAMAIHDS="akamaihds",y.CONTROLLER_TYPE_AKAMAIHD="akamaihd",y.CONTROLLER_TYPE_TRITON="triton",y.CONTROLLER_TYPE_HTML5NATIVE="html5native",y.CONTROLLER_TYPE_YT="youtube",y.CONTROLLER_TYPE_DM="dailymotion",y.CONTROLLER_TYPE_HLS="hls",y.CONTROLLER_TYPE_REAL_HLS="Realhls",y.STATUS_PLAY="play",y.STATUS_PAUSE="pause",y.STATUS_INITIALIZING="initializing",y.STATUS_STOP="stop",y.STATUS_DVR_LIVE="playLive",y.STATUS_DVR_DEFERRED="playDVR",y.ERROR_NO_CONTAINER="01",y.ERROR_STATION_NOT_FOUND="STATION_NOT_FOUND",y.ERROR_LIVE_FAILED="LIVE_FAILED",y.ERROR_STREAM_GEO_BLOCKED="STREAM_GEO_BLOCKED",y.ERROR_TIMEOUT_ALERT="ERROR_TIMEOUT_ALERT",y.ERROR_TIMEOUT_REACH="ERROR_TIMEOUT_REACH",y.ERROR_STREAM_CONFIG_ERROR="ERROR_STREAM_CONFIG_ERROR",y.ERROR_STREAM_ERROR="ERROR_STREAM_ERROR",y.ERROR_CONFIGURATION_ERROR="ERROR_CONFIGURATION_ERROR",e.MediaModule=y}(emic.top),function(e){function n(){}n.prototype=new psd.framework.EventDispatcher,n.NETWORK_FACEBOOK="networkFacebook",n.NETWORK_TWITTER="networkTwitter",n.NETWORK_GOOGLEPLUS="networkGoogleplus",n.getUrlShare=function(e,t){emic.top.debug("[SocialModule.js][getUrlShare]>> ",{network:e,data:t});var i="",a="http://play.cadenaser.com/audio/"+t.mediaData.idTOP;switch(e){case n.NETWORK_FACEBOOK:i=encodeURI("https://www.facebook.com/sharer/sharer.php?u="+a);break;case n.NETWORK_TWITTER:i=encodeURI("https://twitter.com/intent/tweet?text="+t.mediaData.title+". "+t.mediaData.description+". &url="+a);break;case n.NETWORK_GOOGLEPLUS:i=encodeURI("https://plus.google.com/share?url="+a)}return i},e.SocialModule=n}(emic.top),function(e){function t(){psd.framework.EventDispatcher.call(this),this.infoEskup={},this.idTop=null;var t,a=this;this.setPlayer=function(e){t=e},this.getPlayer=function(){return t},this.notifyInitComplete=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_INIT_COMPLETE))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))},this.notifyOrderPlay=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAY))},this.notifyOrderPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PAUSE))},this.notifyOrderPlayPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE))},this.notifyOrderStop=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_STOP))},this.notifyOrderVolumeChange=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE);t.data=e,this.dispatchEvent(t)},this.notifyOrderMute=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_MUTE))},this.notifyOrderFullScreen=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN))},this.notifyOrderSeekByProp=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP);t.data=e,this.dispatchEvent(t)},this.notifyOrderSeekBySecs=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS);t.data=e,this.dispatchEvent(t)},this.notifyOrderSeekLive=function(){var e=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE);this.dispatchEvent(e)},this.notifyOrderNext=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_NEXT))},this.notifyOrderPrev=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PREV))},this.notifyOrderShareFacebook=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK))},this.notifyOrderShareTwitter=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER))},this.notifyOrderShareGoogleplus=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS))},this.notifyOrderShareWhatsapp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP))},this.notifyOrderShareSubscribe=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderSwitchUp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP))},this.notifyOrderSwitchDown=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN))},this.notifyOrderSwitchDirect=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT);t.data=e,this.dispatchEvent(t)},this.notifyOrderShareExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL))},this.notifyOrderEmbedExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL))},this.notifyOrderExternal=function(e,t){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EXTERNAL),ev.data.order=e,ev.data.params=t,this.dispatchEvent(ev)},this.notifyOrderReset=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RESET),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderChangeLive=function(e,t){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE),"boolean"==typeof t&&(ev.botonIrDirecto=t),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderButton=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BUTTON),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderRRSS=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RRSS),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderInicioCompartir=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR),ev.data=e,this.dispatchEvent(ev)},this.init=function(e){},this.reset=function(){},this.resize=function(e,t){},this.onProgress=function(e){},this.onVolumeChange=function(e){},this.onStatusChange=function(e){},this.onMetadata=function(e){},this.onCue=function(e){},this.onError=function(e,t){},this.onSwitchRequest=function(e){},this.onSwitchComplete=function(e){},this.requestFullScreen=function(){},this.cancelFullScreen=function(){},this.onSeekStart=function(e){},this.onSeekComplete=function(e){},this.onBufferEmpty=function(){},this.onBufferFull=function(){},this.onRenditions=function(){},this.externalOrder=function(e,t){},this.statusChangeAd=function(e){},this.onPositionChange=function(e){},this.showLoading=function(e){},this.secondsAsTimeCode=function(e,t){var i=Math.floor(e/3600),a=Math.floor((e-3600*i)/60),n=Math.floor(e-3600*i-60*a);return i<10&&(i="0"+i),a<10&&(a="0"+a),n<10&&(n="0"+n),null==t?i+":"+a+":"+n:(i<1?t.replace("hh:",""):t.replace("hh",i)).replace("mm",a).replace("ss",n)},this.getPosition=function(e){for(var t=0,i=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,i+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:i}},this.showByName=function(e){var t;t=document.getElementById(e),this.show(t)},this.hideByName=function(e){document.getElementById(e),this.show(hide)},this.show=function(e){e&&(e.style.display="")},this.hide=function(e){e&&(e.style.display="none")},this.loadEskupInfo=function(e){if(null==e||""==e)return!1;this.idTop=e;var t=new psd.framework.parser.JSONParser,i=new psd.framework.Mediator,a="http://cadenaser.com/ThreadeskupSimple?action=info&th="+e+"&f=jsonp&1";i.corsIE(!0),i.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,n,this),i.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,o,this),i.mediate(a,t,psd.framework.Mediator.RESPONSE_JSONP)},this.loadNComentarios=function(){},callbackThreadeskup=function(e){a.infoEskup=e,a.loadNComentarios()};var n=function(e){0==e.result.parserResult.code||(e.result.parserResult.code,_CODE_NUM_PARSER_ERROR)},o=function(e){};this.recolocarIE8=function(){if(null!=psd.framework.ua.msie&&psd.framework.ua.msie&&parseInt(psd.framework.ua.version)<9)for(calcs=$(".calc_pcom"),i=0;i<calcs.length;i++)for(clasesString=calcs[i].className,clases=clasesString.split(" "),j=0;j<clases.length;j++)parseInt(clases[j])&&0<clases[j].indexOf("width")&&(elemento=calcs[i],elemento.style.width="100%",nuevotam=calcs[i].offsetWidth-parseInt(clases[j])+"px",elemento.style.width=nuevotam),parseInt(clases[j])&&0<clases[j].indexOf("height")&&(elemento=calcs[i],elemento.style.height="100%",nuevotam=calcs[i].offsetHeight-parseInt(clases[j])+"px",elemento.style.height=nuevotam),parseInt(clases[j])&&0<clases[j].indexOf("left")&&(elemento=calcs[i],elemento.style.left="100%",nuevotam=calcs[i].offsetLeft-parseInt(clases[j])+"px",elemento.style.left=nuevotam)},this.getDownloadUrl=function(e){var t="";for(url in e)if(-1==(e[url]+"").indexOf(".m3u8"))return e[url];return t}}t.prototype=new psd.framework.EventDispatcher,e.UISkinBase=t}(emic.top.ui),emic.top.ui.Bumetro=function(){var s=null,r=null,l={color1:"#333",color2:"#888",color1over:"#fdbe00",background:"#ddd",lineWidth:3,lineSeparation:2,bottom:3,colorover:"#feeaab",colorloaded:"#444"},c=0,u=0,m=0,p=[],_=0,E=0,v=0,t=null,h=!1,e=0;this.PROFILE_SIN="profile_sin",this.PROFILE_LINEAR="profile_linear",this.PROFILE_EQUAL="profile_equal",this.PROFILE_WAVE="profile_wave",this.PROFILE_RANDOM="profile_random",this.PROFILE_REAL="profile_real";var D=null,f=[],O=0,g=!1,y=0,a=this,T=!1;this.init=function(e,t){document.getElementById(e).innerHTML="<canvas id='canvas_"+e+"' style='width:100%;height:100%;'></canvas>",s=document.getElementById("canvas_"+e),r=s.getContext("2d"),this.configureStyle(t)},this.setdirecto=function(e){T=e},this.setMirror=function(e){g=e||!g},this.setRound=function(e){y=e},this.getRound=function(){return y},this.configureStyle=function(e){var t;if(e)for(t in e)l[t]=e[t];this.resize(),this.setProfile(D)},this.getStyle=function(){return l},this.setProfile=function(e){for(D=e,f=[],i=0;i<E;i++)f[i]=s.height/2},this.getProfile=function(){return D},this.doProfile=function(e){O++;var t=[];for(i in f)t[i]=f[i];if(h)return h=!1,t;switch(D){case this.PROFILE_REAL:var i,a,n=Math.floor(E/2),o=0,d=.5;for(O%5==0&&(t[n]=100*Math.random()+50),t[n]-=8,i=n-1;-1<i;i--)d=++o<5?.1*Math.random():.05*Math.random(),t[i]=t[i+1]-d*(E-i),t[i]<5&&(t[i]=5);for(o=0,i=n+1;i<E;i++)d=++o<5?.1*Math.random():.05*Math.random(),t[i]=t[i-1]-d*i,t[i]<5&&(t[i]=5);break;case this.PROFILE_EQUAL:for(i in f)f[i]>s.height/2?t[i]-=3:f[i]<s.height/2?t[i]+=3:t[i]+=4*Math.random();O%20&&(t[Math.floor(Math.random()*E)]+=50*Math.random());break;case this.PROFILE_LINEAR:for(i in f)t[i]=f[i];break;case this.PROFILE_SIN:for(i in a=0,f)a++,t[i]=s.height/2+Math.sin(a)*Math.sin(O)*10;break;case this.PROFILE_RANDOM:for(i in f)t[i]=s.height/2+35*Math.sin(6*Math.random());break;case this.PROFILE_WAVE:for(i in a=0,f)O++,t[i]=s.height/2+10*Math.sin(O)}for(i in t)t[i]<5&&(t[i]=5);return t},this.setProgress=function(e){c=e},this.setProgressLoaded=function(e){null!=e&&(m=e)},this.setProgressOver=function(e,t){null!=e&&(u=e,null!=t&&(v=t))},this.setValues=function(e){p=e},this.resize=function(){var e;for(s.width=s.offsetWidth,_=parseInt(l.lineWidth)+parseInt(l.lineSeparation),E=Math.floor(parseInt(s.width)/_),f=[],e=0;e<E;e++)f[e]=s.height/2},this.timeout=function(){e!=s.offsetWidth&&(a.resize(),e=s.offsetWidth),a.paint()},this.play=function(e){this.timeout(),null==t&&(t=setInterval(this.timeout,e))},this.pause=function(){var e;for(e in f)f[e]=5;this.paint(!0),h=!0,clearInterval(t),t=null},this.paint=function(e){var t;r.fillStyle=l.background,r.clearRect(0,0,s.width,s.height),r.fillRect(0,0,s.width,s.height);var i=s.width*u/100+v,a=s.width*m/100,n=s.width*c/100;T&&(i=a=n=0);var o=0,d=0;if(f=null!=D?this.doProfile():p,e)for(t in f)f[t]=5;if(0<y)for(t in f)f[t]=Math.floor(f[t])-f[t]%y;for(t=0;t<E;t++)o=t*_,d=f[Math.floor(f.length/(E/t))],o<n?r.fillStyle=o<i?l.color1over:l.color1:(r.fillStyle=o<a?l.colorloaded:l.color2,o<i&&(r.fillStyle=l.colorover)),g?r.fillRect(o,s.height/2+d/2,l.lineWidth,-d):r.fillRect(o,s.height-l.bottom,l.lineWidth,-d);T||(r.fillStyle="gold",r.fillRect(n,s.height-5,l.lineWidth,-40))}},emic.top.ui.Mosaic=function(){var n=null,i=null,o=0,d=0;this.enabled=!0,this.init=function(e,t){n=document.getElementById(e),null!=t?((i=document.createElement("img")).src=t,i.setAttribute("loading","lazy"),i.onload=function(){o=0<n.offsetWidth?n.offsetWidth:parseInt(n.style.width),d=0<n.offsetHeight?n.offsetHeight:parseInt(n.style.height),n.style.backgroundSize=10*o+"px "+6*d+"px",n.style.backgroundImage="url('"+t+"')",n.style.position="0 0"}):this.enabled=!1},this.paint=function(e){if(this.enabled){var t=60*e/100|0,i=t/10|0,a=t%10|0;n.style.backgroundPositionX=-a*o,n.style.backgroundPositionY=-i*d,n.style.backgroundPosition=-a*o+"px "+-i*d+"px"}},this.resetSize=function(){this.enabled&&(n.style.backgroundSize=10*n.offsetWidth+"px "+6*n.offsetHeight+"px",o=n.offsetWidth,d=n.offsetHeight)}},function(e){e.DragContainer=function(e,t,i,a,n,o,d){"string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t)),this.container=e,this.el=t,this.onStart=i,this.onSeek=a,this.onFinish=n,this.min=o,this.max=d,void 0!==(that=this).onStart&&null!=this.onStart||(this.onStart=function(){}),void 0!==this.onSeek&&null!=this.onSeek||(this.onSeek=function(){}),void 0!==this.onFinish&&null!=this.onFinish||(this.onFinish=function(){});var s=0;this.value=0,this.registrarDrag=function(){this.container.addEventListener("touchstart",function(e){return that.onStart(),e=(e=e||window.event).targetTouches[0],s=e.pageX?e.pageX:e.clientX,!0}),this.container.addEventListener("touchmove",function(e){var t=(e=(e=e||window.event).targetTouches[0]).pageX?e.pageX:e.clientX;that.value=t-s,s=t;var i=parseInt(that.el.style.left)+that.value;return i<o&&(i=o),d<i&&(i=d),that.el.style.left=i+"px",that.onSeek(that.value),!0}),this.container.addEventListener("touchend",function(){return that.onFinish(that.value),!0})}},e.Drag=function(e,t,i,a,n){this.el=e,this.parent=t,this.onStart=i,this.onSeek=a,this.onFinish=n,this.registrarDragFromParent=function(){""==this.parent.style.left&&(this.parent.style.left="0px")&&this.registrarDrag(this.el,parseInt(this.parent.style.left),parseInt(this.parent.offsetWidth),this.onStart,this.onSeek,this.onFinish)},this.registrarDrag=function(d,s,e,t,r,i){d.onmousedown=function(e){t(),e=e||window.event,""==d.style.left&&(d.style.left="0px");var a=parseInt(d.style.left),n=0,o=0;e.pageX?n=e.pageX:e.clientX&&(n=e.clientX),d.style.position="relative",document.body.onmousemove=function(e){var t=r(),i=0;(e=e||window.event).pageX?i=e.pageX:e.clientX&&(i=e.clientX),o=i-n,d.style.left=a+o+"px",null!=t&&parseInt(d.style.left)+parseInt(d.offsetWidth)>t&&(d.style.left=t-parseInt(d.offsetWidth)+"px"),null!=s&&parseInt(d.style.left)<s&&(d.style.left=s)},document.body.onmouseup=function(){i(),document.body.onmousemove=document.body.onmouseup=null}},d.addEventListener("touchstart",function(e){console.log("touch start"),t(),e=(e=e||window.event).targetTouches[0],""==d.style.left&&(d.style.left="0px");var a=parseInt(d.style.left),n=0,o=0;e.pageX?n=e.pageX:e.clientX&&(n=e.clientX),d.style.position="relative",d.addEventListener("touchmove",function(e){console.log("touch move");var t=r(),i=0;(e=(e=e||window.event).targetTouches[0]).pageX?i=e.pageX:e.clientX&&(i=e.clientX),o=i-n,d.style.left=a+o+"px",null!=t&&parseInt(d.style.left)+parseInt(d.offsetWidth)>t&&(d.style.left=t-parseInt(d.offsetWidth)+"px"),null!=s&&parseInt(d.style.left)<s&&(d.style.left=s)}),d.addEventListener("touchend",function(){console.log("touch end"),i()})})}}}(emic.top.ui),function(e){Transcription=function(e,a,s){var d=this;function r(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}"function"!=typeof window.CustomEvent&&(r.prototype=window.Event.prototype,window.CustomEvent=r),this.minWidth=600,this.palabras=[],this.frases=[],this.spans=[];var f,l,c,u,m,p=!(this.speakers=[]),O=!0,g=e,_=0,E=[],v=document.createElement("ul");return v.style.position="absolute",v.style.width="100%",v.style.top="0",v.className="mm_back",g.innerHTML="",g.appendChild(v),this.exists=function(e){for(var t=!0,i=e[0],a=1;a<e.length-1;a++)t&&void 0!==i[e[a]]?i=i[e[a]]:t=!1;return t},this.generateSpans=function(e,i){if(document.getElementById(e).innerHTML="",this.exists([f,"data",0,"transcription","wordlist"])){for(var t in f.data[0].transcription.wordlist){var a=f.data[0].transcription.wordlist[t],n=document.createElement("span");n.innerHTML=" "+a.content,n.style.cursor="pointer",function(t){n.onclick=function(){for(var e in d.spans)d.spans[e].style.color="black";i.seek(t.stime)}}(a),document.getElementById(e).appendChild(n),this.spans[this.spans.length]=n}p=!0}},this.createLineas=function(){for(var e in 0==s?(l=this.frases,v.className="transition",v.style.textAlign="left"):(l=this.palabras,v.className="transition",v.style.textAlign="center"),v.innerHTML="",E=[],l)if(null!=l[e].text){var t=document.createElement("li"),i=document.createElement("span");i.innerHTML=l[e].text,t.appendChild(i),E[E.length]=t,v.appendChild(t)}this.getIndex(10);var a=new CustomEvent("ready",{});g.dispatchEvent(a)},this.addEventListener=function(e,t){g.addEventListener(e,t)},this.removeEventListener=function(e){g.removeEventListener(e,function(){})},this.setType=function(e){s=e,this.createLineas()},this.getIndex=function(e){if(O){try{for(var t in l)t<l.length&&l[t].startm<e&&l[t].endm>e&&(_=t)}catch(e){console.log(e)}this.paint()}},this.updatespans=function(){if(1==s)for(var e in this.spans)this.spans[e].style.color="black";else for(var e in this.spans)this.spans[e].style.color="black"},this.setEnabled=function(e){g.style.display=e?"block":"none"},this.paint=function(){if(O&&0!=E.length){g.offsetWidth<this.minWidth?0==s&&this.setType(1):1==s&&this.setType(0),p&&this.updatespans();var e,t=E[_],a=0<_?E[_-1]:E[_];for(i in _<E.length-1?e=E[parseInt(_)+1]:e=E[E.length-1],E)E[i].className="";void 0!==a&&(a.className="anterior"),void 0!==e&&(e.className="siguiente"),void 0!==t&&(t.className="activo");var n=g.offsetHeight,o=(v.offsetHeight,t.offsetHeight),d=t.offsetTop;v.style.top=n/2-d-o/2+"px"}},"function"==typeof window.onresize?this.preResize=window.onresize:this.preResize=function(){},window.onresize=function(){d.preResize(),d.paint()},this.getSpeakers=function(){var e="";for(var t in d.speakers)void 0!==d.speakers[t].description&&(""!=d.speakers[t].description?e+=d.speakers[t].description+";":""!=d.speakers[t].idref&&(e+=d.speakers[t].idref+";"));return(e+="---").replace(";---","").replace("---","")},this.onDataLoaded=function(e){function a(e){return void 0!==e?e.replace(/^\s+|\s+$/g,""):""}if(void 0===(f=e).data[0]){O=!1;var d=new CustomEvent("notranscription",{});return g.dispatchEvent(d),""}d=new CustomEvent("transcriptionready",{}),g.dispatchEvent(d);var s=e.data[0].srt;if(this.speakers=f.data[0].speakers,null==s)return O=!1,d=new CustomEvent("notranscription",{}),g.dispatchEvent(d),"";srt=s.replace(/\r\n|\r|\n/g,"\n"),srt=a(srt);var r=srt.replace("\n\n\n","\n\n").split("\n\n"),l=[];for(h=0;h<r.length;h++)if(st=r[h].split("\n"),2<=st.length){if(n=st[0],i=a(st[1].split(" --\x3e ")[0]),o=a(st[1].split(" --\x3e ")[1]),t=st[2],2<st.length)for(j=3;j<st.length;j++)t+="\n"+st[j];l[h]={},l[h].number=n,l[h].start=i,l[h].end=o,l[h].text=t;var c=i.split(","),u=c[0].split(":"),m=parseInt(c[1])+1e3*parseInt(u[2])+1e3*parseInt(u[1])*60+1e3*parseInt(u[0])*60*60,p=o.split(","),_=p[0].split(":"),E=parseInt(p[1])+1e3*parseInt(_[2])+1e3*parseInt(_[1])*60+1e3*parseInt(_[0])*60*60;l[h].startm=m,l[h].endm=E}this.frases=l;var v=[];for(var h in e.data[0].transcription.wordlist){var D=e.data[0].transcription.wordlist[h];v[h]={},v[h].number=h,v[h].start="",v[h].end="",v[h].text=D.content,v[h].startm=1e3*parseFloat(D.stime),v[h].endm=1e3*parseFloat(D.stime)+parseFloat(1e3*D.dur)}this.palabras=v,this.createLineas()},c=a,u=function(e){d.onDataLoaded(e)},function(){},(m="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("get",c,!0),m.onreadystatechange=function(){var e;4!=m.readyState||200==m.status&&(e=JSON.parse(m.responseText),u(e))},m.send(),this},e.Transcription=Transcription}(emic.top.ui),function(e){function t(){psd.framework.EventDispatcher.call(this),this.init=function(){},this.reset=function(){},this.kill=function(){},this.notifyPreviewReady=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_PREVIEW_READY))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))}}t.prototype=new psd.framework.EventDispatcher,e.UIPreviewBase=t}(emic.top.ui),function(e){function t(){var i,a,n;emic.top.ui.UIPreviewBase.call(this),this.init=function(e){var t;i=e,(a=document.getElementById(i.internalData.previewContainer)).style["background-color"]="black",(n=document.createElement("img")).setAttribute("src",i.uiData.poster),n.setAttribute("width",i.genericData.width),n.setAttribute("height",i.genericData.height),a.onclick=(t=this,function(){t.notifyOrderBegin()}),n.onload=function(){},a.appendChild(n),this.notifyPreviewReady()},this.reset=function(){n.setAttribute("src",i.uiData.poster)},this.kill=function(){a.removeChild(n)}}t.prototype=new emic.top.ui.UIPreviewBase,e.TopPreview_generic=t}(emic.top.ui),emic.top.ui.UIFactory=function(){this.skinDirNames=[],this.skinDirNames[emic.top.UIModule.SKIN_MERISTATION]=["meristation","meristation"],this.skinDirNames[emic.top.UIModule.SKIN_HUFFINGTON]=["huff","huff"],this.skinDirNames[emic.top.UIModule.SKIN_TRANSPARENT]=["transparent","transparent"],this.skinDirNames[emic.top.UIModule.SKIN_SMODA]=["smoda","smoda"],this.skinDirNames[emic.top.UIModule.SKIN_LOS40]=["los40","los40"],this.skinDirNames[emic.top.UIModule.SKIN_PSV2]=["psv2","PSv2"],this.skinDirNames[emic.top.UIModule.SKIN_CSV2]=["csv2","CSv2"],this.skinDirNames[emic.top.UIModule.SKIN_GENERICV2]=["genericv2","genericv2"],this.skinDirNames[emic.top.UIModule.SKIN_ELPAIS]=["elpais","elpais"],this.skinDirNames[emic.top.UIModule.SKIN_LATAM]=["latam","latam"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER]=["playser","playser"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER2]=["playser2","playser2"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_DETALLE]=["playser_det","playser_det"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_PEP]=["playser_pep","playser_pep"],this.skinDirNames[emic.top.UIModule.SKIN_VIDEOGENERIC]=["videogeneric","videogeneric"],this.skinDirNames[emic.top.UIModule.SKIN_PODCASTS]=["podcasts","podcasts"],this.skinDirNames[emic.top.UIModule.SKIN_HERTZ]=["hertz","Hertz"],this.skinDirNames[emic.top.UIModule.SKIN_HERTZFILETE]=["hertzfilete","HertzFilete"],this.skinDirNames[emic.top.UIModule.SKIN_EPPODCAST]=["eppodcast","EPpodcast"],this.skinDirNames[emic.top.UIModule.SKIN_ONEPLAYER]=["oneplayer","oneplayer"],this.skinDirNames[emic.top.UIModule.SKIN_PARAHABLADAS]=["parahabladas","parahabladas"],this.skinDirNames[emic.top.UIModule.SKIN_NLOS40]=["nlos40","nlos40"],this.skinDirNames[emic.top.UIModule.SKIN_CARACOLPODCAST]=["caracolpodcast","Caracolpodcast"],this.skinDirNames[emic.top.UIModule.SKIN_PUX]=["pux","Pux"],this.skinDirNames[emic.top.UIModule.SKIN_SERPER]=["serper","Serper"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIO]=["EPaudio","EPaudio"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIOSINIMAGEN]=["EPaudiosinimagen","EPaudiosinimagen"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIOPORTADA]=["EPaudioPortada","EPaudioPortada"],this.skinDirNames[emic.top.UIModule.SKIN_ASAUDIO]=["asaudio","asaudio"],this.skinDirNames[emic.top.UIModule.SKIN_LOS40PER]=["los40per","los40per"],this.skinDirNames[emic.top.UIModule.SKIN_SERNA]=["serna","serna"],this.skinDirNames[emic.top.UIModule.SKIN_SERNV]=["sernv","sernv"],this.skinDirNames[emic.top.UIModule.SKIN_SMODAAUDIO]=["smodaaudio","SModaAudio"],this.skinDirNames[emic.top.UIModule.SKIN_SMODAAUDIOSINIMAGEN]=["smodaaudiosinimagen","SModaAudiosinimagen"],this.skinDirNames[emic.top.UIModule.SKIN_MOTORAUDIO]=["motoraudio","MotorAudio"],this.skinDirNames[emic.top.UIModule.SKIN_MOTORAUDIOSINIMAGEN]=["motoraudiosinimagen","MotorAudiosinimagen"],this.getSkin=function(e){var t;switch(e){case emic.top.UIModule.SKIN_GENERIC_FENIX:t=new emic.top.ui.SkinFenix(e);break;case emic.top.UIModule.SKIN_TEST:t=new emic.top.ui.TopSkin_test;break;case emic.top.UIModule.SKIN_PLAYSER_PEP:t=new emic.top.ui.TopSkin_playser_pep;break;case emic.top.UIModule.SKIN_PLAYSER_DETALLE:t=new emic.top.ui.TopSkin_playser_det;break;case emic.top.UIModule.SKIN_PLAYSER:t=new emic.top.ui.TopSkin_playser;break;case emic.top.UIModule.SKIN_PLAYSER2:t=new emic.top.ui.TopSkin_playser2;break;case emic.top.UIModule.SKIN_LUIS:t=new emic.top.ui.TopSkin_luis;break;case emic.top.UIModule.SKIN_MERISTATION:t=new emic.top.ui.TopSkin_meristation;break;case emic.top.UIModule.SKIN_HUFFINGTON:t=new emic.top.ui.TopSkin_huff;break;case emic.top.UIModule.SKIN_TRANSPARENT:t=new emic.top.ui.TopSkin_transparent;break;case emic.top.UIModule.SKIN_SMODA:t=new emic.top.ui.TopSkin_smoda;break;case emic.top.UIModule.SKIN_LOS40:t=new emic.top.ui.TopSkin_los40;break;case emic.top.UIModule.SKIN_PSV2:t=new emic.top.ui.TopSkin_PSv2;break;case emic.top.UIModule.SKIN_CSV2:t=new emic.top.ui.TopSkin_CSv2;break;case emic.top.UIModule.SKIN_GENERICV2:t=new emic.top.ui.TopSkin_genericv2;break;case emic.top.UIModule.SKIN_PMETA:t=new emic.top.ui.TopSkin_PMETA;break;case emic.top.UIModule.SKIN_ELPAIS:t=new emic.top.ui.TopSkin_elpais;break;case emic.top.UIModule.SKIN_LATAM:t=new emic.top.ui.TopSkin_latam;break;case emic.top.UIModule.SKIN_VIDEOGENERIC:t=new emic.top.ui.TopSkin_videogeneric;break;case emic.top.UIModule.SKIN_PODCASTS:t=new emic.top.ui.TopSkin_podcasts;break;case emic.top.UIModule.SKIN_HERTZ:t=new emic.top.ui.TopSkin_hertz;break;case emic.top.UIModule.SKIN_HERTZFILETE:t=new emic.top.ui.TopSkin_hertzfilete;break;case emic.top.UIModule.SKIN_EPPODCAST:t=new emic.top.ui.TopSkin_EPpodcast;break;case emic.top.UIModule.SKIN_ONEPLAYER:t=new emic.top.ui.TopSkin_oneplayer;break;case emic.top.UIModule.SKIN_PARAHABLADAS:t=new emic.top.ui.TopSkin_parahabladas;break;case emic.top.UIModule.SKIN_NLOS40:t=new emic.top.ui.TopSkin_nlos40;break;case emic.top.UIModule.SKIN_CARACOLPODCAST:t=new emic.top.ui.TopSkin_caracolpodcast;break;case emic.top.UIModule.SKIN_PUX:t=new emic.top.ui.TopSkin_pux;break;case emic.top.UIModule.SKIN_SERPER:t=new emic.top.ui.TopSkin_serper;break;case emic.top.UIModule.SKIN_EPAUDIO:t=new emic.top.ui.TopSkin_EPAudio;break;case emic.top.UIModule.SKIN_EPAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_EPAudiosinimagen;break;case emic.top.UIModule.SKIN_EPAUDIOPORTADA:t=new emic.top.ui.TopSkin_EPAudioPortada;break;case emic.top.UIModule.SKIN_ASAUDIO:t=new emic.top.ui.TopSkin_AsAudio;break;case emic.top.UIModule.SKIN_LOS40PER:t=new emic.top.ui.TopSkin_los40per;break;case emic.top.UIModule.SKIN_SERNA:t=new emic.top.ui.TopSkin_serna;break;case emic.top.UIModule.SKIN_SERNV:t=new emic.top.ui.TopSkin_sernv;break;case emic.top.UIModule.SKIN_MOTORAUDIO:t=new emic.top.ui.TopSkin_MotorAudio;break;case emic.top.UIModule.SKIN_MOTORAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_MotorAudiosinimagen;break;case emic.top.UIModule.SKIN_SMODAAUDIO:t=new emic.top.ui.TopSkin_SModaAudio;break;case emic.top.UIModule.SKIN_SMODAAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_SModaAudiosinimagen;break;default:t=new emic.top.ui.TopSkin_playser}return t},this.getPreview=function(e){var t;switch(e){case emic.top.UIModule.SKIN_TEST:default:t=new emic.top.ui.TopPreview_generic}return t}},function(e){function t(e){psd.framework.EventDispatcher.call(this);var a,d=e,s=new emic.top.ui.UIFactory;function r(e){switch(emic.top.debug("[UIModule.js][_skinHandler]>> ",e.type),e.type){case emic.top.event.UIEvent.ON_ORDER_PLAY:case emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE:d.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN)):this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_BEGIN:case emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE:this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_FACEBOOK,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_TWITTER,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_GOOGLEPLUS,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP:case emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE:case emic.top.event.UIEvent.ON_ORDER_BUTTON:case emic.top.event.UIEvent.ON_ORDER_RSS:case emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR:this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_INIT_COMPLETE:c=!0,this.dispatchEvent(e);break;default:this.dispatchEvent(e)}}function t(e){switch(emic.top.debug("[UIModule.js][_previewHandler]>> ",e.type),e.type){case emic.top.event.UIEvent.ON_ORDER_BEGIN:this.dispatchEvent(e)}}function n(){emic.top.debug("[UIModule.js][_initPreview]>> "),d.uiData.showPreview&&(o=s.getPreview(d.uiData.preview))&&(o.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,t,this),o.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,t,this),o.init(d))}d.internalData.UIFactory=s;var o,l,c=!1,u=[];this.externalNotify=function(e,t,i){emic.top.debug("[UIModule.js][externalNotify]>> ",{type:e,data:t,id:i});var a=new emic.top.event.UIEvent(e);t&&(a.data=t),i&&(a.id=i),r.apply(this,[a])},this.setPlayer=function(e){l=e},this.getPlayer=function(){return l},this.loadSkin=function(e){var t=void 0;if(null!=s.skinDirNames[e]&&(t=s.skinDirNames[e]),null!=t){var i,a=document.createElement("script"),n=d.genericData.urlBase?d.genericData.urlBase:"";"undefined"==typeof tplib?a.src=n+"/psdmedia/media/top/skins/"+t[0]+"/TopSkin_"+t[1]+".min.js":a.src=n+"/psdmedia/media/top/skins/"+t[0]+"/TopSkin_"+t[1]+".lib.js",a.type="text/javascript",a.onload=(i=this,function(){i.onSkinLoaded()}),document.getElementsByTagName("head")[0].appendChild(a)}else emic.top.debug("No existe el skin asociado al tipo",e)},this.init=function(){emic.top.debug("[UIModule.js][init]>> "),psdgetgetpsd("mm_skin")&&(d.uiData.skin=psdgetgetpsd("mm_skin")),this.loadSkin(d.uiData.skin)},this.getget=function(e){return a[e],a[e]},this.createPlayerViewReset=function(e){a.setPlayerviewReset(e)},this.createPlayerView=function(e,t){var a=d.uiData.skin;t&&(window._aux_playerviewinfo=t);var n=s.getSkin(a);if(void 0!==n.playerViewCompatible&&1==n.playerViewCompatible){if(n.soyPlayerView=!0,n.enabled=!0,n.setPlayer(this.getPlayer()),n){n.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,r,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,r,this);var o={};for(i in d)o[i]=d[i];o.internalData.skinContainer=e,o.genericData.id=e,n.init(o),u[u.length]=n}}else emic.top.debug("El skin "+a+" no es compatible con PlayerViews")},this.getSkin=function(){return a},this.onSkinLoaded=function(){(a=s.getSkin(d.uiData.skin)).setPlayer(this.getPlayer()),a&&(a.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,r,this),a.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,r,this),c=!1,a.init(d)),n.apply(this)},this.externalOrder=function(e,t){for(var i in emic.top.debug("[UIModule.js][externalOrder]>> ",{order:e,params:t}),a&&a.externalOrder(e,t),u)u[i].enabled&&u[i].externalOrder(e,t)},this.reset=function(){for(var e in emic.top.debug("[UIModule.js][reset]>> "),a&&void 0!==a.reset_skin&&a.reset_skin(),o?d.uiData.showPreview?o.reset():(o.kill(),o=void 0):d.uiData.showPreview&&n.apply(this),a&&c&&a.reset(),u)u[e].enabled&&u[e].reset()},this.clear=function(){for(var e in emic.top.debug("[UIModule.js][clear]>> "),o&&o.reset(),a&&c&&a.reset(),u)u[e].enabled&&u[e].reset()},this.onPositionChange=function(e){for(var t in emic.top.debug("[UIModule.js][onPositionChange]>> ",e),a&&a.onPositionChange(e),u)u[t].enabled&&u[t].onPositionChange(e)},this.showLoading=function(e){for(var t in emic.top.debug("[UIModule.js][showLoading]>> ",e),a&&c&&a.showLoading(e),u)u[t].enabled&&u[t].showLoading(e)},this.setPlayerViewsEnabled=function(e,t){if(void 0===t)for(var i=0;i<u.length;i++)u[i].enabled=e;else u.length<e&&(u[e].enabled=t)},this.onStatusChange=function(e){if(emic.top.debug("[UIModule.js][onStatusChange]>> ",e),a)for(var t in a.onStatusChange(e),u)u[t].enabled&&u[t].onStatusChange(e)},this.onVolumeChange=function(e){for(var t in emic.top.debug("[UIModule.js][onVolumeChange]>> ",e),a&&a.onVolumeChange(e),u)u[t].enabled&&u[t].onVolumeChange(e)},this.onProgress=function(e){for(var t in this.getPlayer().time=e,a&&a.onProgress(e),u)u[t].enabled&&u[t].onProgress(e)},this.onMetadata=function(e){for(var t in emic.top.debug("[UIModule.js][onMetadata]>> ",e),a&&a.onMetadata(e),u)u[t].enabled&&u[t].onMetadata(e)},this.onCue=function(e){for(var t in emic.top.debug("[UIModule.js][onCue]>> ",e),a&&a.onCue(e),u)u[t].enabled&&u[t].onCue(e)},this.onError=function(e,t){for(var i in emic.top.debug("[UIModule.js][onError]>> ",{msg:e,code:t}),a&&a.onError(e,t),u)u[i].enabled&&u[i].onError(e,t)},this.onSwitchRequest=function(e){emic.top.debug("[UIModule.js][onSwitchRequest]>> ",e),a&&a.onSwitchRequest(e)},this.onSwitchComplete=function(e){emic.top.debug("[UIModule.js][onSwitchComplete]>> ",e),a&&a.onSwitchComplete(e)},this.onSeekStart=function(e){for(var t in emic.top.debug("[UIModule.js][onSeekStart]>> ",e),a&&a.onSeekStart(e),u)u[t].enabled&&u[t].onSeekStart(e)},this.onSeekComplete=function(e){for(var t in emic.top.debug("[UIModule.js][onSeekComplete]>> ",e),a&&a.onSeekComplete(e),u)u[t].enabled&&u[t].onSeekComplete(e)},this.onBufferEmpty=function(){emic.top.debug("[UIModule.js][onBufferEmpty]>> "),a&&a.onBufferEmpty()},this.onBufferFull=function(){emic.top.debug("[UIModule.js][onBufferFull]>> "),a&&a.onBufferFull()},this.onRenditions=function(e){emic.top.debug("[UIModule.js][onRenditions]>> "),a&&a.onRenditions(e)},this.setRatio=function(e,t){var i=document.getElementById(d.genericData.container);i.style.height=i.offsetWidth*t/e+"px"}}t.prototype=new psd.framework.EventDispatcher,t.SKIN_GENERIC_FENIX="generic_f",t.SKIN_TEST="test",t.SKIN_PLAYSER_PEP="playserPEP",t.SKIN_PLAYSER_DETALLE="playserDetalle",t.SKIN_PLAYSER="playser",t.SKIN_PLAYSER2="playser2",t.SKIN_LUIS="luis",t.SKIN_MERISTATION="meristation",t.SKIN_HUFFINGTON="huffingtonpost",t.SKIN_TRANSPARENT="transparent",t.SKIN_SMODA="smoda",t.SKIN_LOS40="los40videos",t.SKIN_PSV2="psv2",t.SKIN_CSV2="csv2",t.SKIN_GENERICV2="genericv2",t.SKIN_PMETA="pmeta",t.SKIN_ELPAIS="elpais",t.SKIN_LATAM="latam",t.SKIN_VIDEOGENERIC="videogeneric",t.SKIN_PODCASTS="podcasts",t.SKIN_HERTZ="hertz",t.SKIN_HERTZFILETE="hertzfilete",t.SKIN_EPPODCAST="eppodcast",t.SKIN_ONEPLAYER="oneplayer",t.SKIN_PARAHABLADAS="parahabladas",t.SKIN_NLOS40="nlos40",t.SKIN_CARACOLPODCAST="caracolpodcast",t.SKIN_PUX="pux",t.SKIN_SERPER="serper",t.SKIN_EPAUDIO="epaudio",t.SKIN_EPAUDIOSINIMAGEN="epaudiosinimagen",t.SKIN_EPAUDIOPORTADA="epaudioportada",t.SKIN_ASAUDIO="asaudio",t.SKIN_LOS40PER="los40per",t.SKIN_SERNA="serna",t.SKIN_SERNV="sernv",t.SKIN_SMODAAUDIO="smodaaudio",t.SKIN_SMODAAUDIOSINIMAGEN="smodaaudiosinimagen",t.SKIN_MOTORAUDIO="motoraudio",t.SKIN_MOTORAUDIOSINIMAGEN="motoraudiosinimagen",t.PREVIEW_GENERIC="generic",e.UIModule=t}(emic.top),function(e){function g(e){function n(){emic.top.debug("[AdModule.js][_initComplete]>> "),p=!(c=!0);var e=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);e.idMedia=l.mediaData.idTOP,this.dispatchEvent(e),u&&(this.notificaEstadoOn(u),u=!1)}psd.framework.EventDispatcher.call(this);function i(e){var t,i;switch(emic.top.debug("[AdModule.js][_managerHandler]>> ",{type:e.type}),emic.top.debug("..."+e.type,h),e.type){case D.LOADING_AD_START:this.dispatchEvent(t);break;case D.MANAGER_READY:l.mediaData.premuted&&(o.premute=!0),emic.top.debug("...:::",h),d&&clearInterval(d),getDevice().mobile&&"undefined"!=typeof _advert?o.preloadController(emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5):n.apply(this);break;case D.CONTROLLER_LOADED:n.apply(this);break;case D.MANAGER_INIT_ERROR:p=!1,(t=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_INIT_ERROR)).idMedia=l.mediaData.idTOP,this.dispatchEvent(t);break;case D.ALL_PUBLI_ENDED:d&&clearInterval(d),E&&((t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_POSITION_END,t.data.position=m,t.contentType=e.data.contentType,this.dispatchEvent(t),E=!1,m="",v=g.STATUS_STOP,0<h&&(l.mediaData.duration=h),emic.top.debug("...all publi ended",h));break;case D.PUBLI_STARTED:if(l.mediaData.premuted?getDevice().mobile:o.setVolume(l.internalData.currentVolume),E=!0,h=l.mediaData.duration,emic.top.debug("...era:",h),void 0===e.data.internalData.g){var a=Object.keys(e.data.internalData);0<a.length&&(e.data.internalData.g=e.data.internalData[a])}l.mediaData.duration=1e3*e.data.internalData.g.duration,emic.top.debug("...y en el anuncio es ",l.mediaData.duration),void 0!==e.data.internalData.g.skippable&&(l.adData.skippable=e.data.internalData.g.skippable),void 0!==e.data.internalData.g.skipTimeOffset&&(l.adData.skippableTime=e.data.internalData.g.skipTimeOffset),void 0!==e.data.internalData.g.duration&&(l.adData.duration=e.data.internalData.g.duration),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_START,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=m,t.data.name=name=e.data.name,t.data.status="play",t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,void 0!==e.data.internalData.g.duration&&(t.data.duration=e.data.internalData.g.duration,s=e.data.internalData.getAdPodInfo(),t.data.cantAds=s.getTotalAds()),t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),v=g.STATUS_PLAY,d=setInterval((i=this,function(e){f.apply(i,[name,contentType])}),500);break;case D.PUBLI_PAUSED:(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=m,t.data.name=name=e.data.name,t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t),v=g.STATUS_PAUSE,clearInterval(window.MM.intervalpublipausada),window.MM.intervalpublipausada=setInterval(function(){"visible"==document.visibilityState&&(clearInterval(window.MM.intervalpublipausada),r.resume())},1e3);break;case D.PUBLI_RESUMED:clearInterval(window.MM.intervalpublipausada),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_RESUME,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=m,t.data.name=name=e.data.name,t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t),v=g.STATUS_PLAY;break;case D.PUBLI_ENDED:clearInterval(window.MM.intervalpublipausada),d&&clearInterval(d),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_END,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=m,t.data.name=e.data.name,t.contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),v=g.STATUS_STOP,emic.top.debug("...publi ended",h),0<h&&(l.mediaData.duration=h);break;case D.PUBLI_SKIPPED:clearInterval(window.MM.intervalpublipausada),d&&clearInterval(d),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_SKIP,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=m,t.data.name=e.data.name,t.contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),emic.top.debug("...skip",h),0<h&&(l.mediaData.duration=h),v=g.STATUS_STOP;break;case D.PUBLI_ERROR:emic.top.debug("...error",h),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_ERROR,t.data=e.data,t.data.position=m,t.idMedia=l.mediaData.idTOP,m="",this.dispatchEvent(t),v=g.STATUS_STOP,0<h&&(l.mediaData.duration=h)}}var o,a,d,s,r=this,l=e,c=!1,u=!1,m="",p=!1,_={},E=!1,v="",h=0,D=emic.publicidad.events.PubliEvent,f=function(e,t){_=o.remainingTime(),ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_AD_PROGRESS,ev.data={},ev.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,ev.data.position=m,ev.data.name=e,ev.contentType=t,ev.data.currentTime=_.currentTime,ev.data.totalTime=_.totalTime,ev.idMedia=l.mediaData.idTOP,this.dispatchEvent(ev)};this.init=function(){emic.top.debug("[AdModule.js][init]>> "),function(){var e;if(emic.top.debug("[AdModule.js][_init]>> Ready?: ",c),c){var t=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t)}else o=new emic.publicidad.PubliManager,(this.manager=o).addEventListener(D.LOADING_AD_START,i,this),o.addEventListener(D.MANAGER_READY,i,this),o.addEventListener(D.CONTROLLER_LOADED,i,this),o.addEventListener(D.MANAGER_INIT_ERROR,i,this),o.addEventListener(D.PUBLI_STARTED,i,this),o.addEventListener(D.PUBLI_PAUSED,i,this),o.addEventListener(D.PUBLI_RESUMED,i,this),o.addEventListener(D.PUBLI_ENDED,i,this),o.addEventListener(D.PUBLI_SKIPPED,i,this),o.addEventListener(D.ALL_PUBLI_ENDED,i,this),o.addEventListener(D.PUBLI_LOADED,i,this),o.addEventListener(D.PUBLI_ERROR,i,this),o.addEventListener(D.CONTENT_PAUSE_REQUESTED,i,this),o.addEventListener(D.CONTENT_RESUME_REQUESTED,i,this),O(l.adData.conf),a=l.adData.conf,p=!0,e={urlConfPubli:a,width:l.genericData.width,height:l.genericData.height,objContentPublisher:l.internalData.mediaElement},emic.top.debug("[AdModule.js][_init]>> Solicitada inicialización del manager publicitario con: ",{container:l.adData.container,adObj:e,id:l.genericData.id,urlBase:l.genericData.urlBase}),o.start(l.adData.container,e,l.genericData.id,l.genericData.urlBase)}.apply(this)},this.kill=function(){emic.top.debug("[AdModule.js][kill]>> "),o&&o.kill(),d&&clearInterval(d),o=null,l.adData.container.innerHTML=""},this.close=function(){emic.top.debug("[AdModule.js][close]>> "),o&&(m="",E=!1,o.closeAd()),d&&clearInterval(d)},this.externalNotify=function(e,t,i){emic.top.debug("[AdModule.js][externalNotify]>> ",{type:e,data:t,id:i});var a=new emic.top.event.AdEvent(e);t&&(a.data=t),i&&(a.id=i),this.dispatchEvent(a)},this.notificaEstadoOn=function(e){var t,i;if(emic.top.debug("...... PEDIMOS PUBLI ---\x3e",l.mediaData.duration),h=l.mediaData.duration,emic.top.debug("[AdModule.js][notificaEstadoOn]>> ",e),c){function a(){return match_UA("iphone")?"|480x360":"|480x361"}m=e,(t={}).referrer=l.genericData.referer,t.description_url=location.href,t.tecType="html5","flash"==t.tecType?t.vpaid="&fpd=vpaid":t.vpaid="",l.mediaData.isLive?(t.idTOP=l.mediaData.idTOP,t.directo=",directo"):(t.idTOP="",t.directo=""),null!=l.mediaData.tags.programa&&(t.programa=l.mediaData.tags.programa),(t.pTags="")!=l.adData.pTags?t.pTags=l.adData.pTags:t.pTags=l.mediaData.tags.allTags,t.pTags=[t.pTags,l.mediaData.tags.iptc,l.mediaData.tags.iab,l.mediaData.tags.externals.replace(/;/g,","),l.mediaData.tags.tagsNoticiasId].filter(Boolean).join(","),t.device="web",getDevice().mobile&&(t.device="mob"),getDevice().mobile&&checkDomain(URL_EMBED_PLAYER)?t.amp="_amp":t.amp="",t.videotime=function(){switch(duration=l.mediaData.duration/1e3,!0){case 0==duration:return"0";case 0<duration&&duration<6:return"5";case 5<duration&&duration<11:return"10";case 10<duration&&duration<16:return"15";case 15<duration&&duration<21:return"20";case 20<duration&&duration<26:return"25";case 25<duration&&duration<31:return"30";case 30<duration&&duration<36:return"35";case 35<duration&&duration<41:return"40";case 40<duration&&duration<46:return"45";case 45<duration:return"mas45"}}(),t.contentType=l.mediaData.isLive?"640x480|1x1"+a():"1x1","undefined"!=typeof mm_timevideo_ad&&l.mediaData.duration>=60*mm_timevideo_ad*1e3&&(t.contentType="640x480|1x1"+a()),t.adFormat="640x480"+a(),void 0!==window.LANG?t.hl="pt-br"==window.LANG?"pt":window.LANG:t.hl="es",i=""!=l.adData.tags_noticia?","+l.adData.tags_noticia:l.adData.tags_noticia,t.pTags+=""!=t.pTags?i:l.adData.tags_noticia,match_UA("iphone")&&(t.pTags+=",no_skip"),t.pTags+="&fsr=1","undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.seeN&&null!=PBS.slm.cf.key.seeN&&""!=PBS.slm.cf.key.seeN&&(t.pTags+=decodeURIComponent(PBS.slm.cf.key.seeN)),t.ksg="undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg?"&ksg="+PBS.slm.cf.key.ksg.join(","):"",emic.top.debug("[AdModule.js][notificaEstadoOn]>> Solicitado al manager con obj",t);var n=!0;null!=l.mediaData.details&&void 0!==l.mediaData.details.advertising&&0==l.mediaData.details.advertising&&(n=!1),"undefined"!=typeof psdgetgetpsd&&psdgetgetpsd("mm_noads")&&(n=!1),n?(function(e,t){ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_LOADING_AD_START,ev.data={},ev.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,ev.data.position=m,ev.data.name=e,ev.contentType=t,ev.data.currentTime=_.currentTime,ev.data.totalTime=_.totalTime,ev.idMedia=l.mediaData.idTOP,this.dispatchEvent(ev)}.apply(this),o.notificaPubliOn(e,t,l)):(ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_NO_AD,ev.data.position=e,ev.idMedia=l.mediaData.idTOP,this.dispatchEvent(ev))}else p?u=e:(ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_AD_ERROR,ev.data.position=e,ev.idMedia=l.mediaData.idTOP,this.dispatchEvent(ev))},this.resume=function(){emic.top.debug("[AdModule.js][resume]>> "),o&&o.resume()},this.pause=function(){emic.top.debug("[AdModule.js][pause]>> "),o&&o.pause()},this.setVolume=function(e){var t;emic.top.debug("[AdModule.js][setVolume]>> ",e),o&&(o.setVolume(e),l.internalData.currentVolume=e,(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE,t.data={},t.data.position=m,t.idMedia=l.mediaData.idTOP,t.data.vol=e,this.dispatchEvent(t))},this.getCurrentPosition=function(){return m},this.getStatus=function(){return emic.top.debug("[AdModule.js][getStatus]>> "),v};var O=function(e){if(void 0!==window.mm_base){var t=l.genericData.urlBase;void 0===t&&(t="");var i=e.split("/psdmedia");l.adData.conf=t+"/psdmedia"+i[1]}}}g.prototype=new psd.framework.EventDispatcher,g.POSITION_PREROLL="preroll",g.POSITION_POSTROLL="postroll",g.PROVIDER_TRITON="triton",g.PROVIDER_PBS_DPF="PBS_DFP",g.ADTYPE_VIDEO="video",g.ADTYPE_INSTREAM="instream",g.STATUS_PLAY="AdPlay",g.STATUS_PAUSE="AdPause",g.STATUS_STOP="AdStop",e.AdModule=g}(emic.top),function(e){function t(e,t){function i(){emic.top.debug("[StatModule.js][_init]>> "),s.statData.enabled&&(0==_?(_=1,h.apply(this)):1!=_&&this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY)))}function a(){var e=s.statData.extraData;p||(e.playerName=e.playerName+"["+s.internalData.controllerName+"]",p=!0),e.name=s.mediaData.title,s.mediaData.isLive&&""!=s.mediaData.nombrePrograma&&(e.name=s.mediaData.nombrePrograma),e.idTop=s.mediaData.idTOP,e.mediaType=s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",e.mediaTypeMode=-1!=s.mediaData.mimetype.indexOf("video")?"video":"audio",e.provider=s.mediaData.provider,e.duration=0==s.mediaData.duration?"0":Math.round(s.mediaData.duration/1e3),e.progressTime=0==s.mediaData.progressTime?"0":s.mediaData.progressTime,"youtube"!=s.internalData.controllerName&&(e.adEnabled=s.adData.enabled?"con publicidad":"sin publicidad"),e.topPageTitle=encodeURIComponent(window.document.location.href),e.trafficsource=encodeURIComponent(window.document.referrer),e.agency=1!=s.agency.indexOf("")?"propio":s.agency,e.nombrePrograma=s.mediaData.nombrePrograma,e.season=s.mediaData.season,e.chapter=s.mediaData.chapter,e.raw_tags=s.mediaData.tags.youbora||[],e.extraccion=s.extraccion,e.segmento=s.segmento,e.inicioemision=s.inicioemision,e.finemision=s.finemision,e.transcripcion=s.transcripcion,e.hablantes=s.speakers,e.tags_noticia=s.adData.tags_noticia;var t=[];return""!=s.mediaData.portal_creacion&&null!=s.mediaData.portal_creacion&&void 0!==s.mediaData.portal_creacion&&t.push(s.mediaData.portal_creacion),""!=s.mediaData.seccion_creacion&&null!=s.mediaData.seccion_creacion&&void 0!==s.mediaData.seccion_creacion&&t.push(s.mediaData.seccion_creacion),e.createSection=t.join(","),s.mediaData&&(e.tags_noticia_array=s.mediaData.tags_noticia_array),void 0!==s.mediaData.tags&&(e.tagsArrayExternal=s.mediaData.tags.tagsArrayExternal),e.organic=s.mediaData.organic,"undefined"!=typeof _advert?e.adErrorAdBlock=WITHOUT_ADBLOCK:e.adErrorAdBlock=ERROR_ADBLOCK,e.taxonomia="",void 0!==s.mediaData.taxonomia&&null!=s.mediaData.taxonomia&&(e.taxonomia=s.mediaData.taxonomia),e.uniqueVideoID=s.mediaData.id,e.videoYoutubeChannel=s.mediaData.videoChannelsData.filter(function(e,t){return e.name==s.genericData.id_cuenta}),void 0!==e.videoYoutubeChannel[0]&&void 0!==e.videoYoutubeChannel[0].id&&"youtube"==s.internalData.controllerName?e.videoYoutubeChannel=e.videoYoutubeChannel[0].id:e.videoYoutubeChannel="",emic.top.debug("[StatModule.js][_getCommonData]>> ",e),e}psd.framework.EventDispatcher.call(this),this._topPlayer=t;var d,n,s=e,o=this,r="",l=!1,c=!1,u=!1,m=!1,p=!1,_=0,E=!1,v="/psdmedia/resources/js/psd/statistics.top.min.js",h=function(){var e,t,i,a,n;if(emic.top.debug("[StatModule.js][_loadDependences]>> "),void 0!==psd.statistics&&(E=!0),E)D.apply(this);else{e=document.getElementsByTagName("head")[0],(t=document.createElement("script")).type="text/javascript",n=this,i=function(){D.apply(n)},0<=navigator.appName.indexOf("Microsoft")?t.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(i(),t.onreadystatechange=null)}:t.onload=i,t.src=s.genericData.urlBase?s.genericData.urlBase+v:v,emic.top.debug("[StatModule.js][_loadDependences]>> Se solicita carga a:",t.src),e.appendChild(t);var o=(a=this,function(){O.apply(a)});E||(d=setTimeout(o,1e4))}},D=function(){emic.top.debug("[StatModule.js][_onDependencesLoaded]>> "),clearTimeout(d),E=!0,f.apply(this)},f=function(){emic.top.debug("[StatModule.js][_loadManager]>> "),n=new psd.statistics.StatisticsManager;var e=s.statData.conf.split("/psdmedia"),t=s.genericData.urlBase?s.genericData.urlBase:"";s.statData.conf=t+"/psdmedia"+e[1],null!=(r=s.statData.conf)&&(n.setup(r),_=0),_=2,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY))},O=function(){emic.top.debug("[StatModule.js][_onDependencesError]>> "),_=0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_ERROR))};this.init=function(){emic.top.debug("[StatModule.js][init]>> "),u=c=l=!1,i.apply(this)},this.reset=function(){emic.top.debug("[StatModule.js][reset]>> "),u=c=l=!1,r!=s.statData.conf&&(n=void 0,_=1,i.apply(this))},this.onProgress=function(e){var t=a.apply(this);2==_&&(s.mediaData.isLive||(!l&&e.currentTime>.25*e.totalTime&&(l=!0,n.track("mediaFirstQuart",t)),!c&&e.currentTime>.5*e.totalTime&&(c=!0,n.track("mediaHalf",t)),!u&&e.currentTime>.75*e.totalTime&&(u=!0,n.track("mediaThirdQuart",t))))},this.onCountProgress=function(e){var t=a.apply(this);2==_&&n.track("mediaTimeInterval",t)},this.onAdPause=function(){var e=a.apply(this);2==_&&n.track("adPause",e)},this.onVideoPause=function(){var e=a.apply(this);2==_&&n.track("mediaPause",e)},this.onVideoResume=function(){var e=a.apply(this);2==_&&n.track("mediaResume",e)},this.onMediaBegin=function(){if(this._topPlayer.videoready&&getDevice().mobile&&"undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY&&-1==this._topPlayer.getData().mediaData.mimetype.indexOf("audio")){function e(){getDevice().mobile&&(m||(null!=o._topPlayer.mediaTag?DTM.trackEvent(DTM.events.VIDEOREADY,{player:o._topPlayer.mediaTag}):DTM.trackEvent(DTM.events.VIDEOREADY,{player:o._topPlayer.videoreadyEvents})),m=!0)}null!=this._topPlayer.mediaTag&&(this._topPlayer.mediaTag.idMedia=s.mediaData.idTOP),s.mediaData.reload||(s.mediaData.isPlaylist?s.mediaData.primerVideoPlayList&&e():e())}var t=a.apply(this);emic.top.debug("[StatModule.js][onMediaBegin]>> ",t),2==_&&n.track("mediaBegin",t)},this.onMediaComplete=function(){u=c=l=!1;var e=a.apply(this);emic.top.debug("[StatModule.js][onMediaComplete]>> ",e),2==_&&n.track("mediaComplete",e)},this.onSeekInit=function(){var e=a.apply(this);2==_&&n.track("videoSeekInit",e)},this.onSeekComplete=function(){var e=a.apply(this);2==_&&n.track("videoSeekComplete",e)},this.onAdBegin=function(e){emic.top.debug("[StatModule.js][onAdBegin]>> ");var t=a.apply(this);void 0===e&&(e={provider:"",adType:"",name:"",position:"",adRandomTime:""},(s.internalData.controllerName="youtube")&&(e={provider:"DFP",adType:"video",name:"YouTube",position:"Preroll",adRandomTime:""})),t.adName=e.provider+"_"+e.adType+"_"+e.name,t.adposition=e.position,t.adRandomTime=e.adRandomTime,emic.top.debug("[StatModule.js][onAdBegin]>> ",t),2==_&&n.track("adStart",t)},this.onAdComplete=function(e){var t=a.apply(this);void 0===e&&(e={provider:"",adType:"",name:"",position:"",adRandomTime:""},(s.internalData.controllerName="youtube")&&(e={provider:"DFP",adType:"video",name:"YouTube",position:"Preroll",adRandomTime:""})),t.adName=e.provider+"_"+e.adType+"_"+e.name,t.adposition=e.position,t.adRandomTime=e.adRandomTime,emic.top.debug("[StatModule.js][onAdComplete]>> ",t),2==_&&n.track("adComplete",t)},this.onAdSkip=function(e){var t=a.apply(this);t.adName=e.provider+"_"+e.adType+"_"+e.name,t.adposition=e.position,t.adRandomTime=e.adRandomTime,emic.top.debug("[StatModule.js][onAdSkip]>> ",t),2==_&&n.track("adSkip",t)},this.onStreamError=function(e){var t=a.apply(this);void 0!==e.code&&(t.streamErrorCode=e.code),void 0!==e.message&&(t.streamErrorMessage=e.status),2==_&&n.track("streamError",t)},this.onAdError=function(e){var t=a.apply(this);if(t.adposition=e.position,void 0!==e.code&&(t.adErrorCode=e.code),void 0!==e.vastErrorCode&&(t.adErrorVastCode=e.vastErrorCode),void 0!==e.adErrorAdBlock&&(t.adErrorAdBlock=e.adErrorAdBlock),void 0!==e.msg){var i=e.msg;t.adErrorMsg=i.replace("#","")}emic.top.debug("[StatModule.js][onAdError]>> ",t),2==_&&n.track("adError",t)},this.onRRSS=function(e){var t=a.apply(this),i=e.split("|");t.rrss=i[0],i[1],t.button=i[1],emic.top.debug("[StatModule.js][onRRSS]>> ",t),2==_&&n.track("rrss",t)},this.onButton=function(e){var t=a.apply(this);t.button=e,emic.top.debug("[StatModule.js][onButton]>> ",t),2==_&&n.track("button",t)},this.onInicioCompartir=function(e){var t=a.apply(this),i=e.split("|");t.rrss=i[0],i[1],t.button=i[1],emic.top.debug("[StatModule.js][onInicioCompartir]>> ",t),2==_&&n.track("iniciocompartir",t)},this.onReload=function(){var e=a.apply(this);emic.top.debug("[StatModule.js][onReload]>> ",e),2==_&&n.track("reload",e)}}t.prototype=new psd.framework.EventDispatcher,e.StatModule=t}(emic.top),emic.top.DataModel=function e(){e.loadDomDependence=function(e,t,i,a){var n,o,d,s,r;n=document.getElementsByTagName("head")[0],(o=document.createElement("script")).type="text/javascript",d=function(){t.apply(a)},s=function(){clearTimeout(r),i.apply(a)},0<=navigator.appName.indexOf("Microsoft")?o.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(d(),o.onreadystatechange=null)}:o.onload=d,o.src=e,n.appendChild(o),_dependencesLoaded||(r=setTimeout(s,1e4))},this.mediaData={},this.uiData={},this.genericData={},this.adData={},this.statData={},this.socialData={},this.internalData={},this.reset=function(){this.setDefaultGenericData(),this.setDefaultMedia(),this.setDefaultUIData(),this.setDefaultAdData(),this.setDefaultStatData(),this.setDefaultSocialData(),this.setDefaultInternalData()},this.setDefaultInternalData=function(){this.internalData.controllerName=void 0,this.internalData.skinContainer=void 0,this.internalData.previewContainer=void 0,this.internalData.position=void 0,this.internalData.uiModule=void 0,this.internalData.adModule=void 0,this.internalData.mediaModule=void 0,this.internalData.UIFactory=void 0,this.internalData.mediaElement=void 0,this.internalData.controllerContainers=[],this.internalData.currentVolume=void 0,this.internalData.lastVolume=void 0},this.setDefaultMedia=function(){this.mediaData={},this.mediaData.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_FLASH,emic.top.MediaModule.TECHNOLOGY_HTML5],this.mediaData.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS],this.mediaData.autoplay=!1,this.mediaData.id=void 0,this.mediaData.idTOP=void 0,this.mediaData.url=void 0,this.mediaData.urlHTML5=[],this.mediaData.wmode="opaque",this.mediaData.isLive=!1,this.mediaData.isLiveActive=!1,this.mediaData.isDVR=!1,this.mediaData.renditions=[],this.mediaData.controllerData={},this.mediaData.container=void 0,this.mediaData.mimetype="video/mp4",this.mediaData.title="",this.mediaData.description="",this.mediaData.clipBegin=void 0,this.mediaData.clipEnd=void 0,this.mediaData.absolute=!0,this.mediaData.startVolume=.7,this.mediaData.authParams="",this.mediaData.authParamsHTML5="",this.mediaData.date="",this.mediaData.author="",this.mediaData.duration=0,this.mediaData.progressTime=0,this.topPageTitle="",this.trafficsource="",this.agency="",this.mediaData.urlMosaic="",this.mediaData.relacionadosUrl="",this.mediaData.tags={},this.mediaData.nombrePrograma="",this.mediaData.defaultLive="",this.mediaData.premuted=!1,this.mediaData.dist=null,this.mediaData.distdl=null,this.mediaData.csegid=null,this.mediaData.chapter="",this.mediaData.season="",this.mediaData.geo_location=null,this.mediaData.organic="",this.mediaData.primerVideoPlayList=!0,this.mediaData.clickPlayList=!1,this.mediaData.autoNext="",this.mediaData.vuelta=0,this.mediaData.isPlaylist=!1,this.mediaData.ancho="",this.mediaData.alto="",this.mediaData.cover=!1,this.mediaData.YTiFrame=!0,this.mediaData.relateds=0,this.mediaData.details=null,this.mediaData.youtube_details={},this.mediaData.un_creacion="",this.mediaData.portal_creacion="",this.mediaData.seccion_creacion="",this.mediaData.tags_noticia_array=[],this.mediaData.reload=!1,this.youtube_playList="",this.mediaData.videoChannelsData=[{name:"elpais",id:"UCnsvJeZO4RigQ898WdDNoBw"},{name:"diarioas",id:"UCXISYK3xagaK5DHnhQ4X0hw"},{name:"cincodias:",id:"UCxy_2pzDLYcQHMCWlMwGOXg"},{name:"retina:",id:"UCd9c9vAG1tYKdu_wveFDgqw"},{name:"verne",id:"UCqRCA6rWnLwcctTvkwHhEjg"},{name:"elcomidista",id:"UCoIJrrwXy_mlr1WkC4vaTnA"},{name:"smoda",id:"UCnsvJeZO4RigQ898WdDNoBw"},{name:"motor",id:"UCnsvJeZO4RigQ898WdDNoBw"},{name:"elpaisbrasil",id:"UCoOhuiQlHk8sEHLzEOB35ug"}]},this.setDefaultUIData=function(){this.uiData.skin=emic.top.UIModule.SKIN_GENERIC_FENIX,this.uiData.preview=emic.top.UIModule.PREVIEW_GENERIC,this.uiData.poster=void 0,this.uiData.skinData={},this.uiData.previewData={},this.uiData.bgColor=0,this.uiData.absoluteTime=!1,this.uiData.container=void 0,this.uiData.overrideNativeControls=!1,this.uiData.showPreview=!0,this.uiData.showSkinInAds=!0,this.uiData.id_playlist=""},this.setDefaultGenericData=function(){this.genericData.urlBase=void 0,this.genericData.width=void 0,this.genericData.height=void 0,this.genericData.container=void 0,this.genericData.id=Math.floor(99999999999*Math.random()),this.genericData.referer="",this.genericData.id_cuenta=void 0,this.genericData.id_player=void 0},this.setDefaultAdData=function(){this.adData.conf="",this.adData.enabled=!0,this.adData.enabledYouTube=!0,this.adData.pTags="",this.adData.container="",this.adData.multiPosition=!0,this.adData.tags_noticia="",this.adData.skippable=!1,this.adData.skippableTime=-1,this.adData.dai=!1,this.adData.adRandomTime="",this.adData.adunit=""},this.setDefaultStatData=function(){this.statData.conf=void 0,this.statData.enabled=!0,this.statData.extraData={},this.statData.mediaTimer={},this.statData.mediaTimer.enable=!1,this.statData.mediaTimer.segundos=10},this.setDefaultSocialData=function(){this.socialData.facebookData={},this.socialData.twitterData={},this.socialData.googleplusData={},this.socialData.enlace="",this.socialData.eskupData={}},this.getConfObj=function(e,t,i,a,n,o){var d,s={};if(e)for(d in s.generic={},this.genericData)null!=this.genericData[d]&&(s.generic[d]=this.genericData[d]);if(t)for(d in s.media={},this.mediaData)null!=this.mediaData[d]&&(s.media[d]=this.mediaData[d]);if(i)for(d in s.ui={},this.uiData)null!=this.uiData[d]&&(s.ui[d]=this.uiData[d]);if(n)for(d in s.stat={},this.statData)null!=this.statData[d]&&(s.stat[d]=this.statData[d]);if(a)for(d in s.ad={},this.adData)null!=this.adData[d]&&(s.ad[d]=this.adData[d]);if(o)for(d in s.social={},this.socialData)null!=this.socialData[d]&&(s.social[d]=this.socialData[d]);return s},this.config=function(e){e.media&&this.configMedia(e.media),e.ui&&this.configUI(e.ui),e.generic&&this.configGeneric(e.generic),e.ad&&this.configAd(e.ad),e.stat&&this.configStat(e.stat),e.social&&this.configSocial(e.social)},this.configMedia=function(e){if(null!=e.station_id&&e.station_id&&(this.mediaData.station_id=e.station_id),null!=e.autoplay&&(this.mediaData.autoplay=!getDevice().mobile&&e.autoplay),null!=e.isPlaylist&&(this.mediaData.isPlaylist=e.isPlaylist,null!=e.playlistUrl&&(this.mediaData.playlistUrl=e.playlistUrl)),null!=e.ancho&&(this.mediaData.ancho=e.ancho),null!=e.alto&&(this.mediaData.alto=e.alto),null!=e.cover&&(this.mediaData.cover=e.cover),null!=e.YTiFrame&&(this.mediaData.YTiFrame=e.YTiFrame),null!=e.relateds&&(this.mediaData.relateds=e.relateds),null!=e.un_creacion&&""!=e.un_creacion&&(this.mediaData.un_creacion=e.un_creacion),null!=e.portal_creacion&&""!=e.portal_creacion&&(this.mediaData.portal_creacion=e.portal_creacion),null!=e.seccion_creacion&&""!=e.seccion_creacion&&(this.mediaData.seccion_creacion=e.seccion_creacion),null!=e.reload&&(this.mediaData.reload=e.reload),null!=e.youtube_playList&&(this.mediaData.youtube_playList=e.youtube_playList),null!=e.wmode&&""!=e.wmode&&(this.mediaData.wmode=e.wmode),null!=e.title&&(this.mediaData.title=e.title),null!=e.description&&(this.mediaData.description=e.description),null!=e.isLive&&(this.mediaData.isLive=e.isLive),null!=e.isLiveActive&&(this.mediaData.isLiveActive=e.isLiveActive),null!=e.isDVR&&(this.mediaData.isDVR=e.isDVR),null!=e.id&&""!=e.id&&(this.mediaData.id=e.id),null!=e.idTOP&&""!=e.idTOP&&(this.mediaData.idTOP=e.idTOP),null!=e.clipBegin&&""!=e.clipBegin&&(this.mediaData.clipBegin=e.clipBegin),null!=e.clipEnd&&""!=e.clipEnd&&(this.mediaData.clipEnd=e.clipEnd),null!=e.absolute&&(this.mediaData.absolute=e.absolute),null!=e.url&&""!=e.url&&(this.mediaData.url=e.url),null!=e.urlHTML5&&e.urlHTML5 instanceof Array&&0<e.urlHTML5.length&&(this.mediaData.urlHTML5=e.urlHTML5),null!=e.container&&""!=e.container?this.mediaData.container=e.container:this.mediaData.container="",null!=e.startVolume&&""!=e.startVolume&&(this.mediaData.startVolume=e.startVolume),null!=e.authParams&&""!=e.authParams&&(this.mediaData.authParams=e.authParams),null!=e.authParamsHTML5&&""!=e.authParamsHTML5&&(this.mediaData.authParamsHTML5=e.authParamsHTML5),null!=e.date&&""!=e.date&&(this.mediaData.date=e.date),null!=e.author&&""!=e.author&&(this.mediaData.author=e.author),null!=e.duration&&""!=e.duration&&(this.mediaData.duration=e.duration),null!=e.progressTime&&""!=e.progressTime&&(this.mediaData.progressTime=e.progressTime),null!=e.topPageTitle&&""!=e.topPageTitle&&(this.mediaData.topPageTitle=e.topPageTitle),null!=e.trafficsource&&""!=e.trafficsource&&(this.mediaData.trafficsource=e.trafficsource),null!=e.agency&&""!=e.agency&&(this.mediaData.agency=e.agency),null!=e.premuted&&""!=e.premuted&&(this.mediaData.premuted=!getDevice().mobile&&e.premuted),console.log("premuted -> ",this.mediaData.premuted),null!=e.dist&&""!=e.dist&&(this.mediaData.dist=e.dist),null!=e.distdl&&""!=e.distdl&&(this.mediaData.distdl=e.distdl),null!=e.csegid&&""!=e.csegid&&(this.mediaData.csegid=e.csegid),null!=e.chapter&&""!=e.chapter&&(this.mediaData.chapter=e.chapter),null!=e.geo_location&&""!=e.geo_location&&(this.mediaData.geo_location=e.geo_location),null!=e.season&&""!=e.season&&(this.mediaData.season=e.season),null!=e.organic&&""!=e.organic&&(this.mediaData.organic=e.organic),null!=e.primerVideoPlayList&&""!==e.primerVideoPlayList&&(this.mediaData.primerVideoPlayList=e.primerVideoPlayList),null!=e.clickPlayList&&""!==e.clickPlayList&&(this.mediaData.clickPlayList=e.clickPlayList),null!=e.autoNext&&""!=e.autoNext&&(this.mediaData.autoNext=e.autoNext),null!=e.controllerData&&""!=e.controllerData&&(this.mediaData.controllerData=e.controllerData),null!=e.mimetype&&""!=e.mimetype&&(this.mediaData.mimetype=e.mimetype),null!=e.provider&&""!=e.provider&&(this.mediaData.provider=e.provider),null!=e.renditions&&e.renditions!=[]){try{this.mediaData.renditions=e.renditions}catch(e){}this.mediaData.renditions=e.renditions}null!=e.tecPriorityPC&&e.tecPriorityPC!=[]&&(0<e.tecPriorityPC.length?this.mediaData.tecPriorityPC=e.tecPriorityPC:e.tecPriorityPC!=MediaModule.TECHNOLOGY_FLASH&&e.tecPriorityPC!=MediaModule.TECHNOLOGY_HTML5||(this.mediaData.tecPriorityPC=[e.tecPriorityPC])),null!=e.controllerPriority&&e.controllerPriority!=[]&&(0<e.controllerPriority.length?this.mediaData.controllerPriority=e.controllerPriority:e.controllerPriority!=MediaModule.CONTROLLER_TYPE_AKAMAIHDS&&e.controllerPriority!=MediaModule.CONTROLLER_TYPE_TRITON||(this.mediaData.controllerPriority=[e.controllerPriority])),null!=e.urlMosaic&&(this.mediaData.urlMosaic=e.urlMosaic),null!=e.relacionadosUrl&&(this.mediaData.relacionadosUrl=e.relacionadosUrl),null!=e.tags&&(this.mediaData.tags=e.tags),null!=e.nombrePrograma&&(this.mediaData.nombrePrograma=e.nombrePrograma),null!=e.defaultLive&&(this.mediaData.defaultLive=e.defaultLive),null!=e.details&&(this.mediaData.details=e.details),null!=e.tags_noticia_array&&""!=e.tags_noticia_array&&(this.mediaData.tags_noticia_array=e.tags_noticia_array),null!=e.youtube_details&&(this.mediaData.youtube_details=e.youtube_details)},this.configUI=function(e){null!=e.skin&&""!=e.skin&&(this.uiData.skin=e.skin),null!=e.preview&&""!=e.preview&&(this.uiData.preview=e.preview),null!=e.showPreview&&(this.uiData.showPreview=e.showPreview),null!=e.poster&&(this.uiData.poster=e.poster),null!=e.posterThumbnail&&(this.uiData.posterThumbnail=e.posterThumbnail),null!=e.squareimg&&(this.uiData.squareimg=e.squareimg),null!=e.bgColor&&""!=e.bgColor&&(this.uiData.bgColor=e.bgColor),null!=e.skinData&&(this.uiData.skinData=e.skinData),null!=e.id_playlist&&(this.uiData.id_playlist=e.id_playlist),null!=e.previewData&&(this.uiData.previewData=e.previewData),null!=e.absoluteTime&&(this.uiData.absoluteTime=e.absoluteTime),null!=e.overrideNativeControls&&(this.uiData.overrideNativeControls=e.overrideNativeControls),null!=e.container&&""!=e.container?this.uiData.container=e.container:this.uiData.container=""},this.configGeneric=function(e){null!=e.width&&""!=e.width&&(this.genericData.width=e.width),null!=e.height&&""!=e.height&&(this.genericData.height=e.height),null!=e.urlBase&&""!=e.urlBase&&(this.genericData.urlBase=e.urlBase),null!=e.container&&""!=e.container&&(this.genericData.container=e.container),null!=e.id&&""!=e.id&&(this.genericData.id=e.id),null!=e.referer&&""!=e.referer&&(this.genericData.referer=e.referer),null!=e.id_player&&""!=e.id_player&&(this.genericData.id_player=e.id_player),null!=e.id_cuenta&&""!=e.id_cuenta&&(this.genericData.id_cuenta=e.id_cuenta)},this.configAd=function(e){null!=e.conf&&""!=e.conf&&(this.adData.conf=e.conf),null!=e.enabled&&(this.adData.enabled=e.enabled),null!=e.enabledYouTube&&(this.adData.enabledYouTube=e.enabledYouTube),null!=e.pTags&&""!=e.pTags?this.adData.pTags=e.pTags:this.adData.pTags="",null!=e.container&&""!=e.container?this.adData.container=e.container:this.adData.container="",null!=e.multiPosition&&(this.adData.multiPosition=e.multiPosition),null!=e.skippable&&(this.adData.skippable=e.skippable),null!=e.skippableTime&&(this.adData.skippableTime=e.skippableTime),null!=e.tags_noticia&&""!=e.tags_noticia&&(this.adData.tags_noticia=e.tags_noticia),null!=e.adunit&&""!=e.adunit&&(this.adData.adunit=e.adunit),null!=e.dai&&""!=e.dai&&(this.adData.dai=e.dai),null!=e.adRandomTime&&""!=e.adRandomTime&&(this.adData.adRandomTime=e.adRandomTime)},this.configStat=function(e){null!=e.conf&&""!=e.conf&&(this.statData.conf=e.conf),null!=e.enabled&&(this.statData.enabled=e.enabled),null!=e.extraData&&(this.statData.extraData=e.extraData),null!=e.mediaTimer&&(null!=e.mediaTimer.enable&&(this.statData.mediaTimer.enable=e.mediaTimer.enable),null!=e.mediaTimer.segundos&&(this.statData.mediaTimer.segundos=e.mediaTimer.segundos))},this.configSocial=function(e){null!=e.facebookData&&(this.socialData.facebookData=e.facebookData),null!=e.twitterData&&(this.socialData.twitterData=e.twitterData),null!=e.googleplusData&&(this.socialData.googleplusData=e.googleplusData),null!=e.enlace&&(this.socialData.enlace=e.enlace),null!=e.eskupData&&(this.socialData.eskupData=e.eskupData)},function(){this.setDefaultGenericData(),this.setDefaultMedia(),this.setDefaultUIData(),this.setDefaultAdData(),this.setDefaultStatData(),this.setDefaultSocialData(),this.setDefaultInternalData()}.apply(this)},function(namespace){TopPlayer.prototype=new psd.framework.EventDispatcher,TopPlayer.POSITION_PREVIEW="positionPreview",TopPlayer.POSITION_AD_PREROLL="positionAdPreroll",TopPlayer.POSITION_MEDIA="positionMedia",TopPlayer.POSITION_AD_POSTROLL="positionAdPostroll";var _that=this,publiError=!1;"undefined"!=typeof Didomi?window.mm_didomi_cs_t=Didomi.getUserConsentStatusForVendor("239"):(window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push(function(e){e.getObservableOnUserConsentStatusForVendor("239").subscribe(function(e){void 0===e?window.mm_didomi_cs_t=!1:!0===e?window.mm_didomi_cs_t=!0:!1===e&&(window.mm_didomi_cs_t=!1)})}));var isReboot=!1;function TopPlayer(){var __that=this;__that.publi_showed=!1,ERROR_ADBLOCK="con_ADBLOCK",WITHOUT_ADBLOCK="sin_ADBLOCK",ERROR_ADBLOCK_MSG="ADBlock Activate",this.status="",this.mediaTag=null;var div_width,div_height,div_data=!0,div_fullscreen=!0,videoConten,elem,div_state=!1,_PlayStatusMedia=!0,_mediaInterval,_mediaModule,_uimodule,_adModule,_statModule,_data,_position,_timeSetintervalActive,_timeSetinterval,_parentLauncher,_initialized=!1,_lastAdEnabled,_isLoading=!1,_isButtonPlay=!0;_reloadOk=!1;var _LOAD_STATUS_LOADING=1,_LOAD_STATUS_NOT_LOADED=0,_LOAD_STATUS_LOADED=2;psd.framework.EventDispatcher.call(this),this.setLauncher=function(launcher){if(_parentLauncher=launcher,void 0===window.MM&&(window.MM={}),void 0!==launcher&&void 0!==launcher.getEmbed&&(window.MM.player=launcher.getEmbed()),"undefined"!=typeof psdgetgetpsd&&(psdgetgetpsd("mm_debug")&&(emic.top.debugTop=!0),psdgetgetpsd("mm_console"))){var divconsole=document.createElement("div");divconsole.style.position="fixed",divconsole.style.background="#fffffe",divconsole.style.top=0,divconsole.style.left=0,divconsole.style.width="90%",divconsole.style.margin="20px 5%",divconsole.style.borderRadius="15px",divconsole.style.display="block",divconsole.style.zIndex="10000",divconsole.style.border="2px solid #ccc",divconsole.style.boxShadow="0 10px 10px #333";var boton=document.createElement("div");boton.style.background="#fabada",boton.style.position="fixed",boton.style.top="50%",boton.style.right="10px",boton.style.width="75px",boton.style.height="75px",boton.style.borderRadius="50%",boton.style.zIndex="10000",boton.style.textAlign="center",boton.style.boxShadow="0 10px 10px #333",boton.style.border="3px solid #d898a8",boton.onclick=function(){"none"==this.divconsole.style.display?this.divconsole.style.display="block":this.divconsole.style.display="none"};var con=document.createElement("div");con.style.width="90%",con.style.margin="20px 5%",con.style.height="200px",con.style.overflow="auto",con.style.background="#ddd",con.style.display="block",con.style.zIndex="10000",con.style.borderRadius="20px";var fil=document.createElement("input");fil.style.width="90%",fil.style.margin="20px 5%",fil.style.display="block",fil.placeholder="Filtrar",fil.con=con;var run=document.createElement("input");run.style.position="relative",run.style.width="90%",run.style.margin="20px 5%",run.style.display="block",run.placeholder="Evaluar expresión";var run2=document.createElement("div");run2.style.position="absolute",run2.style.right="20px",run2.style.top="20px",run2.style.width="21px",run2.style.height="21px",run2.style.background="#aaa",run2.style.zIndex="100000",run2.style.display="block",run2.style.textAlign="center",run2.innerHTML=" > ",run2.run=run,run2.onclick=function(){try{eval(this.run.value)}catch(e){console.log(e)}},boton.divconsole=divconsole,fil.onkeyup=function(e){for(var t=this.value,i=document.getElementsByClassName("mm_linea"),a=0;a<i.length;a++)""==t?i[a].style.display="block":i[a].innerHTML.toLowerCase().indexOf(t.toLowerCase())<0?i[a].style.display="none":i[a].style.display="block"};var preconsole=console.log;console.con=con,console.preconsole=preconsole,console.log=function(e,t){console.preconsole(),"object"==typeof e&&"undefined"!=typeof JSON&&void 0!==JSON.stringify&&(e=JSON.stringify(e)),"object"==typeof t&&"undefined"!=typeof JSON&&void 0!==JSON.stringify&&(t=JSON.stringify(t)),void 0===t&&(t=""),console.con.innerHTML+="<p class='mm_linea'><b>"+e+"</b><br>"+t+"</p><hr>",console.con.scrollTop=console.con.scrollHeight},console.error=function(e,t){"object"==typeof e&&"undefined"!=typeof JSON&&void 0!==JSON.stringify&&(e=JSON.stringify(e)),"object"==typeof t&&"undefined"!=typeof JSON&&void 0!==JSON.stringify&&(t=JSON.stringify(t)),void 0===t&&(t=""),console.con.innerHTML+="<p class='mm_linea' style='color:red;'><b>"+e+"</b><br>"+t+"</p><hr>",console.con.scrollTop=console.con.scrollHeight},console.info=console.log(),console.debug=console.log(),divconsole.appendChild(run),divconsole.appendChild(run2),divconsole.appendChild(fil),divconsole.appendChild(con),document.body.appendChild(boton),document.body.appendChild(divconsole)}},this.getLauncher=function(){return _parentLauncher};var _loadCSS=function(){var e="/psdmedia/resources/js/psd/css/commonmm.css",t=document.createElement("link"),i=_data.genericData.urlBase?_data.genericData.urlBase+e:e;t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",i),void 0!==t&&document.getElementsByTagName("head")[0].appendChild(t)},_init=function(){void 0===window.mm_version&&(window.mm_version="v1"),emic.top.debug("[TopPlayer.js][_init]>> "),_data=new emic.top.DataModel,(_mediaModule=new emic.top.MediaModule(_data,this)).setPlayer(this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_READY,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_INIT_COMPLETE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_RESET_COMPLETE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_CUE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_METADATA,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_ERROR,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_TAG,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR,_onMediaHandler,this),_mediaModule.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,_onAdHandler,this),_data.internalData.mediaModule=_mediaModule,(_uimodule=new emic.top.UIModule(_data)).setPlayer(this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,_onUIHandler,this),_uimodule.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,_onUIHandler,this),_data.internalData.uiModule=_uimodule,(_adModule=new emic.top.AdModule(_data)).addEventListener(emic.top.event.AdEvent.ON_READY,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_INIT_ERROR,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_ERROR,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_NO_AD,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_POSITION_END,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_INSTREAM_START,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_INSTREAM_END,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_START,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_RESUME,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_END,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_SKIP,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_PROGRESS,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE,_onAdHandler,this),_adModule.addEventListener(emic.top.event.AdEvent.ON_LOADING_AD_START,_onAdHandler,this),_data.internalData.adModule=_adModule,(_statModule=new emic.top.StatModule(_data,this)).addEventListener(emic.top.event.MediaEvent.ON_READY,_init_start,this),_statModule.addEventListener(emic.top.event.MediaEvent.ON_ERROR,_init_start,this)};this.init=function(e){emic.top.debug("[TopPlayer.js][init]>> ",e),_initialized||(emic.top.debug("[TopPlayer.js][init]>> Initialized?: ",_initialized),e&&this.config(e),_loadCSS.apply(this),_clearContainer.apply(this),_createContainers.apply(this),_mediaModule.init())};var _init_uimodule=function(){emic.top.debug("[TopPlayer.js][_init2]>> MediaModule ready"),_uimodule.init()},_init_admodule=function(){emic.top.debug("[TopPlayer.js][_init3]>> UIModule ready"),_showLoading.apply(this,[!0]),_data.adData.enabled?_adModule.init():_init_statmodule.apply(this)},_init_statmodule=function(){emic.top.debug("[TopPlayer.js][_init4]>> AdModule ready"),_data.statData.enabled?_statModule.init():_init_start.apply(this)},_init_start=function(){if(emic.top.debug("[TopPlayer.js][_init5]>> StatModule ready"),_start.apply(this),emic.top.debug("[TopPlayer.js][_init5]>> Init complete"),!_initialized){_initialized=!0;var e=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_READY);e.data={id:_data.genericData.id},this.dispatchEvent(e)}},_start=function(){this.isReboot&&(_data.mediaData.autoplay=!1,_mediaModule.pause(),this.isReboot=!1),_data.mediaData.autoplay?(_position=emic.top.TopPlayer.POSITION_PREVIEW,_nextPosition.apply(this)):_changePosition.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])};this.midroll=function(){_mediaModule.pause(),document.getElementById(_data.internalData.skinContainer).style.display="none",-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?(document.getElementById(_data.internalData.mediaElement.id).webkitExitFullScreen&&document.getElementById(_data.internalData.mediaElement.id).webkitExitFullScreen(),move_show(_data.adData.container)):_show(_data.adData.container),_that.midroll=!0,_adModule.notificaEstadoOn(emic.top.AdModule.POSITION_PREROLL)},this.load=function(e,t){emic.top.debug("[TopPlayer.js][load]>> ",{settings:e,forceAutoplay:t}),_mediaModule&&getDevice().mobile&&"triton"!=_data.internalData.controllerName&&_mediaModule.play(),_mediaModule.stop(),(_lastAdEnabled=_data.adData.enabled)&&_adModule&&_adModule.close();var i=_data.mediaData.container;_data.config(e),void 0===window["triton_"+_data.genericData.id]&&"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&getDevice().mobile&&(_data.mediaData.container=i,t=!0,this.flag_autoplay=!0,_mediaModule&&(_mediaModule.flag_autoplay=!0)),t&&(_data.mediaData.autoplay=!0),_createContainers.apply(this),_mediaModule&&_mediaModule.reset()};var _load_on_reset_complete=function(){emic.top.debug("[TopPlayer.js][_load2]>> "),_uimodule&&_uimodule.reset(),_data.adData.enabled?_adModule.init(_data):_init_statmodule.apply(this)},FullScreen=function(){-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?document.getElementById(_data.internalData.mediaElement.id).webkitEnterFullScreen&&document.getElementById(_data.internalData.mediaElement.id).webkitEnterFullScreen():document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():elem.requestFullscreen?elem.requestFullscreen():elem.msRequestFullscreen?elem.msRequestFullscreen():elem.mozRequestFullScreen?elem.mozRequestFullScreen():elem.webkitRequestFullscreen&&elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},iOSFullscreen=function(e){var t=window.innerWidth,i=window.innerHeight;e&&(div_fullscreen=videoConten.clientWidth<=div_width),div_fullscreen?(_fullscreen=!0,videoConten.style.zIndex="2000",videoConten.style.position="fixed",videoConten.style.top="1px",videoConten.style.left="1px",e?(videoConten.style.width=String(t)+"px",videoConten.style.height=String(i)+"px"):(videoConten.style.width=String(window.innerWidth)+"px",videoConten.style.height=String(window.innerHeight)+"px")):(videoConten.style.position="relative",videoConten.style.zIndex="auto",videoConten.style.width=String(div_width)+"px",videoConten.style.height=String(div_height)+"px",_fullscreen=!1)},playButton=function(e){_isButtonPlay&&"organico"==_data.mediaData.organic&&(e.data.button="buttonClick",_statModule.onButton(e.data.button),_isButtonPlay=!1)},checkReload=function(){""!=_data.youtube_playList&&(_data.mediaData.reload=!1),_data.mediaData.reload&&!_reloadOk?_position!=emic.top.TopPlayer.POSITION_AD_POSTROLL&&(_statModule.onReload(),_position==emic.top.TopPlayer.POSITION_AD_PREROLL&&(_reloadOk=!0)):_reloadOk=!1};this.config=function(e){emic.top.debug("[TopPlayer.js][config]>> ",e),_data.config(e)},this.getData=function(){return _data},this.getMediaModule=function(){return _mediaModule},this.getUIModule=function(){return _uimodule},this.getAdModule=function(){return _adModule},this.getCurrentPosition=function(){return _position},this.getConfig=function(e,t,i,a,n,o){return _data.getConfObj(e,t,i,a,n,o)},this.isLoading=function(){return _isLoading};var _onUIHandler=function(e){switch(emic.top.debug("[TopPlayer.js][_onUIHandler]>> ",{type:e.type,idReceptor:_data.mediaData.idTOP}),e.type){case emic.top.event.UIEvent.ON_ORDER_BEGIN:_mediaModule.playDAI(),_position==emic.top.TopPlayer.POSITION_PREVIEW?_nextPosition.apply(this):_mediaModule.playpause();break;case emic.top.event.UIEvent.ON_ORDER_PLAY:_mediaModule.play(),_adModule.resume(),_PlayStatusMedia=!0;break;case emic.top.event.UIEvent.ON_ORDER_PAUSE:_mediaModule.pause(),_adModule.pause(),_PlayStatusMedia=!1;break;case emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE:_mediaModule.playpause();break;case emic.top.event.UIEvent.ON_ORDER_STOP:_mediaModule.stop();break;case emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE:_mediaModule.setVolume(e.data),_adModule.setVolume(e.data);break;case emic.top.event.UIEvent.ON_ORDER_MUTE:_mediaModule.mute();break;case emic.top.event.UIEvent.ON_ORDER_RESET:initialized=!1,this.load(_data,!0);break;case emic.top.event.UIEvent.ON_ORDER_FULLSCREEN:videoConten=document.getElementById(_data.genericData.container),elem=document.getElementById(_data.genericData.container+"_base"),-1!=getDevice().agent.indexOf("iPad")?(div_data&&(window.addEventListener("orientationchange",function(){iOSFullscreen(!1)}),div_width=videoConten.clientWidth,div_height=videoConten.clientHeight,div_data=!1),iOSFullscreen(!0)):FullScreen();break;case emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS:_mediaModule.seek(e.data);break;case emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP:_mediaModule.seekByProp(e.data);break;case emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE:_mediaModule.seekLive(e.data);break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_UP:_mediaModule.switchUp();break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN:_mediaModule.switchDown();break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT:_mediaModule.switchDirect(e.data);break;case emic.top.event.UIEvent.ON_INIT_COMPLETE:_init_admodule.apply(this);break;case emic.top.event.UIEvent.ON_SKIN_READY:case emic.top.event.UIEvent.ON_PREVIEW_READY:break;case emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK:_statModule.onRRSS("facebook");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER:_statModule.onRRSS("twitter");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS:_statModule.onRRSS("googleplus");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP:_statModule.onRRSS("whatsapp");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE:_statModule.onRRSS(e.data);break;case emic.top.event.UIEvent.ON_ORDER_BUTTON:_statModule.onButton(e.data);break;case emic.top.event.UIEvent.ON_ORDER_RRSS:_statModule.onRRSS(e.data);break;case emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR:_statModule.onInicioCompartir(e.data)}},_onMediaHandler=function(e){switch(e.type!=emic.top.event.MediaEvent.ON_PROGRESS&&emic.top.debug("[TopPlayer.js][_onMediaHandler]>> ",{type:e.type,"ID emisor":e.id}),e.type){case emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR:var t=this.getLauncher().getEmbed(),i=t.iniSettings;void 0===i.topPlayer&&(i.topPlayer={}),void 0===i.topPlayer.media&&(i.topPlayer.media={}),i.topPlayer.media.autoplay=!1,t.reset(i);break;case emic.top.event.MediaEvent.ON_INIT_COMPLETE:_init_uimodule.apply(this);break;case emic.top.event.MediaEvent.ON_RESET_COMPLETE:_load_on_reset_complete.apply(this);break;case emic.top.event.MediaEvent.ON_STATUS_CHANGE:this.status=e.data.status,_uimodule.onStatusChange(e.data.status),e.data.status==emic.top.MediaModule.STATUS_STOP&&emic.top.TopPlayer.POSITION_MEDIA,e.data.status==emic.top.MediaModule.STATUS_PAUSE&&(_PlayStatusMedia=!1),e.data.status==emic.top.MediaModule.STATUS_PLAY&&(_PlayStatusMedia=!0);break;case emic.top.event.MediaEvent.ON_MEDIA_BEGIN:window.MM,window.MM.last_played=_data.mediaData.idTOP,psdgetgetpsd("mm_time")&&!isNaN(psdgetgetpsd("mm_time"))&&psdgetgetpsd("mm_time_id")==_data.mediaData.idTOP&&this.getMediaModule().seek(parseInt(psdgetgetpsd("mm_time"))),setVar26(),checkReload(),_statModule.onMediaBegin(),playButton(e),_showLoading.apply(this,[!1]),_timeSetintervalActive=_data.statData.mediaTimer.enable,_timeSetinterval=1e3*parseInt(_data.statData.mediaTimer.segundos),_data.mediaData.isLive?_timeSetintervalActive&&(_PlayStatusMedia&&_statModule.onCountProgress(e.data),_mediaInterval=setInterval(function(){_PlayStatusMedia&&_statModule.onCountProgress(e.data)},_timeSetinterval)):void 0!==_mediaInterval&&clearInterval(_mediaInterval);break;case emic.top.event.MediaEvent.ON_MEDIA_END:_data.mediaData.clickPlayList=!1,_uimodule.onStatusChange(emic.top.event.MediaEvent.ON_MEDIA_END),_position==emic.top.TopPlayer.POSITION_MEDIA&&(_nextPosition.apply(this),_statModule.onMediaComplete(),_data.mediaData.reload=!0,_data.mediaData.isLive&&_timeSetintervalActive&&clearInterval(_mediaInterval));break;case emic.top.event.MediaEvent.ON_VOLUME_CHANGE:_uimodule.onVolumeChange(e.data);break;case emic.top.event.MediaEvent.ON_PROGRESS:_data.mediaData.progressTime=parseInt(e.data.currentTime),_uimodule.onProgress(e.data),_statModule.onProgress(e.data);break;case emic.top.event.MediaEvent.ON_METADATA:_uimodule.onMetadata(e.data),1==_data.adData.enabled&&this.midroll();break;case emic.top.event.MediaEvent.ON_CUE:_uimodule.onMetadata(e.data);break;case emic.top.event.MediaEvent.ON_ERROR:"undefined"==typeof mm_noerr||1!=mm_noerr&&"true"!=mm_noerr||"ERROR_TIMEOUT_ALERT"!=e.idCode&&"STREAM_GEO_BLOCKED"!=e.idCode?(_manageError.apply(this,[e.idCode]),_manageStatError.apply(this,[e.idCode,e.data])):(console.log("errores desactivados -> ",e.idCode,e.data),clearTimeout(MM.player.to_triton),MM.player.to_triton=setTimeout(function(){_manageError.apply(this,[e.idCode]),_manageStatError.apply(this,[e.idCode,e.data])},3e3));break;case emic.top.event.MediaEvent.ON_SWITCH_REQUEST:_uimodule.onSwitchRequest(e.data.index);break;case emic.top.event.MediaEvent.ON_SWITCH_COMPLETE:_uimodule.onSwitchComplete(e.data.index);break;case emic.top.event.MediaEvent.ON_SEEK_START:_statModule.onSeekInit();break;case emic.top.event.MediaEvent.ON_SEEK_COMPLETE:_data.mediaData.progressTime=parseInt(e.data.currentTime),_statModule.onSeekComplete();break;case emic.top.event.MediaEvent.ON_BUFFER_EMPTY:_uimodule.onBufferEmpty(),_showLoading.apply(this,[!0]);break;case emic.top.event.MediaEvent.ON_BUFFER_FULL:_uimodule.onBufferFull(),_showLoading.apply(this,[!1]);break;case emic.top.event.MediaEvent.ON_IS_LIVE_STREAM:_data.mediaData.isLiveActive=e.data;break;case emic.top.event.MediaEvent.ON_RENDITIONS:_uimodule.onRenditions(e.data)}},_onAdHandler=function(e){switch(e.type!=emic.top.event.AdEvent.ON_AD_PROGRESS&&emic.top.debug("[TopPlayer.js][_onAdHandler]>> ",{type:e.type,"ID Emisor:":e.idMedia}),e.type){case emic.top.event.AdEvent.ON_INIT_ERROR:case emic.top.event.AdEvent.ON_READY:_init_statmodule.apply(this);break;case emic.top.event.AdEvent.ON_NO_AD:_nextPosition.apply(this);break;case emic.top.event.AdEvent.ON_LOADING_AD_START:__that.publi_showed=!1;break;case emic.top.event.AdEvent.ON_AD_ERROR:setVar26(),_position==emic.top.TopPlayer.POSITION_MEDIA&&(_position=emic.top.TopPlayer.POSITION_AD_PREROLL),_statModule.onAdError(e.data),void 0!==_that.midroll?(document.getElementById(_data.internalData.skinContainer).style.display="block",document.getElementById(_data.internalData.skinContainer).style.visibility="visible",-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_hide(_data.adData.container):_hide(_data.adData.container),_mediaModule.play(),_mediaModule.seekLive(e.data)):_nextPosition.apply(this);break;case emic.top.event.AdEvent.ON_AD_POSITION_END:if(void 0!==_that.midroll)document.getElementById(_data.internalData.skinContainer).style.display="block",document.getElementById(_data.internalData.skinContainer).style.visibility="visible",-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_hide(_data.adData.container):_hide(_data.adData.container),_mediaModule.play(),_mediaModule.seekLive(e.data);else switch(e.data.position){case emic.top.AdModule.POSITION_PREROLL:case emic.top.AdModule.POSITION_POSTROLL:_nextPosition.apply(this)}break;case emic.top.event.AdEvent.ON_AD_INSTREAM_START:_statModule.onAdBegin(e.data);break;case emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE:_statModule.onAdPause(e.data);break;case emic.top.event.AdEvent.ON_AD_INSTREAM_END:_statModule.onAdComplete(e.data);break;case emic.top.event.AdEvent.ON_AD_VIDEO_START:__that.publi_showed=!0,setVar26(),checkReload(),_statModule.onAdBegin(e.data),playButton(e),_uimodule.onStatusChange(emic.top.AdModule.STATUS_PLAY),_showLoading.apply(this,[!1]);break;case emic.top.event.MediaEvent.ON_STATUS_CHANGE:if("object"==typeof e.data&&"object"==typeof e.data&&"string"==typeof e.data.status)switch(e.data.status){case"pause":_statModule.onVideoPause();break;case"play":_statModule.onVideoResume();break;case"onAdStart":_statModule.onAdBegin();break;case"onAdEnd":_statModule.onAdComplete()}break;case emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE:_uimodule.onStatusChange(emic.top.AdModule.STATUS_PAUSE);break;case emic.top.event.AdEvent.ON_AD_VIDEO_RESUME:_uimodule.onStatusChange(emic.top.AdModule.STATUS_PLAY);break;case emic.top.event.AdEvent.ON_AD_VIDEO_END:_statModule.onAdComplete(e.data),_uimodule.onStatusChange(emic.top.AdModule.STATUS_STOP);break;case emic.top.event.AdEvent.ON_AD_VIDEO_SKIP:_mediaModule.setStatus(""),_statModule.onAdSkip(e.data),_uimodule.onStatusChange(emic.top.AdModule.STATUS_STOP);break;case emic.top.event.AdEvent.ON_AD_PROGRESS:_uimodule.onProgress(e.data);break;case emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE:_uimodule.onVolumeChange(e.data.vol)}},_manageStatError=function(e,t){switch(emic.top.debug("[TopPlayer.js][]>> ",e),e){case emic.top.MediaModule.ERROR_STATION_NOT_FOUND:case emic.top.MediaModule.ERROR_LIVE_FAILED:case emic.top.MediaModule.ERROR_STREAM_GEO_BLOCKED:case emic.top.MediaModule.ERROR_TIMEOUT_ALERT:case emic.top.MediaModule.ERROR_TIMEOUT_REACH:case emic.top.MediaModule.ERROR_STREAM_CONFIG_ERROR:case emic.top.MediaModule.ERROR_STREAM_ERROR:case emic.top.MediaModule.ERROR_CONFIGURATION_ERROR:_statModule.onStreamError(t)}},_manageError=function(e){switch(emic.top.debug("[TopPlayer.js][_manageError]>> ",e),e){case emic.top.MediaModule.ERROR_NO_CONTAINER:case emic.top.MediaModule.ERROR_LIVE_FAILED:break;default:var t=new psd.media.InfoPanel;__that.reboot(),"undefined"!=typeof LANG&&(window.mm_lang=LANG),void 0===window.mm_lang&&(window.mm_lang="es");var i=new psd.media.Lang,a=i.translate(window.mm_lang,"no_disponible");null!=_data.mediaData.geo_location&&(a=i.translate(window.mm_lang,"geobloqueado")),t.onclick=function(e){e.innerHTML=""},t.paint(_data.internalData.skinContainer,a,!0)}},_createContainers=function(){var e,t,i,a;if(emic.top.debug("[TopPlayer.js][_createContainers]>> "),t=document.getElementById(_data.genericData.container)){if(!(e=document.getElementById(_data.genericData.container+"_base"))){if((e=document.createElement("div")).id=_data.genericData.container+"_base",e.setAttribute("data-id_player",_data.genericData.id_player),e.setAttribute("data-id_cuenta",_data.genericData.id_cuenta),e.setAttribute("data-id_media",_data.mediaData.idTOP),""!=_data.mediaData.ancho&&""!=_data.mediaData.alto){var n=100*_data.mediaData.alto/_data.mediaData.ancho;e.style.paddingTop=n+"%",e.className="commonmm_baseExpand"}else e.className="commonmm_baseExpand";t.appendChild(e)}""==_data.mediaData.ancho&&""==_data.mediaData.alto&&(_data.genericData.width||(_data.genericData.width=t.offsetWidth),_data.genericData.height||(_data.genericData.height=t.offsetHeight)),_data.mediaData.container||(_data.mediaData.container="MediaModule_"+_data.genericData.id),_data.uiData.container||(_data.uiData.container="UIModule_"+_data.genericData.id),_data.adData.container||(_data.adData.container="AdModule_"+_data.genericData.id),_data.internalData.previewContainer||(_data.internalData.previewContainer="UIPreview_"+_data.genericData.id),_data.internalData.skinContainer||(_data.internalData.skinContainer="UISkin_"+_data.genericData.id),(i=document.getElementById(_data.mediaData.container))||((i=document.createElement("div")).id=_data.mediaData.container,i.className="commonmm_sonExpand",e.appendChild(i)),-1!=_data.mediaData.mimetype.indexOf("video")?i.style.backgroundColor="black":i.style.backgroundColor="",(i=document.getElementById(_data.uiData.container))||((i=document.createElement("div")).id=_data.uiData.container,i.className="commonmm_sonExpand",e.appendChild(i)),(a=document.getElementById(_data.internalData.previewContainer))||((a=document.createElement("div")).id=_data.internalData.previewContainer,a.className="commonmm_sonExpand",i.appendChild(a)),_hide.apply(this,[_data.internalData.previewContainer]),(a=document.getElementById(_data.internalData.skinContainer))||((a=document.createElement("div")).id=_data.internalData.skinContainer,a.className="commonmm_sonExpand",i.appendChild(a)),_hide.apply(this,[_data.internalData.skinContainer]),(i=document.getElementById(_data.adData.container))||((i=document.createElement("div")).id=_data.adData.container,i.className="commonmm_sonExpand mm_ad_module",e.appendChild(i))}},_clearContainer=function(){var e=document.getElementById(_data.genericData.container);if(e)for(;e.firstChild;)e.removeChild(e.firstChild)},_nextPosition=function(){switch(_position){case emic.top.TopPlayer.POSITION_PREVIEW:_data.mediaData.vuelta<1?_data.mediaData.vuelta=_data.mediaData.vuelta+1:_data.mediaData.primerVideoPlayList=!1,null!=_data.mediaData.details&&void 0!==_data.mediaData.details.advertising&&0==_data.mediaData.details.advertising&&(_data.adData.enabled=!1,_data.adData.enabledYouTube=!1),_data.adData.enabled&&"undefined"!=typeof _advert?_changePosition.apply(this,[emic.top.TopPlayer.POSITION_AD_PREROLL]):_changePosition.apply(this,[emic.top.TopPlayer.POSITION_MEDIA]);break;case emic.top.TopPlayer.POSITION_AD_PREROLL:_changePosition.apply(this,[emic.top.TopPlayer.POSITION_MEDIA]);break;case emic.top.TopPlayer.POSITION_MEDIA:_data.adData.enabled&&!publiError&&"undefined"!=typeof _advert?_data.mediaData.isPlaylist?_changePosition.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW]):_changePosition.apply(this,[emic.top.TopPlayer.POSITION_AD_POSTROLL]):_changePosition.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW]);break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:_changePosition.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])}},_changePosition=function(e){emic.top.debug("[TopPlayer.js][_changePosition]>> ",e);var t=_position;switch(_position=e,_data.internalData.position=_position,_uimodule.clear(),e){case emic.top.TopPlayer.POSITION_PREVIEW:_data.uiData.showPreview?(_show(_data.internalData.previewContainer),_hide(_data.internalData.skinContainer)):(_hide(_data.internalData.previewContainer),_data.uiData.overrideNativeControls||_mediaModule.start(),_data.internalData.controllerName!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE||_data.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE&&_data.uiData.overrideNativeControls?_show(_data.internalData.skinContainer):_hide(_data.internalData.skinContainer),_show(_data.mediaData.container)),_showLoading.apply(this,[!1]),-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_hide(_data.adData.container):_hide(_data.adData.container);break;case emic.top.TopPlayer.POSITION_AD_PREROLL:_hide(_data.internalData.previewContainer),_data.uiData.showSkinInAds?_show(_data.internalData.skinContainer):_hide(_data.internalData.skinContainer),-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_show(_data.adData.container):_show(_data.adData.container),getDevice().mobile&&_mediaModule.preLoadContent(),_showLoading.apply(this,[!0]),"undefined"!=typeof _advert?_adModule.notificaEstadoOn(emic.top.AdModule.POSITION_PREROLL):(publiError=!0,_nextPosition.apply(this));break;case emic.top.TopPlayer.POSITION_MEDIA:_hide(_data.internalData.previewContainer),_data.internalData.controllerName!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE||_data.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE&&_data.uiData.overrideNativeControls?_show(_data.internalData.skinContainer):_hide(_data.internalData.skinContainer),-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_hide(_data.adData.container):_hide(_data.adData.container),_uimodule.clear(),_showLoading.apply(this,[!0]),_mediaModule.start();break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:_hide(_data.internalData.previewContainer),_hide(_data.mediaData.container),_data.uiData.showSkinInAds?_show(_data.internalData.skinContainer):_hide(_data.internalData.skinContainer),-1<getDevice().agent.toLowerCase().indexOf("iphone")||-1<getDevice().agent.toLowerCase().indexOf("ipad")?move_show(_data.adData.container):_show(_data.adData.container),_showLoading.apply(this,[!0]),"undefined"!=typeof _advert?_data.mediaData.isPlaylist||_adModule.notificaEstadoOn(emic.top.AdModule.POSITION_POSTROLL):(publiError=!0,_nextPosition.apply(this))}var i=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_POSITION_CHANGE);i.data={id:_data.genericData.id,idMedia:_data.mediaData.idTOP,position:_position,lastPosition:t},this.dispatchEvent(i),_uimodule.onPositionChange(e)};this.reboot=function(){this.isReboot=!0,"object"==typeof _statModule&&"function"==typeof _statModule.onVideoPause&&_statModule.onVideoPause(),publiError?_position=emic.top.TopPlayer.POSITION_MEDIA:_data.mediaData.isPlaylist||(_position=emic.top.TopPlayer.POSITION_AD_POSTROLL),_data.mediaData.autoplay=!1,_data.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_YT?_mediaModule.stop():(_mediaModule.stop(),_mediaModule.reset()),_uimodule.reset(),_adModule.close(),_changePosition.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])},this.play=function(){_adModule.resume(),_mediaModule.play()},this.pause=function(){_adModule.pause(),_mediaModule.pause()};var _showLoading=function(e){emic.top.debug("[TopPlayer.js][_showLoading]>> ",e);var t=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_LOADING);t.data={id:_data.genericData.id,idMedia:_data.mediaData.id,value:e},this.dispatchEvent(t),_isLoading=e,_uimodule.showLoading(e)},_show=function(e){var t;(t=document.getElementById(e))&&(t.style.visibility="")},_hide=function(e){var t;(t=document.getElementById(e))&&(t.style.visibility="hidden")},move_hide=function(e){var t;(t=document.getElementById(e))&&(t.style.top="-10000000px",t.style.left="-10000000px")},move_show=function(e){var t;(t=document.getElementById(e))&&(t.style.top=0,t.style.left=0,t.style.visibility="")};this.setRatio=function(e,t,i){if(null!=_uimodule&&_uimodule.setRatio(e,t),i){var a=window.onresize;window.onresize=function(){null!=a&&a(),_uimodule.setRatio(e,t)}}};var setVar26=function(){var e="";_data.mediaData.primerVideoPlayList?(e=1==_data.mediaData.autoplay&&0==_data.mediaData.clickPlayList&&0==_data.mediaData.cover?"autoplay":"organico","secuencial"==_data.mediaData.organic&&(e="secuencial")):1==_data.mediaData.autoNext&&0==_data.mediaData.clickPlayList?e="secuencial":1==_data.mediaData.autoplay&&_data.mediaData.primerVideoPlayList?e="secuencial":(e="organico","secuencial"!=_data.mediaData.preorganic&&"organico"!=_data.mediaData.preorganic||(e=_data.mediaData.preorganic,_data.mediaData.preorganic="secuencial")),_data.mediaData.organic=e};this.createPlayerView=function(e,t){_uimodule.createPlayerView(e,t)},this.createPlayerViewReset=function(e){_uimodule.createPlayerViewReset(e.getMediaPlayer().getLauncher())},_init.apply(this)}this.flag_autoplay=!1,namespace.TopPlayer=TopPlayer}(emic.top));